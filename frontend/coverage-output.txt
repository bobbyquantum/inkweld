npm warn Unknown cli config "--reporter". This will stop working in the next major version of npm.

> inkweld-frontend@0.1.0 test
> ng test --watch=false

[33mâ¯[39m Building...
[32mâœ”[39m Building...
[1mInitial chunk files[22m                         [2m | [22m[1mNames[22m                                    [2m | [22m [1mRaw size[22m
[32mchunk-RENDKTCW.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m[36m141.76 kB[39m[2m | [22m
[32mstyles.css[39m                                  [2m | [22m[2mstyles[22m                                   [2m | [22m[36m126.99 kB[39m[2m | [22m
[32mchunk-MS375DPR.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m[36m107.41 kB[39m[2m | [22m
[32mchunk-BCO3WLH2.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m [36m98.28 kB[39m[2m | [22m
[32mspec-project.component.js[39m                   [2m | [22m[2mspec-project.component[22m                   [2m | [22m [36m80.05 kB[39m[2m | [22m
[32mspec-home.component.js[39m                      [2m | [22m[2mspec-home.component[22m                      [2m | [22m [36m73.29 kB[39m[2m | [22m
[32mspec-publish-plan-tab.component.js[39m          [2m | [22m[2mspec-publish-plan-tab.component[22m          [2m | [22m [36m72.12 kB[39m[2m | [22m
[32mspec-register.component.js[39m                  [2m | [22m[2mspec-register.component[22m                  [2m | [22m [36m68.68 kB[39m[2m | [22m
[32mspec-templates-tab.component.js[39m             [2m | [22m[2mspec-templates-tab.component[22m             [2m | [22m [36m59.41 kB[39m[2m | [22m
[32mspec-setup.component.js[39m                     [2m | [22m[2mspec-setup.component[22m                     [2m | [22m [36m55.14 kB[39m[2m | [22m
[32mchunk-B4IVTIOQ.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m [36m52.78 kB[39m[2m | [22m
[32mspec-bookshelf.component.js[39m                 [2m | [22m[2mspec-bookshelf.component[22m                 [2m | [22m [36m50.83 kB[39m[2m | [22m
[32mspec-home-tab.component.js[39m                  [2m | [22m[2mspec-home-tab.component[22m                  [2m | [22m [36m49.45 kB[39m[2m | [22m
[32mchunk-VEKTIHVJ.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m [36m46.33 kB[39m[2m | [22m
[32mspec-user-profile.component.js[39m              [2m | [22m[2mspec-user-profile.component[22m              [2m | [22m [36m41.09 kB[39m[2m | [22m
[32mchunk-NL7LHXQU.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m [36m39.98 kB[39m[2m | [22m
[32mspec-html-generator.service.js[39m              [2m | [22m[2mspec-html-generator.service[22m              [2m | [22m [36m39.28 kB[39m[2m | [22m
[32mchunk-4MMHT3B2.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m [36m38.23 kB[39m[2m | [22m
[32mspec-sync-settings.component.js[39m             [2m | [22m[2mspec-sync-settings.component[22m             [2m | [22m [36m37.00 kB[39m[2m | [22m
[32mspec-publishing-progress-dialog.component.js[39m[2m | [22m[2mspec-publishing-progress-dialog.component[22m[2m | [22m [36m36.65 kB[39m[2m | [22m
[32mchunk-DVR5P3DH.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m [36m35.71 kB[39m[2m | [22m
[32mspec-markdown-generator.service.js[39m          [2m | [22m[2mspec-markdown-generator.service[22m          [2m | [22m [36m34.66 kB[39m[2m | [22m
[32mspec-documents-list-tab.component.js[39m        [2m | [22m[2mspec-documents-list-tab.component[22m        [2m | [22m [36m31.75 kB[39m[2m | [22m
[32mchunk-OHNWO3NO.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m [36m29.59 kB[39m[2m | [22m
[32mspec-welcome.component.js[39m                   [2m | [22m[2mspec-welcome.component[22m                   [2m | [22m [36m29.55 kB[39m[2m | [22m
[32mchunk-EHB4JHQ2.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m [36m29.05 kB[39m[2m | [22m
[32mspec-epub-generator.service.js[39m              [2m | [22m[2mspec-epub-generator.service[22m              [2m | [22m [36m28.97 kB[39m[2m | [22m
[32mchunk-PQCUUAVH.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m [36m28.36 kB[39m[2m | [22m
[32mchunk-LE4ERX2Q.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m [36m26.90 kB[39m[2m | [22m
[32mspec-pdf-generator.service.js[39m               [2m | [22m[2mspec-pdf-generator.service[22m               [2m | [22m [36m26.48 kB[39m[2m | [22m
[32mspec-create-project.component.js[39m            [2m | [22m[2mspec-create-project.component[22m            [2m | [22m [36m25.96 kB[39m[2m | [22m
[32mspec-project.service.js[39m                     [2m | [22m[2mspec-project.service[22m                     [2m | [22m [36m25.78 kB[39m[2m | [22m
[32mchunk-AJT4LULK.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m [36m25.33 kB[39m[2m | [22m
[32mspec-project-files-tab.component.js[39m         [2m | [22m[2mspec-project-files-tab.component[22m         [2m | [22m [36m23.65 kB[39m[2m | [22m
[32mchunk-QX6BATIY.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m [36m22.48 kB[39m[2m | [22m
[32mchunk-42LLFECH.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m [36m19.96 kB[39m[2m | [22m
[32mspec-project-state.service.js[39m               [2m | [22m[2mspec-project-state.service[22m               [2m | [22m [36m19.68 kB[39m[2m | [22m
[32mspec-edit-project-dialog.component.js[39m       [2m | [22m[2mspec-edit-project-dialog.component[22m       [2m | [22m [36m19.18 kB[39m[2m | [22m
[32mchunk-Z3OUSZFT.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m [36m18.49 kB[39m[2m | [22m
[32mspec-worldbuilding-tab.component.js[39m         [2m | [22m[2mspec-worldbuilding-tab.component[22m         [2m | [22m [36m17.75 kB[39m[2m | [22m
[32mchunk-WFMZFKBD.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m [36m17.34 kB[39m[2m | [22m
[32mspec-worldbuilding.service.js[39m               [2m | [22m[2mspec-worldbuilding.service[22m               [2m | [22m [36m17.26 kB[39m[2m | [22m
[32mspec-project-tree.component.js[39m              [2m | [22m[2mspec-project-tree.component[22m              [2m | [22m [36m17.07 kB[39m[2m | [22m
[32mspec-approval-pending.component.js[39m          [2m | [22m[2mspec-approval-pending.component[22m          [2m | [22m [36m17.05 kB[39m[2m | [22m
[32mspec-project-import-export.service.js[39m       [2m | [22m[2mspec-project-import-export.service[22m       [2m | [22m [36m16.88 kB[39m[2m | [22m
[32mspec-user-settings-dialog.component.js[39m      [2m | [22m[2mspec-user-settings-dialog.component[22m      [2m | [22m [36m16.48 kB[39m[2m | [22m
[32mspec-app.component.js[39m                       [2m | [22m[2mspec-app.component[22m                       [2m | [22m [36m16.37 kB[39m[2m | [22m
[32mspec-connection-settings.component.js[39m       [2m | [22m[2mspec-connection-settings.component[22m       [2m | [22m [36m16.24 kB[39m[2m | [22m
[32mchunk-ZOJ4P4LV.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m [36m15.96 kB[39m[2m | [22m
[32mspec-reset.component.js[39m                     [2m | [22m[2mspec-reset.component[22m                     [2m | [22m [36m15.82 kB[39m[2m | [22m
[32mspec-offline-project.service.js[39m             [2m | [22m[2mspec-offline-project.service[22m             [2m | [22m [36m15.70 kB[39m[2m | [22m
[32mspec-element-tree.service.js[39m                [2m | [22m[2mspec-element-tree.service[22m                [2m | [22m [36m15.53 kB[39m[2m | [22m
[32mchunk-UNA3TTXN.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m [36m15.41 kB[39m[2m | [22m
[32mchunk-KO2PU3HD.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m [36m15.03 kB[39m[2m | [22m
[32mchunk-GHKQG3WB.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m [36m14.93 kB[39m[2m | [22m
[32mchunk-ULUXO4VV.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m [36m14.84 kB[39m[2m | [22m
[32mspec-migration.service.js[39m                   [2m | [22m[2mspec-migration.service[22m                   [2m | [22m [36m14.81 kB[39m[2m | [22m
[32mspec-document.service.js[39m                    [2m | [22m[2mspec-document.service[22m                    [2m | [22m [36m14.80 kB[39m[2m | [22m
[32mspec-worldbuilding-editor.component.js[39m      [2m | [22m[2mspec-worldbuilding-editor.component[22m      [2m | [22m [36m14.51 kB[39m[2m | [22m
[32mchunk-72ZFPOAF.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m [36m14.40 kB[39m[2m | [22m
[32mspec-system-config.service.js[39m               [2m | [22m[2mspec-system-config.service[22m               [2m | [22m [36m13.66 kB[39m[2m | [22m
[32mchunk-TOWJCUEF.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m [36m13.37 kB[39m[2m | [22m
[32mspec-user.service.js[39m                        [2m | [22m[2mspec-user.service[22m                        [2m | [22m [36m13.07 kB[39m[2m | [22m
[32mchunk-6MFCHQC7.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m [36m12.98 kB[39m[2m | [22m
[32mspec-lint-floating-menu.component.js[39m        [2m | [22m[2mspec-lint-floating-menu.component[22m        [2m | [22m [36m12.96 kB[39m[2m | [22m
[32mchunk-U5B3EC73.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m [36m12.85 kB[39m[2m | [22m
[32mspec-template-editor-dialog.component.js[39m    [2m | [22m[2mspec-template-editor-dialog.component[22m    [2m | [22m [36m12.77 kB[39m[2m | [22m
[32mspec-offline-project-elements.service.js[39m    [2m | [22m[2mspec-offline-project-elements.service[22m    [2m | [22m [36m12.59 kB[39m[2m | [22m
[32mspec-tab-manager.service.js[39m                 [2m | [22m[2mspec-tab-manager.service[22m                 [2m | [22m [36m12.47 kB[39m[2m | [22m
[32mchunk-HIG6VJZL.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m [36m12.27 kB[39m[2m | [22m
[32mspec-setup.service.js[39m                       [2m | [22m[2mspec-setup.service[22m                       [2m | [22m [36m12.24 kB[39m[2m | [22m
[32mspec-project-sync.service-2.js[39m              [2m | [22m[2mspec-project-sync.service-2[22m              [2m | [22m [36m12.03 kB[39m[2m | [22m
[32mspec-new-element-dialog.component.js[39m        [2m | [22m[2mspec-new-element-dialog.component[22m        [2m | [22m [36m11.94 kB[39m[2m | [22m
[32mspec-folder-tab.component.js[39m                [2m | [22m[2mspec-folder-tab.component[22m                [2m | [22m [36m11.77 kB[39m[2m | [22m
[32mchunk-22GN7NIZ.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m [36m11.76 kB[39m[2m | [22m
[32mspec-tab-interface.component.js[39m             [2m | [22m[2mspec-tab-interface.component[22m             [2m | [22m [36m11.54 kB[39m[2m | [22m
[32mspec-snapshot-panel.component.js[39m            [2m | [22m[2mspec-snapshot-panel.component[22m            [2m | [22m [36m11.45 kB[39m[2m | [22m
[32mchunk-WZ7QWW37.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m [36m11.21 kB[39m[2m | [22m
[32mspec-csrf.interceptor.js[39m                    [2m | [22m[2mspec-csrf.interceptor[22m                    [2m | [22m [36m11.06 kB[39m[2m | [22m
[32mspec-unified-project.service.js[39m             [2m | [22m[2mspec-unified-project.service[22m             [2m | [22m [36m11.03 kB[39m[2m | [22m
[32mspec-offline-storage.service.js[39m             [2m | [22m[2mspec-offline-storage.service[22m             [2m | [22m [36m10.97 kB[39m[2m | [22m
[32mspec-document-tab.component.js[39m              [2m | [22m[2mspec-document-tab.component[22m              [2m | [22m [36m10.85 kB[39m[2m | [22m
[32mspec-lint-overlay.component.js[39m              [2m | [22m[2mspec-lint-overlay.component[22m              [2m | [22m [36m10.84 kB[39m[2m | [22m
[32mchunk-2VIDXMRA.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m [36m10.77 kB[39m[2m | [22m
[32mspec-publish.service.js[39m                     [2m | [22m[2mspec-publish.service[22m                     [2m | [22m [36m10.66 kB[39m[2m | [22m
[32mspec-project-cover.component.js[39m             [2m | [22m[2mspec-project-cover.component[22m             [2m | [22m [36m10.55 kB[39m[2m | [22m
[32mchunk-6WRDX5DF.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m [36m10.52 kB[39m[2m | [22m
[32mchunk-GTIAW7YW.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m [36m10.47 kB[39m[2m | [22m
[32mspec-custom-route-reuse-strategy.js[39m         [2m | [22m[2mspec-custom-route-reuse-strategy[22m         [2m | [22m [36m10.02 kB[39m[2m | [22m
[32mchunk-24KQ227M.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m  [36m9.84 kB[39m[2m | [22m
[32mspec-project-file.service.js[39m                [2m | [22m[2mspec-project-file.service[22m                [2m | [22m  [36m9.68 kB[39m[2m | [22m
[32mchunk-JCJM7JHE.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m  [36m9.54 kB[39m[2m | [22m
[32mchunk-3XCNNQJX.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m  [36m9.28 kB[39m[2m | [22m
[32mspec-publish-plan.service.js[39m                [2m | [22m[2mspec-publish-plan.service[22m                [2m | [22m  [36m8.82 kB[39m[2m | [22m
[32mspec-document-element-editor.component.js[39m   [2m | [22m[2mspec-document-element-editor.component[22m   [2m | [22m  [36m8.77 kB[39m[2m | [22m
[32mchunk-I2EVO2IQ.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m  [36m8.61 kB[39m[2m | [22m
[32mchunk-BCQHTHEF.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m  [36m8.53 kB[39m[2m | [22m
[32mspec-unified-user.service.js[39m                [2m | [22m[2mspec-unified-user.service[22m                [2m | [22m  [36m8.44 kB[39m[2m | [22m
[32mspec-project-sync.service.js[39m                [2m | [22m[2mspec-project-sync.service[22m                [2m | [22m  [36m8.34 kB[39m[2m | [22m
[32mspec-side-nav.component.js[39m                  [2m | [22m[2mspec-side-nav.component[22m                  [2m | [22m  [36m7.59 kB[39m[2m | [22m
[32mspec-auth.interceptor.js[39m                    [2m | [22m[2mspec-auth.interceptor[22m                    [2m | [22m  [36m7.50 kB[39m[2m | [22m
[32mspec-folder-element-editor.component.js[39m     [2m | [22m[2mspec-folder-element-editor.component[22m     [2m | [22m  [36m7.44 kB[39m[2m | [22m
[32mspec-dialog-gateway.service.js[39m              [2m | [22m[2mspec-dialog-gateway.service[22m              [2m | [22m  [36m7.33 kB[39m[2m | [22m
[32mspec-document-snapshot.service.js[39m           [2m | [22m[2mspec-document-snapshot.service[22m           [2m | [22m  [36m7.13 kB[39m[2m | [22m
[32mspec-default-templates.service.js[39m           [2m | [22m[2mspec-default-templates.service[22m           [2m | [22m  [36m7.10 kB[39m[2m | [22m
[32mspec-auth-token.interceptor.js[39m              [2m | [22m[2mspec-auth-token.interceptor[22m              [2m | [22m  [36m7.05 kB[39m[2m | [22m
[32mspec-auth.guard.js[39m                          [2m | [22m[2mspec-auth.guard[22m                          [2m | [22m  [36m6.88 kB[39m[2m | [22m
[32mchunk-IHOVIBMR.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m  [36m6.79 kB[39m[2m | [22m
[32mchunk-OM6AIR5L.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m  [36m6.66 kB[39m[2m | [22m
[32mchunk-7AIC7NIH.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m  [36m6.62 kB[39m[2m | [22m
[32mspec-edit-avatar-dialog.component.js[39m        [2m | [22m[2mspec-edit-avatar-dialog.component[22m        [2m | [22m  [36m6.47 kB[39m[2m | [22m
[32mchunk-XNAQ6FJC.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m  [36m6.47 kB[39m[2m | [22m
[32mspec-generate-cover-dialog.component.js[39m     [2m | [22m[2mspec-generate-cover-dialog.component[22m     [2m | [22m  [36m6.07 kB[39m[2m | [22m
[32mspec-offline-element-sync.provider.js[39m       [2m | [22m[2mspec-offline-element-sync.provider[22m       [2m | [22m  [36m6.05 kB[39m[2m | [22m
[32mchunk-XUQLC4EV.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m  [36m6.05 kB[39m[2m | [22m
[32mspec-xsrf.service.js[39m                        [2m | [22m[2mspec-xsrf.service[22m                        [2m | [22m  [36m5.93 kB[39m[2m | [22m
[32mspec-offline-user.service.js[39m                [2m | [22m[2mspec-offline-user.service[22m                [2m | [22m  [36m5.79 kB[39m[2m | [22m
[32mchunk-UYSW5F2L.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m  [36m5.62 kB[39m[2m | [22m
[32mchunk-7IIW64ME.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m  [36m5.44 kB[39m[2m | [22m
[32mspec-theme.service.js[39m                       [2m | [22m[2mspec-theme.service[22m                       [2m | [22m  [36m5.42 kB[39m[2m | [22m
[32mspec-oauth-provider-list.component.js[39m       [2m | [22m[2mspec-oauth-provider-list.component[22m       [2m | [22m  [36m5.36 kB[39m[2m | [22m
[32mspec-user-avatar.component.js[39m               [2m | [22m[2mspec-user-avatar.component[22m               [2m | [22m  [36m5.35 kB[39m[2m | [22m
[32mspec-lint-plugin.js[39m                         [2m | [22m[2mspec-lint-plugin[22m                         [2m | [22m  [36m5.27 kB[39m[2m | [22m
[32mspec-recent-files.service.js[39m                [2m | [22m[2mspec-recent-files.service[22m                [2m | [22m  [36m5.22 kB[39m[2m | [22m
[32mspec-user-menu.component.js[39m                 [2m | [22m[2mspec-user-menu.component[22m                 [2m | [22m  [36m5.19 kB[39m[2m | [22m
[32mspec-file-list.component.js[39m                 [2m | [22m[2mspec-file-list.component[22m                 [2m | [22m  [36m5.13 kB[39m[2m | [22m
[32mchunk-2G4E2D5V.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m  [36m4.93 kB[39m[2m | [22m
[32mspec-create-snapshot-dialog.component.js[39m    [2m | [22m[2mspec-create-snapshot-dialog.component[22m    [2m | [22m  [36m4.75 kB[39m[2m | [22m
[32mchunk-A44TLS2P.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m  [36m4.74 kB[39m[2m | [22m
[32mchunk-3MGWJJHA.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m  [36m4.71 kB[39m[2m | [22m
[32mspec-file-upload.component.js[39m               [2m | [22m[2mspec-file-upload.component[22m               [2m | [22m  [36m4.55 kB[39m[2m | [22m
[32mchunk-QQV3FZVZ.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m  [36m4.54 kB[39m[2m | [22m
[32mspec-lint-storage.service.js[39m                [2m | [22m[2mspec-lint-storage.service[22m                [2m | [22m  [36m4.50 kB[39m[2m | [22m
[32mchunk-WQ2CGXHH.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m  [36m4.40 kB[39m[2m | [22m
[32mchunk-D2D2L7CX.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m  [36m4.39 kB[39m[2m | [22m
[32mspec-unavailable.component.js[39m               [2m | [22m[2mspec-unavailable.component[22m               [2m | [22m  [36m4.34 kB[39m[2m | [22m
[32mspec-not-found.component.js[39m                 [2m | [22m[2mspec-not-found.component[22m                 [2m | [22m  [36m4.22 kB[39m[2m | [22m
[32mspec-project-settings.component.js[39m          [2m | [22m[2mspec-project-settings.component[22m          [2m | [22m  [36m4.22 kB[39m[2m | [22m
[32mchunk-UJYCJIMI.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m  [36m4.20 kB[39m[2m | [22m
[32mchunk-3JXOGUNV.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m  [36m4.19 kB[39m[2m | [22m
[32mchunk-HLUUSLZA.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m  [36m4.11 kB[39m[2m | [22m
[32mspec-lint-api.service.js[39m                    [2m | [22m[2mspec-lint-api.service[22m                    [2m | [22m  [36m3.91 kB[39m[2m | [22m
[32mchunk-ZL5POF5L.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m  [36m3.64 kB[39m[2m | [22m
[32mchunk-JFACLW27.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m  [36m3.63 kB[39m[2m | [22m
[32mchunk-5HHVVFXP.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m  [36m3.63 kB[39m[2m | [22m
[32mchunk-T4RRK4OF.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m  [36m3.61 kB[39m[2m | [22m
[32mspec-restore-snapshot-dialog.component.js[39m   [2m | [22m[2mspec-restore-snapshot-dialog.component[22m   [2m | [22m  [36m3.58 kB[39m[2m | [22m
[32mspec-settings.service.js[39m                    [2m | [22m[2mspec-settings.service[22m                    [2m | [22m  [36m3.53 kB[39m[2m | [22m
[32mspec-file-upload.js[39m                         [2m | [22m[2mspec-file-upload[22m                         [2m | [22m  [36m3.53 kB[39m[2m | [22m
[32mchunk-R2IGVUAU.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m  [36m3.44 kB[39m[2m | [22m
[32mspec-storage.service.js[39m                     [2m | [22m[2mspec-storage.service[22m                     [2m | [22m  [36m3.38 kB[39m[2m | [22m
[32mchunk-YNXFYKNS.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m  [36m3.34 kB[39m[2m | [22m
[32mchunk-IM2VRSWA.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m  [36m3.27 kB[39m[2m | [22m
[32mchunk-KPFOS3GB.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m  [36m3.25 kB[39m[2m | [22m
[32mchunk-BFO22D24.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m  [36m3.23 kB[39m[2m | [22m
[32mspec-auth-token.service.js[39m                  [2m | [22m[2mspec-auth-token.service[22m                  [2m | [22m  [36m3.13 kB[39m[2m | [22m
[32mchunk-WHB5NCJ4.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m  [36m3.12 kB[39m[2m | [22m
[32mspec-tree-node-icon.component.js[39m            [2m | [22m[2mspec-tree-node-icon.component[22m            [2m | [22m  [36m3.00 kB[39m[2m | [22m
[32mspec-project-tree-settings.component.js[39m     [2m | [22m[2mspec-project-tree-settings.component[22m     [2m | [22m  [36m2.78 kB[39m[2m | [22m
[32mspec-element-sync-provider.factory.js[39m       [2m | [22m[2mspec-element-sync-provider.factory[22m       [2m | [22m  [36m2.75 kB[39m[2m | [22m
[32mspec-rename-dialog.component.js[39m             [2m | [22m[2mspec-rename-dialog.component[22m             [2m | [22m  [36m2.73 kB[39m[2m | [22m
[32mchunk-VHQ6XKCC.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m  [36m2.52 kB[39m[2m | [22m
[32mspec-general-settings.component.js[39m          [2m | [22m[2mspec-general-settings.component[22m          [2m | [22m  [36m2.37 kB[39m[2m | [22m
[32mchunk-WDEBRJEM.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m  [36m2.36 kB[39m[2m | [22m
[32mspec-logger.service.js[39m                      [2m | [22m[2mspec-logger.service[22m                      [2m | [22m  [36m2.24 kB[39m[2m | [22m
[32mspec-confirmation-dialog.component.js[39m       [2m | [22m[2mspec-confirmation-dialog.component[22m       [2m | [22m  [36m2.08 kB[39m[2m | [22m
[32mspec-worldbuilding.utils.js[39m                 [2m | [22m[2mspec-worldbuilding.utils[22m                 [2m | [22m  [36m1.99 kB[39m[2m | [22m
[32mchunk-OCM4B2KV.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m  [36m1.99 kB[39m[2m | [22m
[32mspec-can-deactivate-project.guard.js[39m        [2m | [22m[2mspec-can-deactivate-project.guard[22m        [2m | [22m  [36m1.94 kB[39m[2m | [22m
[32mspec-image-viewer-dialog.component.js[39m       [2m | [22m[2mspec-image-viewer-dialog.component[22m       [2m | [22m  [36m1.78 kB[39m[2m | [22m
[32mchunk-QLKBYQGX.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m  [36m1.51 kB[39m[2m | [22m
[32mchunk-VUV2DLAZ.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m  [36m1.25 kB[39m[2m | [22m
[32minit-testbed.js[39m                             [2m | [22m[2minit-testbed[22m                             [2m | [22m  [36m1.20 kB[39m[2m | [22m
[32mspec-file-size.pipe.js[39m                      [2m | [22m[2mspec-file-size.pipe[22m                      [2m | [22m[36m969 bytes[39m[2m | [22m
[32mchunk-EP4NYFYQ.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m[36m953 bytes[39m[2m | [22m
[32mchunk-M4S6D2NG.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m[36m606 bytes[39m[2m | [22m
[32mspec-project-card.component.js[39m              [2m | [22m[2mspec-project-card.component[22m              [2m | [22m[36m515 bytes[39m[2m | [22m
[32mchunk-ZSFKHUOK.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m[36m480 bytes[39m[2m | [22m
[32mspec-document-tab-minimal.js[39m                [2m | [22m[2mspec-document-tab-minimal[22m                [2m | [22m[36m287 bytes[39m[2m | [22m
[32mspec-document-tab-test.js[39m                   [2m | [22m[2mspec-document-tab-test[22m                   [2m | [22m[36m278 bytes[39m[2m | [22m
[32mchunk-ELJ3YOAT.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m[36m238 bytes[39m[2m | [22m
[32mchunk-LFC6ERUI.js[39m                           [2m | [22m[2m-[22m                                        [2m | [22m[36m216 bytes[39m[2m | [22m

[1m [22m                                           [2m | [22m[1mInitial total[22m                            [2m | [22m  [1m2.91 MB[22m

[1mLazy chunk files[22m                            [2m | [22m[1mNames[22m                                    [2m | [22m [1mRaw size[22m
[32mchunk-XNA7XBQN.js[39m                           [2m | [22m[2menvironment[22m                              [2m | [22m[36m152 bytes[39m[2m | [22m

Application bundle generation complete. [7.020 seconds] - 2025-12-03T01:05:37.190Z


[1m[46m RUN [49m[22m [36mv4.0.13 [39m[90mD:/dev/inkweld/frontend[39m
      [2mCoverage enabled with [22m[33mv8[39m

[90mstdout[2m | src/app/pages/setup/setup.component.spec.ts[2m > [22m[2mSetupComponent[2m > [22m[2mngOnInit[2m > [22m[2mshould not load system config if no server is configured
[22m[39mNo server configured yet, using default setup options

stderr | src/app/pages/project/tabs/templates/templates-tab.component.spec.ts > TemplatesTabComponent > loadTemplates > should handle empty schemas
[TemplatesTab] No schemas found in library

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/dialogs/create-snapshot-dialog/create-snapshot-dialog.component.spec.ts [2m([22m[2m13 tests[22m[2m)[22m[33m 3282[2mms[22m[39m
     [33m[2mâœ“[22m[39m should create [33m 649[2mms[22m[39m
       [33m[2mâœ“[22m[39m should trim whitespace from name [33m 407[2mms[22m[39m
       [33m[2mâœ“[22m[39m should handle undefined word count [33m 401[2mms[22m[39m
stderr | src/app/pages/project/tabs/templates/templates-tab.component.spec.ts > TemplatesTabComponent > loadDefaultTemplates > should load default templates successfully
[TemplatesTab] No schemas found in library

stderr | src/app/pages/project/tabs/templates/templates-tab.component.spec.ts > TemplatesTabComponent > loadDefaultTemplates > should load default templates successfully
[TemplatesTab] No schemas found in library

[90mstdout[2m | src/app/dialogs/edit-project-dialog/edit-project-dialog.component.spec.ts[2m > [22m[2mEditProjectDialogComponent[2m > [22m[2mshould create
[22m[39mdialogData:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}
Project:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}

[90mstdout[2m | src/app/dialogs/user-settings-dialog/tabs/connection-settings/connection-settings.component.spec.ts[2m > [22m[2mConnectionSettingsComponent[2m > [22m[2mauthenticate[2m > [22m[2mshould show error when username is empty
[22m[39m[Migration] authenticate() called

[90mstdout[2m | src/app/dialogs/user-settings-dialog/tabs/connection-settings/connection-settings.component.spec.ts[2m > [22m[2mConnectionSettingsComponent[2m > [22m[2mauthenticate[2m > [22m[2mshould show error when password is empty
[22m[39m[Migration] authenticate() called

stderr | src/app/pages/project/tabs/templates/templates-tab.component.spec.ts > TemplatesTabComponent > cloneTemplate > should clone a template successfully
[TemplatesTab] No schemas found in library

stderr | src/app/pages/project/tabs/templates/templates-tab.component.spec.ts > TemplatesTabComponent > cloneTemplate > should clone a template successfully
[TemplatesTab] No schemas found in library

[90mstdout[2m | src/app/dialogs/edit-project-dialog/edit-project-dialog.component.spec.ts[2m > [22m[2mEditProjectDialogComponent[2m > [22m[2mshould initialize form with project data
[22m[39mdialogData:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}
Project:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}

[90mstdout[2m | src/app/dialogs/user-settings-dialog/tabs/connection-settings/connection-settings.component.spec.ts[2m > [22m[2mConnectionSettingsComponent[2m > [22m[2mauthenticate[2m > [22m[2mshould show error when passwords do not match in register mode
[22m[39m[Migration] authenticate() called

[90mstdout[2m | src/app/dialogs/edit-project-dialog/edit-project-dialog.component.spec.ts[2m > [22m[2mEditProjectDialogComponent[2m > [22m[2monCancel[2m > [22m[2mshould close the dialog without returning data
[22m[39mdialogData:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}
Project:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}

[90mstdout[2m | src/app/dialogs/user-settings-dialog/tabs/connection-settings/connection-settings.component.spec.ts[2m > [22m[2mConnectionSettingsComponent[2m > [22m[2mauthenticate[2m > [22m[2mshould call registerOnServer when in register mode
[22m[39m[Migration] authenticate() called
[Migration] Starting authentication, mode: register
[Migration] Before configureServerMode, current mode: offline

[90mstdout[2m | src/app/dialogs/user-settings-dialog/tabs/connection-settings/connection-settings.component.spec.ts[2m > [22m[2mConnectionSettingsComponent[2m > [22m[2mauthenticate[2m > [22m[2mshould call registerOnServer when in register mode
[22m[39m[Migration] After configureServerMode, new mode: offline
[Migration] localStorage inkweld-app-config: [1mnull[22m

[90mstdout[2m | src/app/dialogs/user-settings-dialog/tabs/connection-settings/connection-settings.component.spec.ts[2m > [22m[2mConnectionSettingsComponent[2m > [22m[2mauthenticate[2m > [22m[2mshould call registerOnServer when in register mode
[22m[39m[Migration] After auth, token in localStorage: MISSING

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/pages/setup/setup.component.spec.ts [2m([22m[2m34 tests[22m[2m)[22m[33m 3407[2mms[22m[39m
     [33m[2mâœ“[22m[39m should create [33m 451[2mms[22m[39m
[90mstdout[2m | src/app/dialogs/user-settings-dialog/tabs/connection-settings/connection-settings.component.spec.ts[2m > [22m[2mConnectionSettingsComponent[2m > [22m[2mauthenticate[2m > [22m[2mshould call registerOnServer when in register mode
[22m[39m[Migration] Final state: {"status":"Completed","totalProjects":1,"completedProjects":1,"failedProjects":0,"projectStatuses":[]}
[Migration] Configuring server mode...
[Migration] Server mode configured, app-config: {"mode":"server","serverUrl":"http://localhost:8333"}
[Migration] Before cleanup, offline user: [1mnull[22m
[Migration] After cleanup, offline user: [1mnull[22m
[Migration] After cleanup, app-config: {"mode":"server","serverUrl":"http://localhost:8333"}
[Migration] After cleanup, auth_token: MISSING

stderr | src/app/pages/project/tabs/templates/templates-tab.component.spec.ts > TemplatesTabComponent > deleteTemplate > should delete a template successfully
[TemplatesTab] No schemas found in library

stderr | src/app/pages/project/tabs/templates/templates-tab.component.spec.ts > TemplatesTabComponent > deleteTemplate > should delete a template successfully
[TemplatesTab] No schemas found in library

Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
[90mstdout[2m | src/app/dialogs/user-settings-dialog/tabs/connection-settings/connection-settings.component.spec.ts[2m > [22m[2mConnectionSettingsComponent[2m > [22m[2mauthenticate[2m > [22m[2mshould call loginToServer when in login mode
[22m[39m[Migration] authenticate() called
[Migration] Starting authentication, mode: login
[Migration] Before configureServerMode, current mode: offline

[90mstdout[2m | src/app/dialogs/user-settings-dialog/tabs/connection-settings/connection-settings.component.spec.ts[2m > [22m[2mConnectionSettingsComponent[2m > [22m[2mauthenticate[2m > [22m[2mshould call loginToServer when in login mode
[22m[39m[Migration] After configureServerMode, new mode: offline
[Migration] localStorage inkweld-app-config: {"mode":"server","serverUrl":"http://localhost:8333"}

[90mstdout[2m | src/app/dialogs/user-settings-dialog/tabs/connection-settings/connection-settings.component.spec.ts[2m > [22m[2mConnectionSettingsComponent[2m > [22m[2mauthenticate[2m > [22m[2mshould call loginToServer when in login mode
[22m[39m[Migration] After auth, token in localStorage: MISSING

[90mstdout[2m | src/app/dialogs/user-settings-dialog/tabs/connection-settings/connection-settings.component.spec.ts[2m > [22m[2mConnectionSettingsComponent[2m > [22m[2mauthenticate[2m > [22m[2mshould call loginToServer when in login mode
[22m[39m[Migration] Final state: {"status":"Completed","totalProjects":1,"completedProjects":1,"failedProjects":0,"projectStatuses":[]}
[Migration] Configuring server mode...
[Migration] Server mode configured, app-config: {"mode":"server","serverUrl":"http://localhost:8333"}
[Migration] Before cleanup, offline user: [1mnull[22m
[Migration] After cleanup, offline user: [1mnull[22m
[Migration] After cleanup, app-config: {"mode":"server","serverUrl":"http://localhost:8333"}
[Migration] After cleanup, auth_token: MISSING

[90mstdout[2m | src/app/dialogs/edit-project-dialog/edit-project-dialog.component.spec.ts[2m > [22m[2mEditProjectDialogComponent[2m > [22m[2mloadCoverImage on init[2m > [22m[2mshould call getProjectCover on init
[22m[39mdialogData:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}
Project:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}

[90mstdout[2m | src/app/dialogs/user-settings-dialog/tabs/connection-settings/connection-settings.component.spec.ts[2m > [22m[2mConnectionSettingsComponent[2m > [22m[2mauthenticate[2m > [22m[2mshould show failure message when migration has failed projects
[22m[39m[Migration] authenticate() called
[Migration] Starting authentication, mode: login
[Migration] Before configureServerMode, current mode: offline

[90mstdout[2m | src/app/dialogs/user-settings-dialog/tabs/connection-settings/connection-settings.component.spec.ts[2m > [22m[2mConnectionSettingsComponent[2m > [22m[2mauthenticate[2m > [22m[2mshould show failure message when migration has failed projects
[22m[39m[Migration] After configureServerMode, new mode: offline
[Migration] localStorage inkweld-app-config: {"mode":"server","serverUrl":"http://localhost:8333"}

[90mstdout[2m | src/app/dialogs/user-settings-dialog/tabs/connection-settings/connection-settings.component.spec.ts[2m > [22m[2mConnectionSettingsComponent[2m > [22m[2mauthenticate[2m > [22m[2mshould show failure message when migration has failed projects
[22m[39m[Migration] After auth, token in localStorage: MISSING

[90mstdout[2m | src/app/dialogs/user-settings-dialog/tabs/connection-settings/connection-settings.component.spec.ts[2m > [22m[2mConnectionSettingsComponent[2m > [22m[2mauthenticate[2m > [22m[2mshould show failure message when migration has failed projects
[22m[39m[Migration] Final state: {"status":"Failed","totalProjects":2,"completedProjects":1,"failedProjects":1,"projectStatuses":[]}

[90mstdout[2m | src/app/pages/project/project.component.spec.ts[2m > [22m[2mProjectComponent[2m > [22m[2mshould create
[22m[39mProjectComponent init
Loading project testuser/test-project

[90mstdout[2m | src/app/dialogs/user-settings-dialog/tabs/connection-settings/connection-settings.component.spec.ts[2m > [22m[2mConnectionSettingsComponent[2m > [22m[2mauthenticate[2m > [22m[2mshould handle authentication errors gracefully
[22m[39m[Migration] authenticate() called
[Migration] Starting authentication, mode: login
[Migration] Before configureServerMode, current mode: offline

[90mstdout[2m | src/app/dialogs/user-settings-dialog/tabs/connection-settings/connection-settings.component.spec.ts[2m > [22m[2mConnectionSettingsComponent[2m > [22m[2mauthenticate[2m > [22m[2mshould handle authentication errors gracefully
[22m[39m[Migration] After configureServerMode, new mode: offline
[Migration] localStorage inkweld-app-config: {"mode":"server","serverUrl":"http://localhost:8333"}

[90mstdout[2m | src/app/dialogs/edit-project-dialog/edit-project-dialog.component.spec.ts[2m > [22m[2mEditProjectDialogComponent[2m > [22m[2mloadCoverImage on init[2m > [22m[2mshould set coverImageUrl when loadCoverImage completes successfully
[22m[39mdialogData:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}
Project:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}

Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
[90mstdout[2m | src/app/dialogs/user-settings-dialog/tabs/connection-settings/connection-settings.component.spec.ts[2m > [22m[2mConnectionSettingsComponent[2m > [22m[2mauthenticate[2m > [22m[2mshould show generic error message for non-Error exceptions
[22m[39m[Migration] authenticate() called
[Migration] Starting authentication, mode: login
[Migration] Before configureServerMode, current mode: offline

[90mstdout[2m | src/app/dialogs/user-settings-dialog/tabs/connection-settings/connection-settings.component.spec.ts[2m > [22m[2mConnectionSettingsComponent[2m > [22m[2mauthenticate[2m > [22m[2mshould show generic error message for non-Error exceptions
[22m[39m[Migration] After configureServerMode, new mode: offline
[Migration] localStorage inkweld-app-config: {"mode":"server","serverUrl":"http://localhost:8333"}

[90mstdout[2m | src/app/pages/project/project.component.spec.ts[2m > [22m[2mProjectComponent[2m > [22m[2minitialization[2m > [22m[2mshould load project on init with route params
[22m[39mProjectComponent init
Loading project testuser/test-project

[90mstdout[2m | src/app/pages/project/project.component.spec.ts[2m > [22m[2mProjectComponent[2m > [22m[2minitialization[2m > [22m[2mshould load project on init with route params
[22m[39mProjectComponent init
Loading project testuser/test-project

stderr | src/app/pages/project/tabs/templates/templates-tab.component.spec.ts > TemplatesTabComponent > editTemplate > should handle template not found
Invalid access: Add Yjs type to a document before reading data.

[90mstdout[2m | src/app/dialogs/edit-project-dialog/edit-project-dialog.component.spec.ts[2m > [22m[2mEditProjectDialogComponent[2m > [22m[2mloadCoverImage on init[2m > [22m[2mshould handle "Cover image not found" error gracefully
[22m[39mdialogData:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}
Project:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}

[90mstdout[2m | src/app/dialogs/edit-project-dialog/edit-project-dialog.component.spec.ts[2m > [22m[2mEditProjectDialogComponent[2m > [22m[2mloadCoverImage on init[2m > [22m[2mshould handle "Cover image not found" error gracefully
[22m[39mNo cover image set for this project

[90mstdout[2m | src/app/dialogs/user-settings-dialog/tabs/connection-settings/connection-settings.component.spec.ts[2m > [22m[2mConnectionSettingsComponent[2m > [22m[2msafety guards[2m > [22m[2mshould show confirmation dialog when switching from server to offline mode
[22m[39m[Migration] About to reload...

Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
[90mstdout[2m | src/app/dialogs/edit-project-dialog/edit-project-dialog.component.spec.ts[2m > [22m[2mEditProjectDialogComponent[2m > [22m[2mloadCoverImage on init[2m > [22m[2mshould handle generic errors during cover load
[22m[39mdialogData:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}
Project:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}

[90mstdout[2m | src/app/pages/project/project.component.spec.ts[2m > [22m[2mProjectComponent[2m > [22m[2minitialization[2m > [22m[2mshould select home tab (0) on init
[22m[39mProjectComponent init
Loading project testuser/test-project

[90mstdout[2m | src/app/pages/project/project.component.spec.ts[2m > [22m[2mProjectComponent[2m > [22m[2minitialization[2m > [22m[2mshould select home tab (0) on init
[22m[39mProjectComponent init
Loading project testuser/test-project

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/components/folder-element-editor/folder-element-editor.component.spec.ts [2m([22m[2m11 tests[22m[2m)[22m[33m 3249[2mms[22m[39m
     [33m[2mâœ“[22m[39m should create [33m 1016[2mms[22m[39m
     [33m[2mâœ“[22m[39m should load child elements on initialization [33m 304[2mms[22m[39m
     [33m[2mâœ“[22m[39m should display list view when viewMode is list [33m 466[2mms[22m[39m
 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/pages/project/tabs/templates/templates-tab.component.spec.ts [2m([22m[2m21 tests[22m[2m)[22m[33m 3635[2mms[22m[39m
     [33m[2mâœ“[22m[39m should create [33m 513[2mms[22m[39m
       [33m[2mâœ“[22m[39m should edit a template successfully [33m 333[2mms[22m[39m
[90mstdout[2m | src/app/dialogs/edit-project-dialog/edit-project-dialog.component.spec.ts[2m > [22m[2mEditProjectDialogComponent[2m > [22m[2monCoverImageSelected[2m > [22m[2mshould activate cropper for valid file
[22m[39mdialogData:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}
Project:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}

[90mstdout[2m | src/app/dialogs/user-settings-dialog/tabs/connection-settings/connection-settings.component.spec.ts[2m > [22m[2mConnectionSettingsComponent[2m > [22m[2msafety guards[2m > [22m[2mshould handle error when switch to offline mode fails
[22m[39m[Migration] About to reload...

Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
[90mstdout[2m | src/app/pages/project/project.component.spec.ts[2m > [22m[2mProjectComponent[2m > [22m[2msidebar toggling[2m > [22m[2mshould toggle sidebar visibility for desktop
[22m[39mProjectComponent init
Loading project testuser/test-project

[90mstdout[2m | src/app/dialogs/edit-project-dialog/edit-project-dialog.component.spec.ts[2m > [22m[2mEditProjectDialogComponent[2m > [22m[2monCoverImageSelected[2m > [22m[2mshould show error for invalid file type
[22m[39mdialogData:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}
Project:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}

[90mstdout[2m | src/app/dialogs/edit-project-dialog/edit-project-dialog.component.spec.ts[2m > [22m[2mEditProjectDialogComponent[2m > [22m[2monCoverImageSelected[2m > [22m[2mshould do nothing if no file is selected
[22m[39mdialogData:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}
Project:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}

Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
[90mstdout[2m | src/app/pages/project/project.component.spec.ts[2m > [22m[2mProjectComponent[2m > [22m[2mdocument opening[2m > [22m[2mshould open document via projectState
[22m[39mProjectComponent init
Loading project testuser/test-project

[90mstdout[2m | src/app/dialogs/edit-project-dialog/edit-project-dialog.component.spec.ts[2m > [22m[2mEditProjectDialogComponent[2m > [22m[2mimage cropper functionality[2m > [22m[2mshould apply cropped image correctly
[22m[39mdialogData:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}
Project:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}

Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/pages/welcome/welcome.component.spec.ts [2m([22m[2m29 tests[22m[2m)[22m[33m 6051[2mms[22m[39m
     [33m[2mâœ“[22m[39m should create [33m 528[2mms[22m[39m
     [33m[2mâœ“[22m[39m should render the logo image [33m 327[2mms[22m[39m
       [33m[2mâœ“[22m[39m should return true when form is invalid [33m 301[2mms[22m[39m
       [33m[2mâœ“[22m[39m should show error message for other UserServiceError [33m 313[2mms[22m[39m
[90mstdout[2m | src/app/dialogs/edit-project-dialog/edit-project-dialog.component.spec.ts[2m > [22m[2mEditProjectDialogComponent[2m > [22m[2mimage cropper functionality[2m > [22m[2mshould cancel cropping and reset state
[22m[39mdialogData:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}
Project:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}

[90mstdout[2m | src/app/pages/project/project.component.spec.ts[2m > [22m[2mProjectComponent[2m > [22m[2mdocument opening[2m > [22m[2mshould navigate to document route when opening document
[22m[39mProjectComponent init
Loading project testuser/test-project

stderr | src/app/pages/project/tabs/publish-plan/publish-plan-tab.component.spec.ts > PublishPlanTabComponent > should call updatePublishPlan when saving
[SystemConfig] Failed to load system features, using defaults: HttpErrorResponse {
  headers: HttpHeaders {
    headers: Map(0) {},
    normalizedNames: Map(0) {},
    lazyInit: undefined,
    lazyUpdate: null
  },
  status: 0,
  statusText: 'Unknown Error',
  url: 'http://localhost:8333/api/v1/config/features',
  ok: false,
  type: undefined,
  redirected: undefined,
  responseType: undefined,
  name: 'HttpErrorResponse',
  message: 'Http failure response for http://localhost:8333/api/v1/config/features: 0 Unknown Error',
  error: ProgressEvent { isTrusted: [Getter] }
}

stderr | src/app/pages/project/tabs/publish-plan/publish-plan-tab.component.spec.ts > PublishPlanTabComponent > should call updatePublishPlan when saving
[SystemConfig] Failed to load system features, using defaults: HttpErrorResponse {
  headers: HttpHeaders {
    headers: Map(0) {},
    normalizedNames: Map(0) {},
    lazyInit: undefined,
    lazyUpdate: null
  },
  status: 0,
  statusText: 'Unknown Error',
  url: 'http://localhost:8333/api/v1/config/features',
  ok: false,
  type: undefined,
  redirected: undefined,
  responseType: undefined,
  name: 'HttpErrorResponse',
  message: 'Http failure response for http://localhost:8333/api/v1/config/features: 0 Unknown Error',
  error: ProgressEvent { isTrusted: [Getter] }
}

stderr | src/app/pages/project/tabs/publish-plan/publish-plan-tab.component.spec.ts > PublishPlanTabComponent > should call updatePublishPlan when saving
[SystemConfig] Failed to load system features, using defaults: HttpErrorResponse {
  headers: HttpHeaders {
    headers: Map(0) {},
    normalizedNames: Map(0) {},
    lazyInit: undefined,
    lazyUpdate: null
  },
  status: 0,
  statusText: 'Unknown Error',
  url: 'http://localhost:8333/api/v1/config/features',
  ok: false,
  type: undefined,
  redirected: undefined,
  responseType: undefined,
  name: 'HttpErrorResponse',
  message: 'Http failure response for http://localhost:8333/api/v1/config/features: 0 Unknown Error',
  error: ProgressEvent { isTrusted: [Getter] }
}

stderr | src/app/pages/project/tabs/publish-plan/publish-plan-tab.component.spec.ts > PublishPlanTabComponent > should call updatePublishPlan when saving
[SystemConfig] Failed to load system features, using defaults: HttpErrorResponse {
  headers: HttpHeaders {
    headers: Map(0) {},
    normalizedNames: Map(0) {},
    lazyInit: undefined,
    lazyUpdate: null
  },
  status: 0,
  statusText: 'Unknown Error',
  url: 'http://localhost:8333/api/v1/config/features',
  ok: false,
  type: undefined,
  redirected: undefined,
  responseType: undefined,
  name: 'HttpErrorResponse',
  message: 'Http failure response for http://localhost:8333/api/v1/config/features: 0 Unknown Error',
  error: ProgressEvent { isTrusted: [Getter] }
}

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/components/snapshot-panel/snapshot-panel.component.spec.ts [2m([22m[2m22 tests[22m[2m)[22m[33m 4673[2mms[22m[39m
     [33m[2mâœ“[22m[39m should create [33m 764[2mms[22m[39m
       [33m[2mâœ“[22m[39m should load snapshots on init [33m 579[2mms[22m[39m
       [33m[2mâœ“[22m[39m should set loading to true while loading [33m 387[2mms[22m[39m
       [33m[2mâœ“[22m[39m should handle error when deleting snapshot [33m 319[2mms[22m[39m
       [33m[2mâœ“[22m[39m should format date string correctly [33m 417[2mms[22m[39m
[90mstdout[2m | src/app/dialogs/edit-project-dialog/edit-project-dialog.component.spec.ts[2m > [22m[2mEditProjectDialogComponent[2m > [22m[2mimage cropper functionality[2m > [22m[2mshould reset cropper state correctly
[22m[39mdialogData:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}
Project:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}

Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/pages/project/tabs/publish-plan/publish-plan-tab.component.spec.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 3694[2mms[22m[39m
     [33m[2mâœ“[22m[39m should create [33m 1720[2mms[22m[39m
     [33m[2mâœ“[22m[39m should display plan name [33m 694[2mms[22m[39m
     [33m[2mâœ“[22m[39m should show save button when changes are made [33m 846[2mms[22m[39m
     [33m[2mâœ“[22m[39m should call updatePublishPlan when saving [33m 431[2mms[22m[39m
[90mstdout[2m | src/app/pages/project/project.component.spec.ts[2m > [22m[2mProjectComponent[2m > [22m[2mdocument opening[2m > [22m[2mshould navigate to folder route when opening folder
[22m[39mProjectComponent init
Loading project testuser/test-project

[90mstdout[2m | src/app/dialogs/edit-project-dialog/edit-project-dialog.component.spec.ts[2m > [22m[2mEditProjectDialogComponent[2m > [22m[2mimage cropper functionality[2m > [22m[2mshould handle image load failure
[22m[39mdialogData:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}
Project:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}

Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
[90mstdout[2m | src/app/pages/project/tabs/home/home-tab.component.spec.ts[2m > [22m[2mHomeTabComponent[2m > [22m[2mshould open generate cover dialog when generate cover button is clicked
[22m[39mSaving cover image for project: testuser test-project

stderr | src/app/pages/project/tabs/home/home-tab.component.spec.ts > HomeTabComponent > should open generate cover dialog when generate cover button is clicked
Failed to refresh project after cover upload: TypeError: this.projectService.getProjectByUsernameAndSlug is not a function
    at D:/dev/inkweld/frontend/src/app/pages/project/tabs/home/home-tab.component.ts:167:39
    at processTicksAndRejections (node:internal/process/task_queues:105:5)

[90mstdout[2m | src/app/pages/project/tabs/home/home-tab.component.spec.ts[2m > [22m[2mHomeTabComponent[2m > [22m[2mshould open generate cover dialog when generate cover button is clicked
[22m[39mCover image uploaded successfully

[90mstdout[2m | src/app/pages/project/project.component.spec.ts[2m > [22m[2mProjectComponent[2m > [22m[2mtab management[2m > [22m[2mshould close tab at specified index
[22m[39mProjectComponent init
Loading project testuser/test-project

stderr | src/app/components/document-element-editor/document-element-editor.component.spec.ts > DocumentElementEditorComponent > should create
Error during cleanup of component {
  component: _DocumentElementEditorComponent {
    documentService: {
      setupCollaboration: [Function],
      disconnect: [Function],
      getSyncStatusSignal: [Function],
      getWordCountSignal: [Function]
    },
    projectState: { isLoading: [Function], project: [Function] },
    settingsService: { getSetting: [Function] },
    fileInput: undefined,
    _documentId: 'invalid',
    documentIdSignal: [Function: getter] {
      toString: [Function (anonymous)],
      set: [Function: set],
      update: [Function: update],
      asReadonly: [Function: bound signalAsReadonlyFn],
      Symbol(SIGNAL): [Object]
    },
    zenMode: false,
    tabsDisabled: false,
    showSnapshotPanel: [Function: getter] {
      toString: [Function (anonymous)],
      set: [Function: set],
      update: [Function: update],
      asReadonly: [Function: bound signalAsReadonlyFn],
      Symbol(SIGNAL): [Object]
    },
    editor: undefined,
    toolbar: [ [Array], [Array], [Array], [Array], [Array], [Array] ],
    floatToolbar: [ [Array] ],
    colorPresets: [
      '#000000', '#434343', '#666666',
      '#999999', '#b7b7b7', '#cccccc',
      '#d9d9d9', '#efefef', '#f3f3f3',
      '#ffffff', '#980000', '#ff0000',
      '#ff9900', '#ffff00', '#00ff00',
      '#00ffff', '#4a86e8', '#0000ff',
      '#9900ff', '#ff00ff'
    ],
    idFormatted: false,
    collaborationSetup: false,
    editorKey: 0,
    cdr: ViewRef {
      _lView: [Array],
      _cdRefInjectingView: [Array],
      _appRef: null,
      _attachedToViewContainer: false,
      exhaustive: undefined
    },
    syncState: [Function: computed] {
      toString: [Function (anonymous)],
      Symbol(SIGNAL): [Object]
    },
    wordCount: [Function: computed] {
      toString: [Function (anonymous)],
      Symbol(SIGNAL): [Object]
    },
    __ngContext__: 438
  },
  stacktrace: TypeError: Cannot read properties of undefined (reading 'destroy')
      at _DocumentElementEditorComponent.ngOnDestroy (D:/dev/inkweld/frontend/src/app/components/document-element-editor/document-element-editor.component.ts:254:17)
      at executeOnDestroys (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:4558:20)
      at cleanUpView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:4436:5)
      at destroyViewTree (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:4403:9)
      at destroyLView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:4425:3)
      at ViewRef.destroy (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5829:5)
      at ComponentRef.destroy (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:8366:19)
      at ComponentFixture.destroy (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/testing.mjs:284:25)
      at file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/testing.mjs:1502:17
      at Array.forEach (<anonymous>)
}

[90mstdout[2m | src/app/dialogs/edit-project-dialog/edit-project-dialog.component.spec.ts[2m > [22m[2mEditProjectDialogComponent[2m > [22m[2mimage cropper functionality[2m > [22m[2mshould set hasImageLoaded when image loads
[22m[39mdialogData:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}
Project:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}

[90mstdout[2m | src/app/pages/project/tabs/home/home-tab.component.spec.ts[2m > [22m[2mHomeTabComponent[2m > [22m[2mshould save cover image when dialog approves with image data
[22m[39mSaving cover image for project: testuser test-project

stderr | src/app/pages/project/tabs/home/home-tab.component.spec.ts > HomeTabComponent > should save cover image when dialog approves with image data
Failed to refresh project after cover upload: TypeError: this.projectService.getProjectByUsernameAndSlug is not a function
    at D:/dev/inkweld/frontend/src/app/pages/project/tabs/home/home-tab.component.ts:167:39
    at processTicksAndRejections (node:internal/process/task_queues:105:5)

[90mstdout[2m | src/app/pages/project/tabs/home/home-tab.component.spec.ts[2m > [22m[2mHomeTabComponent[2m > [22m[2mshould save cover image when dialog approves with image data
[22m[39mCover image uploaded successfully

stderr | src/app/components/document-element-editor/document-element-editor.component.spec.ts > DocumentElementEditorComponent > initialization > should initialize with default values
Error during cleanup of component {
  component: _DocumentElementEditorComponent {
    documentService: {
      setupCollaboration: [Function],
      disconnect: [Function],
      getSyncStatusSignal: [Function],
      getWordCountSignal: [Function]
    },
    projectState: { isLoading: [Function], project: [Function] },
    settingsService: { getSetting: [Function] },
    fileInput: undefined,
    _documentId: 'invalid',
    documentIdSignal: [Function: getter] {
      toString: [Function (anonymous)],
      set: [Function: set],
      update: [Function: update],
      asReadonly: [Function: bound signalAsReadonlyFn],
      Symbol(SIGNAL): [Object]
    },
    zenMode: false,
    tabsDisabled: false,
    showSnapshotPanel: [Function: getter] {
      toString: [Function (anonymous)],
      set: [Function: set],
      update: [Function: update],
      asReadonly: [Function: bound signalAsReadonlyFn],
      Symbol(SIGNAL): [Object]
    },
    editor: undefined,
    toolbar: [ [Array], [Array], [Array], [Array], [Array], [Array] ],
    floatToolbar: [ [Array] ],
    colorPresets: [
      '#000000', '#434343', '#666666',
      '#999999', '#b7b7b7', '#cccccc',
      '#d9d9d9', '#efefef', '#f3f3f3',
      '#ffffff', '#980000', '#ff0000',
      '#ff9900', '#ffff00', '#00ff00',
      '#00ffff', '#4a86e8', '#0000ff',
      '#9900ff', '#ff00ff'
    ],
    idFormatted: false,
    collaborationSetup: false,
    editorKey: 0,
    cdr: ViewRef {
      _lView: [Array],
      _cdRefInjectingView: [Array],
      _appRef: null,
      _attachedToViewContainer: false,
      exhaustive: undefined
    },
    syncState: [Function: computed] {
      toString: [Function (anonymous)],
      Symbol(SIGNAL): [Object]
    },
    wordCount: [Function: computed] {
      toString: [Function (anonymous)],
      Symbol(SIGNAL): [Object]
    },
    __ngContext__: 440
  },
  stacktrace: TypeError: Cannot read properties of undefined (reading 'destroy')
      at _DocumentElementEditorComponent.ngOnDestroy (D:/dev/inkweld/frontend/src/app/components/document-element-editor/document-element-editor.component.ts:254:17)
      at executeOnDestroys (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:4558:20)
      at cleanUpView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:4436:5)
      at destroyViewTree (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:4403:9)
      at destroyLView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:4425:3)
      at ViewRef.destroy (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5829:5)
      at ComponentRef.destroy (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:8366:19)
      at ComponentFixture.destroy (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/testing.mjs:284:25)
      at file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/testing.mjs:1502:17
      at Array.forEach (<anonymous>)
}

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/dialogs/user-settings-dialog/tabs/sync-settings/sync-settings.component.spec.ts [2m([22m[2m16 tests[22m[2m)[22m[33m 2969[2mms[22m[39m
     [33m[2mâœ“[22m[39m should create [33m 383[2mms[22m[39m
       [33m[2mâœ“[22m[39m should update sync interval [33m 310[2mms[22m[39m
       [33m[2mâœ“[22m[39m should show message when in offline mode [33m 328[2mms[22m[39m
 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/services/publish/project-sync.service.spec.ts [2m([22m[2m20 tests[22m[2m)[22m[33m 2606[2mms[22m[39m
       [33m[2mâœ“[22m[39m should sync documents for given element IDs [33m 302[2mms[22m[39m
       [33m[2mâœ“[22m[39m should sync documents including descendants when parent folder is specified [33m 321[2mms[22m[39m
       [33m[2mâœ“[22m[39m should emit complete event when done [33m 330[2mms[22m[39m
stderr | src/app/components/document-element-editor/document-element-editor.component.spec.ts > DocumentElementEditorComponent > initialization > should have default toolbar configuration
Error during cleanup of component {
  component: _DocumentElementEditorComponent {
    documentService: {
      setupCollaboration: [Function],
      disconnect: [Function],
      getSyncStatusSignal: [Function],
      getWordCountSignal: [Function]
    },
    projectState: { isLoading: [Function], project: [Function] },
    settingsService: { getSetting: [Function] },
    fileInput: undefined,
    _documentId: 'invalid',
    documentIdSignal: [Function: getter] {
      toString: [Function (anonymous)],
      set: [Function: set],
      update: [Function: update],
      asReadonly: [Function: bound signalAsReadonlyFn],
      Symbol(SIGNAL): [Object]
    },
    zenMode: false,
    tabsDisabled: false,
    showSnapshotPanel: [Function: getter] {
      toString: [Function (anonymous)],
      set: [Function: set],
      update: [Function: update],
      asReadonly: [Function: bound signalAsReadonlyFn],
      Symbol(SIGNAL): [Object]
    },
    editor: undefined,
    toolbar: [ [Array], [Array], [Array], [Array], [Array], [Array] ],
    floatToolbar: [ [Array] ],
    colorPresets: [
      '#000000', '#434343', '#666666',
      '#999999', '#b7b7b7', '#cccccc',
      '#d9d9d9', '#efefef', '#f3f3f3',
      '#ffffff', '#980000', '#ff0000',
      '#ff9900', '#ffff00', '#00ff00',
      '#00ffff', '#4a86e8', '#0000ff',
      '#9900ff', '#ff00ff'
    ],
    idFormatted: false,
    collaborationSetup: false,
    editorKey: 0,
    cdr: ViewRef {
      _lView: [Array],
      _cdRefInjectingView: [Array],
      _appRef: null,
      _attachedToViewContainer: false,
      exhaustive: undefined
    },
    syncState: [Function: computed] {
      toString: [Function (anonymous)],
      Symbol(SIGNAL): [Object]
    },
    wordCount: [Function: computed] {
      toString: [Function (anonymous)],
      Symbol(SIGNAL): [Object]
    },
    __ngContext__: 442
  },
  stacktrace: TypeError: Cannot read properties of undefined (reading 'destroy')
      at _DocumentElementEditorComponent.ngOnDestroy (D:/dev/inkweld/frontend/src/app/components/document-element-editor/document-element-editor.component.ts:254:17)
      at executeOnDestroys (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:4558:20)
      at cleanUpView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:4436:5)
      at destroyViewTree (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:4403:9)
      at destroyLView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:4425:3)
      at ViewRef.destroy (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5829:5)
      at ComponentRef.destroy (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:8366:19)
      at ComponentFixture.destroy (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/testing.mjs:284:25)
      at file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/testing.mjs:1502:17
      at Array.forEach (<anonymous>)
}

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/dialogs/user-settings-dialog/tabs/connection-settings/connection-settings.component.spec.ts [2m([22m[2m30 tests[22m[2m)[22m[33m 6871[2mms[22m[39m
     [33m[2mâœ“[22m[39m should create [33m 846[2mms[22m[39m
     [33m[2mâœ“[22m[39m should display offline mode [33m 309[2mms[22m[39m
       [33m[2mâœ“[22m[39m should handle error when switch to offline mode fails [33m 451[2mms[22m[39m
stderr | src/app/components/document-element-editor/document-element-editor.component.spec.ts > DocumentElementEditorComponent > initialization > should have color presets
Error during cleanup of component {
  component: _DocumentElementEditorComponent {
    documentService: {
      setupCollaboration: [Function],
      disconnect: [Function],
      getSyncStatusSignal: [Function],
      getWordCountSignal: [Function]
    },
    projectState: { isLoading: [Function], project: [Function] },
    settingsService: { getSetting: [Function] },
    fileInput: undefined,
    _documentId: 'invalid',
    documentIdSignal: [Function: getter] {
      toString: [Function (anonymous)],
      set: [Function: set],
      update: [Function: update],
      asReadonly: [Function: bound signalAsReadonlyFn],
      Symbol(SIGNAL): [Object]
    },
    zenMode: false,
    tabsDisabled: false,
    showSnapshotPanel: [Function: getter] {
      toString: [Function (anonymous)],
      set: [Function: set],
      update: [Function: update],
      asReadonly: [Function: bound signalAsReadonlyFn],
      Symbol(SIGNAL): [Object]
    },
    editor: undefined,
    toolbar: [ [Array], [Array], [Array], [Array], [Array], [Array] ],
    floatToolbar: [ [Array] ],
    colorPresets: [
      '#000000', '#434343', '#666666',
      '#999999', '#b7b7b7', '#cccccc',
      '#d9d9d9', '#efefef', '#f3f3f3',
      '#ffffff', '#980000', '#ff0000',
      '#ff9900', '#ffff00', '#00ff00',
      '#00ffff', '#4a86e8', '#0000ff',
      '#9900ff', '#ff00ff'
    ],
    idFormatted: false,
    collaborationSetup: false,
    editorKey: 0,
    cdr: ViewRef {
      _lView: [Array],
      _cdRefInjectingView: [Array],
      _appRef: null,
      _attachedToViewContainer: false,
      exhaustive: undefined
    },
    syncState: [Function: computed] {
      toString: [Function (anonymous)],
      Symbol(SIGNAL): [Object]
    },
    wordCount: [Function: computed] {
      toString: [Function (anonymous)],
      Symbol(SIGNAL): [Object]
    },
    __ngContext__: 444
  },
  stacktrace: TypeError: Cannot read properties of undefined (reading 'destroy')
      at _DocumentElementEditorComponent.ngOnDestroy (D:/dev/inkweld/frontend/src/app/components/document-element-editor/document-element-editor.component.ts:254:17)
      at executeOnDestroys (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:4558:20)
      at cleanUpView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:4436:5)
      at destroyViewTree (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:4403:9)
      at destroyLView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:4425:3)
      at ViewRef.destroy (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5829:5)
      at ComponentRef.destroy (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:8366:19)
      at ComponentFixture.destroy (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/testing.mjs:284:25)
      at file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/testing.mjs:1502:17
      at Array.forEach (<anonymous>)
}

[90mstdout[2m | src/app/pages/home/home.component.spec.ts[2m > [22m[2mHomeComponent[2m > [22m[2mshould navigate to project when selecting a project
[22m[39m[HomeComponent] selectProject called with: {
  project: { username: [32m'testuser'[39m, slug: [32m'test-project'[39m, title: [90mundefined[39m }
}

Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
stderr | src/app/components/document-element-editor/document-element-editor.component.spec.ts > DocumentElementEditorComponent > documentId handling > should set documentId via input
Error during cleanup of component {
  component: _DocumentElementEditorComponent {
    documentService: {
      setupCollaboration: [Function],
      disconnect: [Function],
      getSyncStatusSignal: [Function],
      getWordCountSignal: [Function]
    },
    projectState: { isLoading: [Function], project: [Function] },
    settingsService: { getSetting: [Function] },
    fileInput: undefined,
    _documentId: 'testuser:test-project:doc-1',
    documentIdSignal: [Function: getter] {
      toString: [Function (anonymous)],
      set: [Function: set],
      update: [Function: update],
      asReadonly: [Function: bound signalAsReadonlyFn],
      Symbol(SIGNAL): [Object]
    },
    zenMode: false,
    tabsDisabled: false,
    showSnapshotPanel: [Function: getter] {
      toString: [Function (anonymous)],
      set: [Function: set],
      update: [Function: update],
      asReadonly: [Function: bound signalAsReadonlyFn],
      Symbol(SIGNAL): [Object]
    },
    editor: undefined,
    toolbar: [ [Array], [Array], [Array], [Array], [Array], [Array] ],
    floatToolbar: [ [Array] ],
    colorPresets: [
      '#000000', '#434343', '#666666',
      '#999999', '#b7b7b7', '#cccccc',
      '#d9d9d9', '#efefef', '#f3f3f3',
      '#ffffff', '#980000', '#ff0000',
      '#ff9900', '#ffff00', '#00ff00',
      '#00ffff', '#4a86e8', '#0000ff',
      '#9900ff', '#ff00ff'
    ],
    idFormatted: false,
    collaborationSetup: false,
    editorKey: 0,
    cdr: ViewRef {
      _lView: [Array],
      _cdRefInjectingView: [Array],
      _appRef: null,
      _attachedToViewContainer: false,
      exhaustive: undefined
    },
    syncState: [Function: computed] {
      toString: [Function (anonymous)],
      Symbol(SIGNAL): [Object]
    },
    wordCount: [Function: computed] {
      toString: [Function (anonymous)],
      Symbol(SIGNAL): [Object]
    },
    __ngContext__: 446
  },
  stacktrace: TypeError: Cannot read properties of undefined (reading 'destroy')
      at _DocumentElementEditorComponent.ngOnDestroy (D:/dev/inkweld/frontend/src/app/components/document-element-editor/document-element-editor.component.ts:254:17)
      at executeOnDestroys (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:4558:20)
      at cleanUpView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:4436:5)
      at destroyViewTree (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:4403:9)
      at destroyLView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:4425:3)
      at ViewRef.destroy (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5829:5)
      at ComponentRef.destroy (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:8366:19)
      at ComponentFixture.destroy (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/testing.mjs:284:25)
      at file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/testing.mjs:1502:17
      at Array.forEach (<anonymous>)
}

stderr | src/app/pages/create-project/create-project.component.spec.ts > CreateProjectComponent > should handle project creation failure
Failed to create project: Error: API Error
    at D:/dev/inkweld/frontend/src/app/pages/create-project/create-project.component.spec.ts:216:19
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:912:26
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1237:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1203:10)
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1647:37
    at Traces.$ (file:///D:/dev/inkweld/frontend/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)
    at trace (file:///D:/dev/inkweld/frontend/node_modules/vitest/dist/chunks/test.DqQZzsWf.js:234:21)
    at runTest (file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1647:12)

[90mstdout[2m | src/app/pages/project/project.component.spec.ts[2m > [22m[2mProjectComponent[2m > [22m[2mtab management[2m > [22m[2mshould not close home tab (index 0)
[22m[39mProjectComponent init
Loading project testuser/test-project

[90mstdout[2m | src/app/dialogs/edit-project-dialog/edit-project-dialog.component.spec.ts[2m > [22m[2mEditProjectDialogComponent[2m > [22m[2mimage cropper functionality[2m > [22m[2mshould set isCropperReady when cropper is ready
[22m[39mdialogData:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}
Project:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}

[90mstdout[2m | src/app/components/document-element-editor/document-element-editor.component.spec.ts[2m > [22m[2mDocumentElementEditorComponent[2m > [22m[2mdocumentId handling[2m > [22m[2mshould format documentId with project info when incomplete
[22m[39m[DocumentEditor] ngOnInit - documentId: doc-1
[DocumentEditor] ngOnInit - creating editor for testuser:test-project:doc-1
[DocumentEditor] ngOnInit - editor created, doc size: [33m0[39m
[DocumentEditor] ngAfterViewChecked - calling setupCollaboration: testuser:test-project:doc-1

[90mstdout[2m | src/app/components/document-element-editor/document-element-editor.component.spec.ts[2m > [22m[2mDocumentElementEditorComponent[2m > [22m[2msyncState[2m > [22m[2mshould return sync state from document service
[22m[39m[DocumentEditor] ngOnInit - documentId: testuser:test-project:doc-1
[DocumentEditor] ngOnInit - creating editor for testuser:test-project:doc-1
[DocumentEditor] ngOnInit - editor created, doc size: [33m0[39m
[DocumentEditor] ngAfterViewChecked - calling setupCollaboration: testuser:test-project:doc-1

Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
stderr | src/app/pages/home/home.component.spec.ts > HomeComponent > should handle error when loading projects
Failed to load projects: Error: Failed to load projects
    at D:/dev/inkweld/frontend/src/app/pages/home/home.component.spec.ts:182:23
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:912:26
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1237:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1203:10)
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1647:37
    at Traces.$ (file:///D:/dev/inkweld/frontend/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)
    at trace (file:///D:/dev/inkweld/frontend/node_modules/vitest/dist/chunks/test.DqQZzsWf.js:234:21)
    at runTest (file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1647:12)

[90mstdout[2m | src/app/pages/project/project.component.spec.ts[2m > [22m[2mProjectComponent[2m > [22m[2mtab management[2m > [22m[2mshould set selected tab index
[22m[39mProjectComponent init
Loading project testuser/test-project

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/pages/project/tabs/home/home-tab.component.spec.ts [2m([22m[2m24 tests[22m[2m | [22m[33m6 skipped[39m[2m)[22m[33m 1790[2mms[22m[39m
[90mstdout[2m | src/app/components/document-element-editor/document-element-editor.component.spec.ts[2m > [22m[2mDocumentElementEditorComponent[2m > [22m[2mwordCount[2m > [22m[2mshould return word count from document service
[22m[39m[DocumentEditor] ngOnInit - documentId: testuser:test-project:doc-1
[DocumentEditor] ngOnInit - creating editor for testuser:test-project:doc-1
[DocumentEditor] ngOnInit - editor created, doc size: [33m0[39m
[DocumentEditor] ngAfterViewChecked - calling setupCollaboration: testuser:test-project:doc-1

[90mstdout[2m | src/app/dialogs/edit-project-dialog/edit-project-dialog.component.spec.ts[2m > [22m[2mEditProjectDialogComponent[2m > [22m[2mopenCoverImageSelector[2m > [22m[2mshould trigger click on the cover image file input
[22m[39mdialogData:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}
Project:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/dialogs/publishing-progress-dialog/publishing-progress-dialog.component.spec.ts [2m([22m[2m36 tests[22m[2m)[22m[33m 4825[2mms[22m[39m
     [33m[2mâœ“[22m[39m should create [33m 853[2mms[22m[39m
 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/pages/register/register.component.spec.ts [2m([22m[2m25 tests[22m[2m)[22m[33m 7397[2mms[22m[39m
     [33m[2mâœ“[22m[39m should create [33m 896[2mms[22m[39m
     [33m[2mâœ“[22m[39m should set isMobile based on window width [33m 331[2mms[22m[39m
       [33m[2mâœ“[22m[39m should detect password mismatch [33m 424[2mms[22m[39m
       [33m[2mâœ“[22m[39m should check username availability when username is valid [33m 333[2mms[22m[39m
       [33m[2mâœ“[22m[39m should mark username as unavailable when taken [33m 312[2mms[22m[39m
       [33m[2mâœ“[22m[39m should validate lowercase requirement [33m 308[2mms[22m[39m
       [33m[2mâœ“[22m[39m should validate number requirement [33m 320[2mms[22m[39m
       [33m[2mâœ“[22m[39m should validate special character requirement [33m 353[2mms[22m[39m
       [33m[2mâœ“[22m[39m should consider password valid when all requirements are met [33m 305[2mms[22m[39m
       [33m[2mâœ“[22m[39m should handle unknown registration error [33m 324[2mms[22m[39m
[90mstdout[2m | src/app/components/document-element-editor/document-element-editor.component.spec.ts[2m > [22m[2mDocumentElementEditorComponent[2m > [22m[2mngOnDestroy[2m > [22m[2mshould destroy editor on destroy
[22m[39m[DocumentEditor] ngOnInit - documentId: testuser:test-project:doc-1
[DocumentEditor] ngOnInit - creating editor for testuser:test-project:doc-1
[DocumentEditor] ngOnInit - editor created, doc size: [33m0[39m
[DocumentEditor] ngAfterViewChecked - calling setupCollaboration: testuser:test-project:doc-1
[DocumentEditor] ngOnInit - documentId: testuser:test-project:doc-1
[DocumentEditor] ngOnInit - creating editor for testuser:test-project:doc-1
[DocumentEditor] ngOnInit - editor created, doc size: [33m0[39m

Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
[90mstdout[2m | src/app/dialogs/edit-project-dialog/edit-project-dialog.component.spec.ts[2m > [22m[2mEditProjectDialogComponent[2m > [22m[2mremoveCoverImage[2m > [22m[2mshould call deleteProjectCover and clear local state on success
[22m[39mdialogData:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}
Project:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}

[90mstdout[2m | src/app/pages/project/project.component.spec.ts[2m > [22m[2mProjectComponent[2m > [22m[2mnavigation[2m > [22m[2mshould exit project and navigate home
[22m[39mProjectComponent init
Loading project testuser/test-project

[90mstdout[2m | src/app/dialogs/new-element-dialog/new-element-dialog.component.spec.ts[2m > [22m[2mNewElementDialogComponent[2m > [22m[2mworldbuilding type loading[2m > [22m[2mshould load worldbuilding types when project is set
[22m[39m[NewElementDialog] Loading worldbuilding types for testuser test-project

[90mstdout[2m | src/app/dialogs/new-element-dialog/new-element-dialog.component.spec.ts[2m > [22m[2mNewElementDialogComponent[2m > [22m[2mworldbuilding type loading[2m > [22m[2mshould load worldbuilding types when project is set
[22m[39m[NewElementDialog] Loaded library: [36m<ref *1>[39m YMap {
  _item: [1mnull[22m,
  _map: Map(1) {
    [32m'schemas'[39m => Item {
      id: [36m[ID][39m,
      length: [33m1[39m,
      origin: [1mnull[22m,
      left: [1mnull[22m,
      right: [1mnull[22m,
      rightOrigin: [1mnull[22m,
      parent: [36m[Circular *1][39m,
      parentSub: [32m'schemas'[39m,
      redone: [1mnull[22m,
      content: [36m[ContentType][39m,
      info: [33m2[39m
    }
  },
  _start: [1mnull[22m,
  doc: Doc {
    _observers: Map(2) { [32m'load'[39m => [36m[Set][39m, [32m'sync'[39m => [36m[Set][39m },
    gc: [33mtrue[39m,
    gcFilter: [36m[Function: gcFilter][39m,
    clientID: [33m1249021161[39m,
    guid: [32m'3132837b-2757-40ec-8402-582dab1511fe'[39m,
    collectionid: [1mnull[22m,
    share: Map(1) { [32m'library'[39m => [36m[Circular *1][39m },
    store: StructStore {
      clients: [36m[Map][39m,
      pendingStructs: [1mnull[22m,
      pendingDs: [1mnull[22m
    },
    _transaction: [1mnull[22m,
    _transactionCleanups: [],
    subdocs: Set(0) {},
    _item: [1mnull[22m,
    shouldLoad: [33mtrue[39m,
    autoLoad: [33mfalse[39m,
    meta: [1mnull[22m,
    isLoaded: [33mfalse[39m,
    isSynced: [33mfalse[39m,
    isDestroyed: [33mfalse[39m,
    whenLoaded: Promise { [36m<pending>[39m },
    whenSynced: Promise { [36m<pending>[39m }
  },
  _length: [33m0[39m,
  _eH: EventHandler { l: [] },
  _dEH: EventHandler { l: [] },
  _searchMarker: [1mnull[22m,
  _prelimContent: [1mnull[22m
}
[NewElementDialog] Found schemas map
[NewElementDialog] Found schema: {
  type: [32m'CHARACTER'[39m,
  name: [32m'Character'[39m,
  icon: [32m'person'[39m,
  description: [32m'A character template'[39m
}
[NewElementDialog] Found schema: {
  type: [32m'LOCATION'[39m,
  name: [32m'Location'[39m,
  icon: [32m'place'[39m,
  description: [32m'A location template'[39m
}
[NewElementDialog] Built worldbuilding options: [
  {
    type: [32m'CHARACTER'[39m,
    label: [32m'Character'[39m,
    icon: [32m'person'[39m,
    description: [32m'A character template'[39m,
    category: [32m'worldbuilding'[39m
  },
  {
    type: [32m'LOCATION'[39m,
    label: [32m'Location'[39m,
    icon: [32m'place'[39m,
    description: [32m'A location template'[39m,
    category: [32m'worldbuilding'[39m
  }
]
[NewElementDialog] Loaded 2 worldbuilding types from schema library

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/pages/create-project/create-project.component.spec.ts [2m([22m[2m12 tests[22m[2m)[22m[33m 6105[2mms[22m[39m
     [33m[2mâœ“[22m[39m should create [33m 1142[2mms[22m[39m
     [33m[2mâœ“[22m[39m should initialize form with default values [33m 436[2mms[22m[39m
     [33m[2mâœ“[22m[39m should generate slug from title [33m 776[2mms[22m[39m
     [33m[2mâœ“[22m[39m should update slug when title changes [33m 356[2mms[22m[39m
     [33m[2mâœ“[22m[39m should update project URL when slug changes [33m 381[2mms[22m[39m
     [33m[2mâœ“[22m[39m should validate required fields [33m 362[2mms[22m[39m
     [33m[2mâœ“[22m[39m should validate slug format [33m 553[2mms[22m[39m
     [33m[2mâœ“[22m[39m should navigate back when cancel is clicked [33m 534[2mms[22m[39m
     [33m[2mâœ“[22m[39m should not submit if form is invalid [33m 342[2mms[22m[39m
     [33m[2mâœ“[22m[39m should create project successfully [33m 395[2mms[22m[39m
     [33m[2mâœ“[22m[39m should handle project creation failure [33m 501[2mms[22m[39m
     [33m[2mâœ“[22m[39m should redirect to home if project response is incomplete [33m 325[2mms[22m[39m
[90mstdout[2m | src/app/components/document-element-editor/document-element-editor.component.spec.ts[2m > [22m[2mDocumentElementEditorComponent[2m > [22m[2mngOnDestroy[2m > [22m[2mshould disconnect from document service on destroy
[22m[39m[DocumentEditor] ngOnInit - documentId: testuser:test-project:doc-1
[DocumentEditor] ngOnInit - creating editor for testuser:test-project:doc-1
[DocumentEditor] ngOnInit - editor created, doc size: [33m0[39m
[DocumentEditor] ngAfterViewChecked - calling setupCollaboration: testuser:test-project:doc-1
[DocumentEditor] ngOnInit - documentId: testuser:test-project:doc-1
[DocumentEditor] ngOnInit - creating editor for testuser:test-project:doc-1
[DocumentEditor] ngOnInit - editor created, doc size: [33m0[39m

[90mstdout[2m | src/app/components/document-element-editor/document-element-editor.component.spec.ts[2m > [22m[2mDocumentElementEditorComponent[2m > [22m[2mngOnDestroy[2m > [22m[2mshould not disconnect if in zen mode
[22m[39m[DocumentEditor] ngOnInit - documentId: testuser:test-project:doc-1
[DocumentEditor] ngOnInit - creating editor for testuser:test-project:doc-1
[DocumentEditor] ngOnInit - editor created, doc size: [33m0[39m
[DocumentEditor] ngAfterViewChecked - calling setupCollaboration: testuser:test-project:doc-1
[DocumentEditor] ngOnInit - documentId: testuser:test-project:doc-1
[DocumentEditor] ngOnInit - creating editor for testuser:test-project:doc-1
[DocumentEditor] ngOnInit - editor created, doc size: [33m0[39m

stderr | src/app/components/document-element-editor/document-element-editor.component.spec.ts > DocumentElementEditorComponent > isCursorInLintSuggestion > should return false when editor is not initialized
Error during cleanup of component {
  component: _DocumentElementEditorComponent {
    documentService: {
      setupCollaboration: [Function],
      disconnect: [Function],
      getSyncStatusSignal: [Function],
      getWordCountSignal: [Function]
    },
    projectState: { isLoading: [Function], project: [Function] },
    settingsService: { getSetting: [Function] },
    fileInput: undefined,
    _documentId: 'invalid',
    documentIdSignal: [Function: getter] {
      toString: [Function (anonymous)],
      set: [Function: set],
      update: [Function: update],
      asReadonly: [Function: bound signalAsReadonlyFn],
      Symbol(SIGNAL): [Object]
    },
    zenMode: false,
    tabsDisabled: false,
    showSnapshotPanel: [Function: getter] {
      toString: [Function (anonymous)],
      set: [Function: set],
      update: [Function: update],
      asReadonly: [Function: bound signalAsReadonlyFn],
      Symbol(SIGNAL): [Object]
    },
    editor: undefined,
    toolbar: [ [Array], [Array], [Array], [Array], [Array], [Array] ],
    floatToolbar: [ [Array] ],
    colorPresets: [
      '#000000', '#434343', '#666666',
      '#999999', '#b7b7b7', '#cccccc',
      '#d9d9d9', '#efefef', '#f3f3f3',
      '#ffffff', '#980000', '#ff0000',
      '#ff9900', '#ffff00', '#00ff00',
      '#00ffff', '#4a86e8', '#0000ff',
      '#9900ff', '#ff00ff'
    ],
    idFormatted: false,
    collaborationSetup: false,
    editorKey: 0,
    cdr: ViewRef {
      _lView: [Array],
      _cdRefInjectingView: [Array],
      _appRef: null,
      _attachedToViewContainer: false,
      exhaustive: undefined
    },
    syncState: [Function: computed] {
      toString: [Function (anonymous)],
      Symbol(SIGNAL): [Object]
    },
    wordCount: [Function: computed] {
      toString: [Function (anonymous)],
      Symbol(SIGNAL): [Object]
    },
    __ngContext__: 518
  },
  stacktrace: TypeError: Cannot read properties of undefined (reading 'destroy')
      at _DocumentElementEditorComponent.ngOnDestroy (D:/dev/inkweld/frontend/src/app/components/document-element-editor/document-element-editor.component.ts:254:17)
      at executeOnDestroys (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:4558:20)
      at cleanUpView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:4436:5)
      at destroyViewTree (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:4403:9)
      at destroyLView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:4425:3)
      at ViewRef.destroy (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5829:5)
      at ComponentRef.destroy (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:8366:19)
      at ComponentFixture.destroy (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/testing.mjs:284:25)
      at file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/testing.mjs:1502:17
      at Array.forEach (<anonymous>)
}

[90mstdout[2m | src/app/dialogs/edit-project-dialog/edit-project-dialog.component.spec.ts[2m > [22m[2mEditProjectDialogComponent[2m > [22m[2mremoveCoverImage[2m > [22m[2mshould show error message if deleteProjectCover fails
[22m[39mdialogData:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}
Project:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}

[90mstdout[2m | src/app/components/document-element-editor/document-element-editor.component.spec.ts[2m > [22m[2mDocumentElementEditorComponent[2m > [22m[2misCursorInLintSuggestion[2m > [22m[2mshould return false when no lint suggestions exist
[22m[39m[DocumentEditor] ngOnInit - documentId: testuser:test-project:doc-1
[DocumentEditor] ngOnInit - creating editor for testuser:test-project:doc-1
[DocumentEditor] ngOnInit - editor created, doc size: [33m0[39m
[DocumentEditor] ngAfterViewChecked - calling setupCollaboration: testuser:test-project:doc-1
[DocumentEditor] ngOnInit - documentId: testuser:test-project:doc-1
[DocumentEditor] ngOnInit - creating editor for testuser:test-project:doc-1
[DocumentEditor] ngOnInit - editor created, doc size: [33m0[39m

stderr | src/app/components/document-element-editor/document-element-editor.component.spec.ts > DocumentElementEditorComponent > snapshot panel > should start with snapshot panel hidden
Error during cleanup of component {
  component: _DocumentElementEditorComponent {
    documentService: {
      setupCollaboration: [Function],
      disconnect: [Function],
      getSyncStatusSignal: [Function],
      getWordCountSignal: [Function]
    },
    projectState: { isLoading: [Function], project: [Function] },
    settingsService: { getSetting: [Function] },
    fileInput: undefined,
    _documentId: 'invalid',
    documentIdSignal: [Function: getter] {
      toString: [Function (anonymous)],
      set: [Function: set],
      update: [Function: update],
      asReadonly: [Function: bound signalAsReadonlyFn],
      Symbol(SIGNAL): [Object]
    },
    zenMode: false,
    tabsDisabled: false,
    showSnapshotPanel: [Function: getter] {
      toString: [Function (anonymous)],
      set: [Function: set],
      update: [Function: update],
      asReadonly: [Function: bound signalAsReadonlyFn],
      Symbol(SIGNAL): [Object]
    },
    editor: undefined,
    toolbar: [ [Array], [Array], [Array], [Array], [Array], [Array] ],
    floatToolbar: [ [Array] ],
    colorPresets: [
      '#000000', '#434343', '#666666',
      '#999999', '#b7b7b7', '#cccccc',
      '#d9d9d9', '#efefef', '#f3f3f3',
      '#ffffff', '#980000', '#ff0000',
      '#ff9900', '#ffff00', '#00ff00',
      '#00ffff', '#4a86e8', '#0000ff',
      '#9900ff', '#ff00ff'
    ],
    idFormatted: false,
    collaborationSetup: false,
    editorKey: 0,
    cdr: ViewRef {
      _lView: [Array],
      _cdRefInjectingView: [Array],
      _appRef: null,
      _attachedToViewContainer: false,
      exhaustive: undefined
    },
    syncState: [Function: computed] {
      toString: [Function (anonymous)],
      Symbol(SIGNAL): [Object]
    },
    wordCount: [Function: computed] {
      toString: [Function (anonymous)],
      Symbol(SIGNAL): [Object]
    },
    __ngContext__: 533
  },
  stacktrace: TypeError: Cannot read properties of undefined (reading 'destroy')
      at _DocumentElementEditorComponent.ngOnDestroy (D:/dev/inkweld/frontend/src/app/components/document-element-editor/document-element-editor.component.ts:254:17)
      at executeOnDestroys (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:4558:20)
      at cleanUpView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:4436:5)
      at destroyViewTree (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:4403:9)
      at destroyLView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:4425:3)
      at ViewRef.destroy (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5829:5)
      at ComponentRef.destroy (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:8366:19)
      at ComponentFixture.destroy (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/testing.mjs:284:25)
      at file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/testing.mjs:1502:17
      at Array.forEach (<anonymous>)
}

Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
[90mstdout[2m | src/app/dialogs/edit-project-dialog/edit-project-dialog.component.spec.ts[2m > [22m[2mEditProjectDialogComponent[2m > [22m[2mremoveCoverImage[2m > [22m[2mshould not call deleteProjectCover if username or slug is missing
[22m[39mdialogData:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}
Project:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}

stderr | src/app/components/document-element-editor/document-element-editor.component.spec.ts > DocumentElementEditorComponent > snapshot panel > should be able to toggle snapshot panel
Error during cleanup of component {
  component: _DocumentElementEditorComponent {
    documentService: {
      setupCollaboration: [Function],
      disconnect: [Function],
      getSyncStatusSignal: [Function],
      getWordCountSignal: [Function]
    },
    projectState: { isLoading: [Function], project: [Function] },
    settingsService: { getSetting: [Function] },
    fileInput: undefined,
    _documentId: 'invalid',
    documentIdSignal: [Function: getter] {
      toString: [Function (anonymous)],
      set: [Function: set],
      update: [Function: update],
      asReadonly: [Function: bound signalAsReadonlyFn],
      Symbol(SIGNAL): [Object]
    },
    zenMode: false,
    tabsDisabled: false,
    showSnapshotPanel: [Function: getter] {
      toString: [Function (anonymous)],
      set: [Function: set],
      update: [Function: update],
      asReadonly: [Function: bound signalAsReadonlyFn],
      Symbol(SIGNAL): [Object]
    },
    editor: undefined,
    toolbar: [ [Array], [Array], [Array], [Array], [Array], [Array] ],
    floatToolbar: [ [Array] ],
    colorPresets: [
      '#000000', '#434343', '#666666',
      '#999999', '#b7b7b7', '#cccccc',
      '#d9d9d9', '#efefef', '#f3f3f3',
      '#ffffff', '#980000', '#ff0000',
      '#ff9900', '#ffff00', '#00ff00',
      '#00ffff', '#4a86e8', '#0000ff',
      '#9900ff', '#ff00ff'
    ],
    idFormatted: false,
    collaborationSetup: false,
    editorKey: 0,
    cdr: ViewRef {
      _lView: [Array],
      _cdRefInjectingView: [Array],
      _appRef: null,
      _attachedToViewContainer: false,
      exhaustive: undefined
    },
    syncState: [Function: computed] {
      toString: [Function (anonymous)],
      Symbol(SIGNAL): [Object]
    },
    wordCount: [Function: computed] {
      toString: [Function (anonymous)],
      Symbol(SIGNAL): [Object]
    },
    __ngContext__: 535
  },
  stacktrace: TypeError: Cannot read properties of undefined (reading 'destroy')
      at _DocumentElementEditorComponent.ngOnDestroy (D:/dev/inkweld/frontend/src/app/components/document-element-editor/document-element-editor.component.ts:254:17)
      at executeOnDestroys (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:4558:20)
      at cleanUpView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:4436:5)
      at destroyViewTree (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:4403:9)
      at destroyLView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:4425:3)
      at ViewRef.destroy (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5829:5)
      at ComponentRef.destroy (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:8366:19)
      at ComponentFixture.destroy (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/testing.mjs:284:25)
      at file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/testing.mjs:1502:17
      at Array.forEach (<anonymous>)
}

[90mstdout[2m | src/app/components/document-element-editor/document-element-editor.component.spec.ts
[22m[39m[DocumentEditor] setupCollaboration complete, editor doc size: 0
[DocumentEditor] setupCollaboration complete, editor doc size: 0
[DocumentEditor] setupCollaboration complete, editor doc size: 0
[DocumentEditor] setupCollaboration complete, editor doc size: 0
[DocumentEditor] setupCollaboration complete, editor doc size: 0
[DocumentEditor] setupCollaboration complete, editor doc size: 0
[DocumentEditor] setupCollaboration complete, editor doc size: 0

[90mstdout[2m | src/app/components/project-tree/project-tree.component.spec.ts[2m > [22m[2mProjectTreeComponent[2m > [22m[2mshould create
[22m[39m[DEBUG][ProjectTree] Visible elements changed [
  {
    id: [32m'1'[39m,
    name: [32m'Test Element'[39m,
    type: [32m'FOLDER'[39m,
    order: [33m0[39m,
    level: [33m1[39m,
    expandable: [33mfalse[39m,
    version: [33m0[39m,
    metadata: {},
    visible: [33mtrue[39m,
    parentId: [1mnull[22m
  }
]

[90mstdout[2m | src/app/dialogs/new-element-dialog/new-element-dialog.component.spec.ts[2m > [22m[2mNewElementDialogComponent[2m > [22m[2mworldbuilding type loading[2m > [22m[2mshould auto-load default templates if library is empty
[22m[39m[NewElementDialog] Loading worldbuilding types for testuser test-project

[90mstdout[2m | src/app/dialogs/new-element-dialog/new-element-dialog.component.spec.ts[2m > [22m[2mNewElementDialogComponent[2m > [22m[2mworldbuilding type loading[2m > [22m[2mshould auto-load default templates if library is empty
[22m[39m[NewElementDialog] Loaded library: [36m<ref *1>[39m YMap {
  _item: [1mnull[22m,
  _map: Map(1) {
    [32m'schemas'[39m => Item {
      id: [36m[ID][39m,
      length: [33m1[39m,
      origin: [1mnull[22m,
      left: [1mnull[22m,
      right: [1mnull[22m,
      rightOrigin: [1mnull[22m,
      parent: [36m[Circular *1][39m,
      parentSub: [32m'schemas'[39m,
      redone: [1mnull[22m,
      content: [36m[ContentType][39m,
      info: [33m2[39m
    }
  },
  _start: [1mnull[22m,
  doc: Doc {
    _observers: Map(2) { [32m'load'[39m => [36m[Set][39m, [32m'sync'[39m => [36m[Set][39m },
    gc: [33mtrue[39m,
    gcFilter: [36m[Function: gcFilter][39m,
    clientID: [33m2309093569[39m,
    guid: [32m'51ad9409-3989-498f-a905-44069998bcf1'[39m,
    collectionid: [1mnull[22m,
    share: Map(1) { [32m'library'[39m => [36m[Circular *1][39m },
    store: StructStore {
      clients: [36m[Map][39m,
      pendingStructs: [1mnull[22m,
      pendingDs: [1mnull[22m
    },
    _transaction: [1mnull[22m,
    _transactionCleanups: [],
    subdocs: Set(0) {},
    _item: [1mnull[22m,
    shouldLoad: [33mtrue[39m,
    autoLoad: [33mfalse[39m,
    meta: [1mnull[22m,
    isLoaded: [33mfalse[39m,
    isSynced: [33mfalse[39m,
    isDestroyed: [33mfalse[39m,
    whenLoaded: Promise { [36m<pending>[39m },
    whenSynced: Promise { [36m<pending>[39m }
  },
  _length: [33m0[39m,
  _eH: EventHandler { l: [] },
  _dEH: EventHandler { l: [] },
  _searchMarker: [1mnull[22m,
  _prelimContent: [1mnull[22m
}
[NewElementDialog] Schema library empty, auto-loading default templates

[90mstdout[2m | src/app/dialogs/new-element-dialog/new-element-dialog.component.spec.ts[2m > [22m[2mNewElementDialogComponent[2m > [22m[2mworldbuilding type loading[2m > [22m[2mshould auto-load default templates if library is empty
[22m[39m[NewElementDialog] Found schema: {
  type: [32m'CHARACTER'[39m,
  name: [32m'Character'[39m,
  icon: [32m'person'[39m,
  description: [32m'Default character'[39m
}
[NewElementDialog] Built worldbuilding options: [
  {
    type: [32m'CHARACTER'[39m,
    label: [32m'Character'[39m,
    icon: [32m'person'[39m,
    description: [32m'Default character'[39m,
    category: [32m'worldbuilding'[39m
  }
]
[NewElementDialog] Loaded 1 worldbuilding types from schema library

[90mstdout[2m | src/app/pages/project/project.component.spec.ts[2m > [22m[2mProjectComponent[2m > [22m[2mnavigation[2m > [22m[2mshould navigate to home tab via goHome
[22m[39mProjectComponent init
Loading project testuser/test-project

[90mstdout[2m | src/app/components/project-tree/project-tree.component.spec.ts[2m > [22m[2mProjectTreeComponent[2m > [22m[2mshould initialize with elements from service
[22m[39m[DEBUG][ProjectTree] Visible elements changed [
  {
    id: [32m'1'[39m,
    name: [32m'Test Element'[39m,
    type: [32m'FOLDER'[39m,
    order: [33m0[39m,
    level: [33m1[39m,
    expandable: [33mfalse[39m,
    version: [33m0[39m,
    metadata: {},
    visible: [33mtrue[39m,
    parentId: [1mnull[22m
  }
]

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/components/document-element-editor/document-element-editor.component.spec.ts [2m([22m[2m15 tests[22m[2m)[22m[33m 1205[2mms[22m[39m
[90mstdout[2m | src/app/components/project-tree/project-tree.component.spec.ts[2m > [22m[2mProjectTreeComponent[2m > [22m[2mState Management[2m > [22m[2mshould handle loading, saving and error states
[22m[39m[DEBUG][ProjectTree] Visible elements changed [
  {
    id: [32m'1'[39m,
    name: [32m'Test Element'[39m,
    type: [32m'FOLDER'[39m,
    order: [33m0[39m,
    level: [33m1[39m,
    expandable: [33mfalse[39m,
    version: [33m0[39m,
    metadata: {},
    visible: [33mtrue[39m,
    parentId: [1mnull[22m
  }
]

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/dialogs/file-upload/file-upload.component.spec.ts [2m([22m[2m13 tests[22m[2m)[22m[33m 1020[2mms[22m[39m
[90mstdout[2m | src/app/components/lint/lint-plugin.spec.ts[2m > [22m[2mLintPlugin[2m > [22m[2mshould create the plugin successfully
[22m[39m[LintPlugin] Returning 0 decorations for rendering
[LintPlugin] Initializing lint plugin view

[90mstdout[2m | src/app/components/project-tree/project-tree.component.spec.ts[2m > [22m[2mProjectTreeComponent[2m > [22m[2mDrag and Drop[2m > [22m[2mDrop Handling[2m > [22m[2mshould handle valid drops without confirmation
[22m[39m[DEBUG][ProjectTree] Visible elements changed [
  {
    id: [32m'1'[39m,
    name: [32m'Test Element'[39m,
    type: [32m'FOLDER'[39m,
    order: [33m0[39m,
    level: [33m1[39m,
    expandable: [33mfalse[39m,
    version: [33m0[39m,
    metadata: {},
    visible: [33mtrue[39m,
    parentId: [1mnull[22m
  }
]

[90mstdout[2m | src/app/components/lint/lint-plugin.spec.ts[2m > [22m[2mLintPlugin[2m > [22m[2mshould create the plugin successfully
[22m[39m[LintPlugin] Destroying lint plugin subscription

[90mstdout[2m | src/app/components/project-tree/project-tree.component.spec.ts[2m > [22m[2mProjectTreeComponent[2m > [22m[2mDrag and Drop[2m > [22m[2mDrop Handling[2m > [22m[2mshould handle valid drops without confirmation
[22m[39m[DEBUG][ProjectTree] Drop event {
  previousIndex: [33m0[39m,
  currentIndex: [33m1[39m,
  isDraggingDown: [33mtrue[39m,
  draggedItem: [32m'Test Element'[39m
}

[90mstdout[2m | src/app/components/lint/lint-plugin.spec.ts[2m > [22m[2mLintPlugin[2m > [22m[2mshould initialize with empty decorations
[22m[39m[LintPlugin] Returning 0 decorations for rendering
[LintPlugin] Initializing lint plugin view

[90mstdout[2m | src/app/components/lint/lint-plugin.spec.ts[2m > [22m[2mLintPlugin[2m > [22m[2mshould initialize with empty decorations
[22m[39m[LintPlugin] Destroying lint plugin subscription

Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
[90mstdout[2m | src/app/components/lint/lint-plugin.spec.ts[2m > [22m[2mLintPlugin[2m > [22m[2mshould call the lint service when document changes
[22m[39m[LintPlugin] Returning 0 decorations for rendering
[LintPlugin] Initializing lint plugin view

[90mstdout[2m | src/app/components/lint/lint-plugin.spec.ts[2m > [22m[2mLintPlugin[2m > [22m[2mshould call the lint service when document changes
[22m[39m[LintPlugin] Initializing lint plugin view
[LintPlugin] Returning 0 decorations for rendering

[90mstdout[2m | src/app/pages/project/project.component.spec.ts[2m > [22m[2mProjectComponent[2m > [22m[2msystem tabs[2m > [22m[2mshould show document list
[22m[39mProjectComponent init
Loading project testuser/test-project

[90mstdout[2m | src/app/components/project-tree/project-tree.component.spec.ts[2m > [22m[2mProjectTreeComponent[2m > [22m[2mDrag and Drop[2m > [22m[2mDrop Handling[2m > [22m[2mshould show confirmation dialog when confirmElementMoves is enabled
[22m[39m[DEBUG][ProjectTree] Visible elements changed [
  {
    id: [32m'1'[39m,
    name: [32m'Test Element'[39m,
    type: [32m'FOLDER'[39m,
    order: [33m0[39m,
    level: [33m1[39m,
    expandable: [33mfalse[39m,
    version: [33m0[39m,
    metadata: {},
    visible: [33mtrue[39m,
    parentId: [1mnull[22m
  }
]

[90mstdout[2m | src/app/components/project-tree/project-tree.component.spec.ts[2m > [22m[2mProjectTreeComponent[2m > [22m[2mDrag and Drop[2m > [22m[2mDrop Handling[2m > [22m[2mshould show confirmation dialog when confirmElementMoves is enabled
[22m[39m[DEBUG][ProjectTree] Drop event {
  previousIndex: [33m0[39m,
  currentIndex: [33m1[39m,
  isDraggingDown: [33mtrue[39m,
  draggedItem: [32m'Test Element'[39m
}

[90mstdout[2m | src/app/pages/project/tabs/tab-interface.component.spec.ts[2m > [22m[2mTabInterfaceComponent[2m > [22m[2mshould open a system tab
[22m[39m[TabInterface] Opening system tab: documents-list

[90mstdout[2m | src/app/dialogs/edit-project-dialog/edit-project-dialog.component.spec.ts[2m > [22m[2mEditProjectDialogComponent[2m > [22m[2monSave functionality[2m > [22m[2mshould not save if form is invalid
[22m[39mdialogData:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}
Project:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}

[90mstdout[2m | src/app/components/project-tree/project-tree.component.spec.ts[2m > [22m[2mProjectTreeComponent[2m > [22m[2mDrag and Drop[2m > [22m[2mDrop Handling[2m > [22m[2mshould not move element when confirmation is cancelled
[22m[39m[DEBUG][ProjectTree] Visible elements changed [
  {
    id: [32m'1'[39m,
    name: [32m'Test Element'[39m,
    type: [32m'FOLDER'[39m,
    order: [33m0[39m,
    level: [33m1[39m,
    expandable: [33mfalse[39m,
    version: [33m0[39m,
    metadata: {},
    visible: [33mtrue[39m,
    parentId: [1mnull[22m
  }
]

[90mstdout[2m | src/app/components/project-tree/project-tree.component.spec.ts[2m > [22m[2mProjectTreeComponent[2m > [22m[2mDrag and Drop[2m > [22m[2mDrop Handling[2m > [22m[2mshould not move element when confirmation is cancelled
[22m[39m[DEBUG][ProjectTree] Drop event {
  previousIndex: [33m0[39m,
  currentIndex: [33m1[39m,
  isDraggingDown: [33mtrue[39m,
  draggedItem: [32m'Test Element'[39m
}

Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
[90mstdout[2m | src/app/components/project-tree/project-tree.component.spec.ts[2m > [22m[2mProjectTreeComponent[2m > [22m[2mDrag and Drop[2m > [22m[2mDrop Handling[2m > [22m[2mshould not proceed when drop is invalid
[22m[39m[DEBUG][ProjectTree] Visible elements changed [
  {
    id: [32m'1'[39m,
    name: [32m'Test Element'[39m,
    type: [32m'FOLDER'[39m,
    order: [33m0[39m,
    level: [33m1[39m,
    expandable: [33mfalse[39m,
    version: [33m0[39m,
    metadata: {},
    visible: [33mtrue[39m,
    parentId: [1mnull[22m
  }
]

[90mstdout[2m | src/app/components/project-tree/project-tree.component.spec.ts[2m > [22m[2mProjectTreeComponent[2m > [22m[2mDrag and Drop[2m > [22m[2mDrop Handling[2m > [22m[2mshould not proceed when drop is invalid
[22m[39m[DEBUG][ProjectTree] Drop event {
  previousIndex: [33m0[39m,
  currentIndex: [33m1[39m,
  isDraggingDown: [33mtrue[39m,
  draggedItem: [32m'Test Element'[39m
}

[90mstdout[2m | src/app/dialogs/new-element-dialog/new-element-dialog.component.spec.ts[2m > [22m[2mNewElementDialogComponent[2m > [22m[2mworldbuilding type loading[2m > [22m[2mshould handle errors when loading schemas
[22m[39m[NewElementDialog] Loading worldbuilding types for testuser test-project

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/pages/user-profile/user-profile.component.spec.ts [2m([22m[2m7 tests[22m[2m)[22m[33m 877[2mms[22m[39m
[90mstdout[2m | src/app/components/project-tree/project-tree.component.spec.ts[2m > [22m[2mProjectTreeComponent[2m > [22m[2mDrag and Drop[2m > [22m[2mshould handle drag start
[22m[39m[DEBUG][ProjectTree] Visible elements changed [
  {
    id: [32m'1'[39m,
    name: [32m'Test Element'[39m,
    type: [32m'FOLDER'[39m,
    order: [33m0[39m,
    level: [33m1[39m,
    expandable: [33mfalse[39m,
    version: [33m0[39m,
    metadata: {},
    visible: [33mtrue[39m,
    parentId: [1mnull[22m
  }
]

[90mstdout[2m | src/app/pages/project/project.component.spec.ts[2m > [22m[2mProjectComponent[2m > [22m[2msystem tabs[2m > [22m[2mshould show file list
[22m[39mProjectComponent init
Loading project testuser/test-project

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/dialogs/rename-dialog/rename-dialog.component.spec.ts [2m([22m[2m7 tests[22m[2m)[22m[33m 1274[2mms[22m[39m
     [33m[2mâœ“[22m[39m should create [33m 400[2mms[22m[39m
[90mstdout[2m | src/app/components/project-tree/project-tree.component.spec.ts[2m > [22m[2mProjectTreeComponent[2m > [22m[2mDrag and Drop[2m > [22m[2mshould handle sorted event
[22m[39m[DEBUG][ProjectTree] Visible elements changed [
  {
    id: [32m'1'[39m,
    name: [32m'Test Element'[39m,
    type: [32m'FOLDER'[39m,
    order: [33m0[39m,
    level: [33m1[39m,
    expandable: [33mfalse[39m,
    version: [33m0[39m,
    metadata: {},
    visible: [33mtrue[39m,
    parentId: [1mnull[22m
  }
]

[90mstdout[2m | src/app/components/project-tree/project-tree.component.spec.ts[2m > [22m[2mProjectTreeComponent[2m > [22m[2mDrag and Drop[2m > [22m[2mshould handle sorted event
[22m[39m[DEBUG][ProjectTree] Sorted event {
  previousIndex: [33m0[39m,
  currentIndex: [33m1[39m,
  isDraggingDown: [33mtrue[39m,
  draggedItem: [32m'Test Element'[39m
}
[DEBUG][ProjectTree] Valid Levels {
  nodeAbove: [90mundefined[39m,
  nodeBelow: [90mundefined[39m,
  filteredLength: [33m0[39m,
  currentIndex: [33m1[39m
}

[90mstdout[2m | src/app/components/project-tree/project-tree.component.spec.ts[2m > [22m[2mProjectTreeComponent[2m > [22m[2mDrag and Drop[2m > [22m[2mshould handle drag move with valid container dimensions
[22m[39m[DEBUG][ProjectTree] Visible elements changed [
  {
    id: [32m'1'[39m,
    name: [32m'Test Element'[39m,
    type: [32m'FOLDER'[39m,
    order: [33m0[39m,
    level: [33m1[39m,
    expandable: [33mfalse[39m,
    version: [33m0[39m,
    metadata: {},
    visible: [33mtrue[39m,
    parentId: [1mnull[22m
  }
]

[90mstdout[2m | src/app/dialogs/edit-project-dialog/edit-project-dialog.component.spec.ts[2m > [22m[2mEditProjectDialogComponent[2m > [22m[2monSave functionality[2m > [22m[2mshould show error if project slug is missing
[22m[39mdialogData:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}
Project:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}

stderr | src/app/dialogs/edit-project-dialog/edit-project-dialog.component.spec.ts > EditProjectDialogComponent > onSave functionality > should show error if project slug is missing
Failed to update project: Project slug is required

[90mstdout[2m | src/app/components/project-tree/project-tree.component.spec.ts[2m > [22m[2mProjectTreeComponent[2m > [22m[2mshould extract project info from URL
[22m[39m[DEBUG][ProjectTree] Visible elements changed [
  {
    id: [32m'1'[39m,
    name: [32m'Test Element'[39m,
    type: [32m'FOLDER'[39m,
    order: [33m0[39m,
    level: [33m1[39m,
    expandable: [33mfalse[39m,
    version: [33m0[39m,
    metadata: {},
    visible: [33mtrue[39m,
    parentId: [1mnull[22m
  }
]

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/pages/approval-pending/approval-pending.component.spec.ts [2m([22m[2m12 tests[22m[2m)[22m[33m 729[2mms[22m[39m
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
[90mstdout[2m | src/app/components/project-tree/project-tree.component.spec.ts[2m > [22m[2mProjectTreeComponent[2m > [22m[2mshould handle drag move with invalid container dimensions
[22m[39m[DEBUG][ProjectTree] Visible elements changed [
  {
    id: [32m'1'[39m,
    name: [32m'Test Element'[39m,
    type: [32m'FOLDER'[39m,
    order: [33m0[39m,
    level: [33m1[39m,
    expandable: [33mfalse[39m,
    version: [33m0[39m,
    metadata: {},
    visible: [33mtrue[39m,
    parentId: [1mnull[22m
  }
]

[90mstdout[2m | src/app/pages/project/project.component.spec.ts[2m > [22m[2mProjectComponent[2m > [22m[2msystem tabs[2m > [22m[2mshould show templates list
[22m[39mProjectComponent init
Loading project testuser/test-project

[90mstdout[2m | src/app/dialogs/new-element-dialog/new-element-dialog.component.spec.ts[2m > [22m[2mNewElementDialogComponent[2m > [22m[2mworldbuilding type loading[2m > [22m[2mshould filter worldbuilding options by search
[22m[39m[NewElementDialog] Loading worldbuilding types for testuser test-project

[90mstdout[2m | src/app/dialogs/new-element-dialog/new-element-dialog.component.spec.ts[2m > [22m[2mNewElementDialogComponent[2m > [22m[2mworldbuilding type loading[2m > [22m[2mshould filter worldbuilding options by search
[22m[39m[NewElementDialog] Loaded library: [36m<ref *1>[39m YMap {
  _item: [1mnull[22m,
  _map: Map(1) {
    [32m'schemas'[39m => Item {
      id: [36m[ID][39m,
      length: [33m1[39m,
      origin: [1mnull[22m,
      left: [1mnull[22m,
      right: [1mnull[22m,
      rightOrigin: [1mnull[22m,
      parent: [36m[Circular *1][39m,
      parentSub: [32m'schemas'[39m,
      redone: [1mnull[22m,
      content: [36m[ContentType][39m,
      info: [33m2[39m
    }
  },
  _start: [1mnull[22m,
  doc: Doc {
    _observers: Map(2) { [32m'load'[39m => [36m[Set][39m, [32m'sync'[39m => [36m[Set][39m },
    gc: [33mtrue[39m,
    gcFilter: [36m[Function: gcFilter][39m,
    clientID: [33m2967268094[39m,
    guid: [32m'effddd4b-32dc-46d5-9e39-22107e5a0ffa'[39m,
    collectionid: [1mnull[22m,
    share: Map(1) { [32m'library'[39m => [36m[Circular *1][39m },
    store: StructStore {
      clients: [36m[Map][39m,
      pendingStructs: [1mnull[22m,
      pendingDs: [1mnull[22m
    },
    _transaction: [1mnull[22m,
    _transactionCleanups: [],
    subdocs: Set(0) {},
    _item: [1mnull[22m,
    shouldLoad: [33mtrue[39m,
    autoLoad: [33mfalse[39m,
    meta: [1mnull[22m,
    isLoaded: [33mfalse[39m,
    isSynced: [33mfalse[39m,
    isDestroyed: [33mfalse[39m,
    whenLoaded: Promise { [36m<pending>[39m },
    whenSynced: Promise { [36m<pending>[39m }
  },
  _length: [33m0[39m,
  _eH: EventHandler { l: [] },
  _dEH: EventHandler { l: [] },
  _searchMarker: [1mnull[22m,
  _prelimContent: [1mnull[22m
}
[NewElementDialog] Found schemas map
[NewElementDialog] Found schema: {
  type: [32m'CHARACTER'[39m,
  name: [32m'Character'[39m,
  icon: [32m'person'[39m,
  description: [32m'A character template'[39m
}
[NewElementDialog] Found schema: {
  type: [32m'LOCATION'[39m,
  name: [32m'Location'[39m,
  icon: [32m'place'[39m,
  description: [32m'A location template'[39m
}
[NewElementDialog] Built worldbuilding options: [
  {
    type: [32m'CHARACTER'[39m,
    label: [32m'Character'[39m,
    icon: [32m'person'[39m,
    description: [32m'A character template'[39m,
    category: [32m'worldbuilding'[39m
  },
  {
    type: [32m'LOCATION'[39m,
    label: [32m'Location'[39m,
    icon: [32m'place'[39m,
    description: [32m'A location template'[39m,
    category: [32m'worldbuilding'[39m
  }
]
[NewElementDialog] Loaded 2 worldbuilding types from schema library

[90mstdout[2m | src/app/components/project-tree/project-tree.component.spec.ts[2m > [22m[2mProjectTreeComponent[2m > [22m[2mshould handle undefined error state
[22m[39m[DEBUG][ProjectTree] Visible elements changed [
  {
    id: [32m'1'[39m,
    name: [32m'Test Element'[39m,
    type: [32m'FOLDER'[39m,
    order: [33m0[39m,
    level: [33m1[39m,
    expandable: [33mfalse[39m,
    version: [33m0[39m,
    metadata: {},
    visible: [33mtrue[39m,
    parentId: [1mnull[22m
  }
]

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/components/side-nav/side-nav.component.spec.ts [2m([22m[2m16 tests[22m[2m)[22m[33m 1524[2mms[22m[39m
[90mstdout[2m | src/app/components/lint/lint-plugin.spec.ts[2m > [22m[2mLintPlugin[2m > [22m[2mshould call the lint service when document changes
[22m[39m[LintPlugin] Sending text for linting: New textThis is a test paragraph with some grammar...

[90mstdout[2m | src/app/components/lint/lint-plugin.spec.ts[2m > [22m[2mLintPlugin[2m > [22m[2mshould call the lint service when document changes
[22m[39m[LintPlugin] Received lint result: {
  originalParagraph: [32m'This is a test paragraph with some grammar errors.'[39m,
  corrections: [
    {
      from: [33m10[39m,
      to: [33m14[39m,
      suggestion: [32m'test sentence'[39m,
      reason: [32m'Grammar improvement'[39m
    }
  ],
  styleRecommendations: [ { recommendation: [32m'Consider using active voice for clarity'[39m } ],
  source: [32m'openai'[39m
}

[90mstdout[2m | src/app/dialogs/edit-project-dialog/edit-project-dialog.component.spec.ts[2m > [22m[2mEditProjectDialogComponent[2m > [22m[2monSave functionality[2m > [22m[2mshould call updateProject on save
[22m[39mdialogData:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}
Project:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}

[90mstdout[2m | src/app/components/project-tree/project-tree.component.spec.ts[2m > [22m[2mProjectTreeComponent[2m > [22m[2mshould toggle expanded state of a node
[22m[39m[DEBUG][ProjectTree] Visible elements changed [
  {
    id: [32m'1'[39m,
    name: [32m'Test Element'[39m,
    type: [32m'FOLDER'[39m,
    order: [33m0[39m,
    level: [33m1[39m,
    expandable: [33mfalse[39m,
    version: [33m0[39m,
    metadata: {},
    visible: [33mtrue[39m,
    parentId: [1mnull[22m
  }
]

Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
[90mstdout[2m | src/app/components/project-tree/project-tree.component.spec.ts[2m > [22m[2mProjectTreeComponent[2m > [22m[2mTouch and Click Toggle Handling[2m > [22m[2mshould handle touch toggle and prevent click event
[22m[39m[DEBUG][ProjectTree] Visible elements changed [
  {
    id: [32m'1'[39m,
    name: [32m'Test Element'[39m,
    type: [32m'FOLDER'[39m,
    order: [33m0[39m,
    level: [33m1[39m,
    expandable: [33mfalse[39m,
    version: [33m0[39m,
    metadata: {},
    visible: [33mtrue[39m,
    parentId: [1mnull[22m
  }
]

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/pages/home/home.component.spec.ts [2m([22m[2m23 tests[22m[2m)[22m[33m 2145[2mms[22m[39m
[90mstdout[2m | src/app/components/project-tree/project-tree.component.spec.ts[2m > [22m[2mProjectTreeComponent[2m > [22m[2mTouch and Click Toggle Handling[2m > [22m[2mshould handle click toggle when no recent touch event
[22m[39m[DEBUG][ProjectTree] Visible elements changed [
  {
    id: [32m'1'[39m,
    name: [32m'Test Element'[39m,
    type: [32m'FOLDER'[39m,
    order: [33m0[39m,
    level: [33m1[39m,
    expandable: [33mfalse[39m,
    version: [33m0[39m,
    metadata: {},
    visible: [33mtrue[39m,
    parentId: [1mnull[22m
  }
]

[90mstdout[2m | src/app/pages/project/project.component.spec.ts[2m > [22m[2mProjectComponent[2m > [22m[2mpublish project[2m > [22m[2mshould open publish plan when onPublishClick is called
[22m[39mProjectComponent init
Loading project testuser/test-project

[90mstdout[2m | src/app/components/project-tree/project-tree.component.spec.ts[2m > [22m[2mProjectTreeComponent[2m > [22m[2mTouch and Click Toggle Handling[2m > [22m[2mshould clear touch flag after timeout
[22m[39m[DEBUG][ProjectTree] Visible elements changed [
  {
    id: [32m'1'[39m,
    name: [32m'Test Element'[39m,
    type: [32m'FOLDER'[39m,
    order: [33m0[39m,
    level: [33m1[39m,
    expandable: [33mfalse[39m,
    version: [33m0[39m,
    metadata: {},
    visible: [33mtrue[39m,
    parentId: [1mnull[22m
  }
]

[90mstdout[2m | src/app/dialogs/edit-project-dialog/edit-project-dialog.component.spec.ts[2m > [22m[2mEditProjectDialogComponent[2m > [22m[2monSave functionality[2m > [22m[2mshould call uploadProjectCover if a new cover image was selected
[22m[39mdialogData:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}
Project:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}

[90mstdout[2m | src/app/components/project-tree/project-tree.component.spec.ts[2m > [22m[2mProjectTreeComponent[2m > [22m[2mTouch and Click Toggle Handling[2m > [22m[2mshould clear existing timeout when new touch event occurs
[22m[39m[DEBUG][ProjectTree] Visible elements changed [
  {
    id: [32m'1'[39m,
    name: [32m'Test Element'[39m,
    type: [32m'FOLDER'[39m,
    order: [33m0[39m,
    level: [33m1[39m,
    expandable: [33mfalse[39m,
    version: [33m0[39m,
    metadata: {},
    visible: [33mtrue[39m,
    parentId: [1mnull[22m
  }
]

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/pages/project/tabs/tab-interface.component.spec.ts [2m([22m[2m17 tests[22m[2m)[22m[33m 1845[2mms[22m[39m
[90mstdout[2m | src/app/components/project-tree/project-tree.component.spec.ts[2m > [22m[2mProjectTreeComponent[2m > [22m[2mTouch and Click Toggle Handling[2m > [22m[2mshould handle touch events for different nodes independently
[22m[39m[DEBUG][ProjectTree] Visible elements changed [
  {
    id: [32m'1'[39m,
    name: [32m'Test Element'[39m,
    type: [32m'FOLDER'[39m,
    order: [33m0[39m,
    level: [33m1[39m,
    expandable: [33mfalse[39m,
    version: [33m0[39m,
    metadata: {},
    visible: [33mtrue[39m,
    parentId: [1mnull[22m
  }
]

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/dialogs/new-element-dialog/new-element-dialog.component.spec.ts [2m([22m[2m25 tests[22m[2m)[22m[33m 6991[2mms[22m[39m
     [33m[2mâœ“[22m[39m should create [33m 1062[2mms[22m[39m
     [33m[2mâœ“[22m[39m should initialize form with default values [33m 325[2mms[22m[39m
     [33m[2mâœ“[22m[39m should validate required fields [33m 338[2mms[22m[39m
       [33m[2mâœ“[22m[39m should advance to step 2 after selecting a type [33m 353[2mms[22m[39m
       [33m[2mâœ“[22m[39m should return the selected option details [33m 322[2mms[22m[39m
       [33m[2mâœ“[22m[39m should auto-load default templates if library is empty [33m 347[2mms[22m[39m
       [33m[2mâœ“[22m[39m should handle errors when loading schemas [33m 410[2mms[22m[39m
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/dialogs/generate-cover-dialog/generate-cover-dialog.component.spec.ts [2m([22m[2m14 tests[22m[2m)[22m[33m 1263[2mms[22m[39m
[90mstdout[2m | src/app/components/project-tree/project-tree.component.spec.ts[2m > [22m[2mProjectTreeComponent[2m > [22m[2mshould edit project
[22m[39m[DEBUG][ProjectTree] Visible elements changed [
  {
    id: [32m'1'[39m,
    name: [32m'Test Element'[39m,
    type: [32m'FOLDER'[39m,
    order: [33m0[39m,
    level: [33m1[39m,
    expandable: [33mfalse[39m,
    version: [33m0[39m,
    metadata: {},
    visible: [33mtrue[39m,
    parentId: [1mnull[22m
  }
]

stderr | src/app/services/project/project.service.spec.ts > ProjectService > getProjectByUsernameAndSlug > handles network errors correctly
Project loading error: ProjectServiceError: Server unavailable
    at _ProjectService.formatError (D:/dev/inkweld/frontend/src/app/services/project/project.service.ts:688:16)
    at D:/dev/inkweld/frontend/src/app/services/project/project.service.ts:213:39
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\catchError.js:13:51
    at OperatorSubscriber._this._error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\OperatorSubscriber.js:43:21)
    at OperatorSubscriber.Subscriber.error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Subscriber.js:60:18)
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\retry.js:60:36
    at OperatorSubscriber._this._error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\OperatorSubscriber.js:43:21)
    at OperatorSubscriber.Subscriber.error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Subscriber.js:60:18)
    at Observable.init [as _subscribe] (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\observable\throwError.js:8:58)
    at Observable._trySubscribe (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Observable.js:41:25) {
  code: 'NETWORK_ERROR',
  canUseCache: true
}

stderr | src/app/components/user-menu/user-menu.component.spec.ts > UserMenuComponent > onLogout() > should handle logout error
Logout failed Error: Failed
    at D:/dev/inkweld/frontend/src/app/components/user-menu/user-menu.component.spec.ts:83:48
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:912:26
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1237:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1203:10)
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1647:37
    at Traces.$ (file:///D:/dev/inkweld/frontend/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)
    at trace (file:///D:/dev/inkweld/frontend/node_modules/vitest/dist/chunks/test.DqQZzsWf.js:234:21)
    at runTest (file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1647:12)

[90mstdout[2m | src/app/components/lint/lint-plugin.spec.ts[2m > [22m[2mLintPlugin[2m > [22m[2mshould call the lint service when document changes
[22m[39m[LintPlugin] Destroying lint plugin subscription

stderr | src/app/services/project/project.service.spec.ts > ProjectService > getProjectByUsernameAndSlug > handles not found errors correctly
Project loading error: ProjectServiceError: Project not found
    at _ProjectService.formatError (D:/dev/inkweld/frontend/src/app/services/project/project.service.ts:702:16)
    at D:/dev/inkweld/frontend/src/app/services/project/project.service.ts:213:39
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\catchError.js:13:51
    at OperatorSubscriber._this._error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\OperatorSubscriber.js:43:21)
    at OperatorSubscriber.Subscriber.error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Subscriber.js:60:18)
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\retry.js:60:36
    at OperatorSubscriber._this._error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\OperatorSubscriber.js:43:21)
    at OperatorSubscriber.Subscriber.error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Subscriber.js:60:18)
    at Observable.init [as _subscribe] (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\observable\throwError.js:8:58)
    at Observable._trySubscribe (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Observable.js:41:25) {
  code: 'PROJECT_NOT_FOUND',
  canUseCache: false
}

[90mstdout[2m | src/app/components/lint/lint-plugin.spec.ts[2m > [22m[2mLintPlugin[2m > [22m[2mshould handle click events on lint errors
[22m[39m[LintPlugin] Returning 0 decorations for rendering
[LintPlugin] Initializing lint plugin view

[90mstdout[2m | src/app/components/lint/lint-plugin.spec.ts[2m > [22m[2mLintPlugin[2m > [22m[2mshould handle click events on lint errors
[22m[39m[LintPlugin] Destroying lint plugin subscription

[90mstdout[2m | src/app/pages/project/project.component.spec.ts[2m > [22m[2mProjectComponent[2m > [22m[2mpublish project[2m > [22m[2mshould open existing publish plan when one exists
[22m[39mProjectComponent init
Loading project testuser/test-project

[90mstdout[2m | src/app/components/lint/lint-plugin.spec.ts[2m > [22m[2mLintPlugin[2m > [22m[2mshould ignore stale lint results
[22m[39m[LintPlugin] Returning 0 decorations for rendering
[LintPlugin] Initializing lint plugin view

stderr | src/app/components/lint/lint-plugin.spec.ts > LintPlugin > should ignore stale lint results
[LintPlugin] Invalid range detected, from >= to { from: 1, to: 1 }
[LintPlugin] Invalid range detected, from >= to { from: 1, to: 1 }

[90mstdout[2m | src/app/components/lint/lint-plugin.spec.ts[2m > [22m[2mLintPlugin[2m > [22m[2mshould ignore stale lint results
[22m[39m[LintPlugin] Applying new decorations from meta
[LintPlugin] Creating decorations for corrections: [
  {
    from: [33m10[39m,
    to: [33m14[39m,
    suggestion: [32m'test sentence'[39m,
    reason: [32m'Grammar improvement'[39m
  }
]
[LintPlugin] Filtered 0 rejected suggestions
[LintPlugin] Created 0 decorations
[LintPlugin] Returning 0 decorations for rendering
[LintPlugin] Applying new decorations from meta
[LintPlugin] Creating decorations for corrections: [
  {
    from: [33m20[39m,
    to: [33m25[39m,
    suggestion: [32m'different suggestion'[39m,
    reason: [32m'Different correction'[39m
  }
]
[LintPlugin] Filtered 0 rejected suggestions
[LintPlugin] Created 0 decorations
[LintPlugin] Returning 0 decorations for rendering
[LintPlugin] Returning 0 decorations for rendering

[90mstdout[2m | src/app/components/project-tree/project-tree.component.spec.ts[2m > [22m[2mProjectTreeComponent[2m > [22m[2mRename Handling[2m > [22m[2mshould handle successful rename
[22m[39m[DEBUG][ProjectTree] Visible elements changed [
  {
    id: [32m'1'[39m,
    name: [32m'Test Element'[39m,
    type: [32m'FOLDER'[39m,
    order: [33m0[39m,
    level: [33m1[39m,
    expandable: [33mfalse[39m,
    version: [33m0[39m,
    metadata: {},
    visible: [33mtrue[39m,
    parentId: [1mnull[22m
  }
]

[90mstdout[2m | src/app/components/lint/lint-plugin.spec.ts[2m > [22m[2mLintPlugin[2m > [22m[2mshould ignore stale lint results
[22m[39m[LintPlugin] Destroying lint plugin subscription

stderr | src/app/services/project/project.service.spec.ts > ProjectService > loadAllProjects > handles network errors gracefully when cache is available
Network/server error, using cached projects: 0 Unknown Error

[90mstdout[2m | src/app/services/project/project.service.spec.ts[2m > [22m[2mProjectService[2m > [22m[2mloadAllProjects[2m > [22m[2mhandles network errors gracefully when cache is available
[22m[39mUsing cached projects due to network/server error

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/dialogs/file-upload/file-upload.spec.ts [2m([22m[2m8 tests[22m[2m)[22m[33m 511[2mms[22m[39m
[90mstdout[2m | src/app/components/project-tree/project-tree.component.spec.ts[2m > [22m[2mProjectTreeComponent[2m > [22m[2mRename Handling[2m > [22m[2mshould handle cancelled rename
[22m[39m[DEBUG][ProjectTree] Visible elements changed [
  {
    id: [32m'1'[39m,
    name: [32m'Test Element'[39m,
    type: [32m'FOLDER'[39m,
    order: [33m0[39m,
    level: [33m1[39m,
    expandable: [33mfalse[39m,
    version: [33m0[39m,
    metadata: {},
    visible: [33mtrue[39m,
    parentId: [1mnull[22m
  }
]

stderr | src/app/services/project/project.service.spec.ts > ProjectService > loadAllProjects > handles server unavailable errors gracefully when cache is available
Network/server error, using cached projects: 503 Unknown Error

[90mstdout[2m | src/app/services/project/project.service.spec.ts[2m > [22m[2mProjectService[2m > [22m[2mloadAllProjects[2m > [22m[2mhandles server unavailable errors gracefully when cache is available
[22m[39mUsing cached projects due to network/server error

[90mstdout[2m | src/app/components/lint/lint-plugin.spec.ts[2m > [22m[2mLintPlugin[2m > [22m[2mshould clean up on destroy
[22m[39m[LintPlugin] Returning 0 decorations for rendering
[LintPlugin] Initializing lint plugin view

[90mstdout[2m | src/app/dialogs/edit-project-dialog/edit-project-dialog.component.spec.ts[2m > [22m[2mEditProjectDialogComponent[2m > [22m[2monSave functionality[2m > [22m[2mshould NOT call uploadProjectCover if no new cover image was selected
[22m[39mdialogData:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}
Project:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}

[90mstdout[2m | src/app/components/lint/lint-plugin.spec.ts[2m > [22m[2mLintPlugin[2m > [22m[2mshould clean up on destroy
[22m[39m[LintPlugin] Initializing lint plugin view
[LintPlugin] Destroying lint plugin subscription

[90mstdout[2m | src/app/components/lint/lint-plugin.spec.ts[2m > [22m[2mLintPlugin[2m > [22m[2mshould clean up on destroy
[22m[39m[LintPlugin] Destroying lint plugin subscription

stderr | src/app/services/project/project.service.spec.ts > ProjectService > loadAllProjects > does not use cache for non-recoverable errors like 500
Projects loading error: ProjectServiceError: An unexpected error occurred
    at _ProjectService.formatError (D:/dev/inkweld/frontend/src/app/services/project/project.service.ts:721:12)
    at D:/dev/inkweld/frontend/src/app/services/project/project.service.ts:142:41
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\catchError.js:13:51
    at OperatorSubscriber._this._error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\OperatorSubscriber.js:43:21)
    at OperatorSubscriber.Subscriber.error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Subscriber.js:60:18)
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\retry.js:60:36
    at OperatorSubscriber._this._error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\OperatorSubscriber.js:43:21)
    at OperatorSubscriber.Subscriber.error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Subscriber.js:60:18)
    at Observable.init [as _subscribe] (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\observable\throwError.js:8:58)
    at Observable._trySubscribe (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Observable.js:41:25) {
  code: 'SERVER_ERROR',
  canUseCache: false
}

stderr | src/app/services/project/project.service.spec.ts > ProjectService > loadAllProjects > handles API errors when no cache is available
Projects loading error: ProjectServiceError: Server unavailable
    at _ProjectService.formatError (D:/dev/inkweld/frontend/src/app/services/project/project.service.ts:688:16)
    at D:/dev/inkweld/frontend/src/app/services/project/project.service.ts:142:41
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\catchError.js:13:51
    at OperatorSubscriber._this._error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\OperatorSubscriber.js:43:21)
    at OperatorSubscriber.Subscriber.error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Subscriber.js:60:18)
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\retry.js:60:36
    at OperatorSubscriber._this._error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\OperatorSubscriber.js:43:21)
    at OperatorSubscriber.Subscriber.error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Subscriber.js:60:18)
    at Observable.init [as _subscribe] (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\observable\throwError.js:8:58)
    at Observable._trySubscribe (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Observable.js:41:25) {
  code: 'NETWORK_ERROR',
  canUseCache: true
}

stderr | src/app/services/project/project.service.spec.ts > ProjectService > createProject > handles API errors correctly
Project creation error: ProjectServiceError: An unexpected error occurred
    at _ProjectService.formatError (D:/dev/inkweld/frontend/src/app/services/project/project.service.ts:721:12)
    at D:/dev/inkweld/frontend/src/app/services/project/project.service.ts:299:39
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\catchError.js:13:51
    at OperatorSubscriber._this._error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\OperatorSubscriber.js:43:21)
    at OperatorSubscriber.Subscriber.error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Subscriber.js:60:18)
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\retry.js:60:36
    at OperatorSubscriber._this._error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\OperatorSubscriber.js:43:21)
    at OperatorSubscriber.Subscriber.error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Subscriber.js:60:18)
    at Observable.init [as _subscribe] (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\observable\throwError.js:8:58)
    at Observable._trySubscribe (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Observable.js:41:25) {
  code: 'SERVER_ERROR',
  canUseCache: false
}

stderr | src/app/services/project/project.service.spec.ts > ProjectService > createProject > handles network errors correctly
Project creation error: ProjectServiceError: Server unavailable
    at _ProjectService.formatError (D:/dev/inkweld/frontend/src/app/services/project/project.service.ts:688:16)
    at D:/dev/inkweld/frontend/src/app/services/project/project.service.ts:299:39
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\catchError.js:13:51
    at OperatorSubscriber._this._error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\OperatorSubscriber.js:43:21)
    at OperatorSubscriber.Subscriber.error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Subscriber.js:60:18)
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\retry.js:60:36
    at OperatorSubscriber._this._error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\OperatorSubscriber.js:43:21)
    at OperatorSubscriber.Subscriber.error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Subscriber.js:60:18)
    at Observable.init [as _subscribe] (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\observable\throwError.js:8:58)
    at Observable._trySubscribe (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Observable.js:41:25) {
  code: 'NETWORK_ERROR',
  canUseCache: true
}

[90mstdout[2m | src/app/components/project-tree/project-tree.component.spec.ts[2m > [22m[2mProjectTreeComponent[2m > [22m[2mRename Handling[2m > [22m[2mshould use correct title for folder nodes
[22m[39m[DEBUG][ProjectTree] Visible elements changed [
  {
    id: [32m'1'[39m,
    name: [32m'Test Element'[39m,
    type: [32m'FOLDER'[39m,
    order: [33m0[39m,
    level: [33m1[39m,
    expandable: [33mfalse[39m,
    version: [33m0[39m,
    metadata: {},
    visible: [33mtrue[39m,
    parentId: [1mnull[22m
  }
]

stderr | src/app/services/project/project.service.spec.ts > ProjectService > updateProject > handles API errors correctly
Project update error: ProjectServiceError: Project not found
    at _ProjectService.formatError (D:/dev/inkweld/frontend/src/app/services/project/project.service.ts:702:16)
    at D:/dev/inkweld/frontend/src/app/services/project/project.service.ts:341:39
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\catchError.js:13:51
    at OperatorSubscriber._this._error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\OperatorSubscriber.js:43:21)
    at OperatorSubscriber.Subscriber.error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Subscriber.js:60:18)
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\retry.js:60:36
    at OperatorSubscriber._this._error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\OperatorSubscriber.js:43:21)
    at OperatorSubscriber.Subscriber.error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Subscriber.js:60:18)
    at Observable.init [as _subscribe] (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\observable\throwError.js:8:58)
    at Observable._trySubscribe (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Observable.js:41:25) {
  code: 'PROJECT_NOT_FOUND',
  canUseCache: false
}

stderr | src/app/services/project/project.service.spec.ts > ProjectService > updateProject > handles network errors correctly
Project update error: ProjectServiceError: Server unavailable
    at _ProjectService.formatError (D:/dev/inkweld/frontend/src/app/services/project/project.service.ts:688:16)
    at D:/dev/inkweld/frontend/src/app/services/project/project.service.ts:341:39
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\catchError.js:13:51
    at OperatorSubscriber._this._error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\OperatorSubscriber.js:43:21)
    at OperatorSubscriber.Subscriber.error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Subscriber.js:60:18)
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\retry.js:60:36
    at OperatorSubscriber._this._error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\OperatorSubscriber.js:43:21)
    at OperatorSubscriber.Subscriber.error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Subscriber.js:60:18)
    at Observable.init [as _subscribe] (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\observable\throwError.js:8:58)
    at Observable._trySubscribe (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Observable.js:41:25) {
  code: 'NETWORK_ERROR',
  canUseCache: true
}

stderr | src/app/services/project/project.service.spec.ts > ProjectService > updateProject > handles unauthorized errors correctly
Project update error: ProjectServiceError: Session expired
    at _ProjectService.formatError (D:/dev/inkweld/frontend/src/app/services/project/project.service.ts:695:16)
    at D:/dev/inkweld/frontend/src/app/services/project/project.service.ts:341:39
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\catchError.js:13:51
    at OperatorSubscriber._this._error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\OperatorSubscriber.js:43:21)
    at OperatorSubscriber.Subscriber.error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Subscriber.js:60:18)
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\retry.js:60:36
    at OperatorSubscriber._this._error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\OperatorSubscriber.js:43:21)
    at OperatorSubscriber.Subscriber.error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Subscriber.js:60:18)
    at Observable.init [as _subscribe] (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\observable\throwError.js:8:58)
    at Observable._trySubscribe (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Observable.js:41:25) {
  code: 'SESSION_EXPIRED',
  canUseCache: false
}

[90mstdout[2m | src/app/components/project-tree/project-tree.component.spec.ts[2m > [22m[2mProjectTreeComponent[2m > [22m[2mContext Menu[2m > [22m[2mBasic Menu Operations[2m > [22m[2mshould open and close context menu
[22m[39m[DEBUG][ProjectTree] Visible elements changed [
  {
    id: [32m'1'[39m,
    name: [32m'Test Element'[39m,
    type: [32m'FOLDER'[39m,
    order: [33m0[39m,
    level: [33m1[39m,
    expandable: [33mfalse[39m,
    version: [33m0[39m,
    metadata: {},
    visible: [33mtrue[39m,
    parentId: [1mnull[22m
  }
]

stderr | src/app/services/project/project.service.spec.ts > ProjectService > deleteProject > handles API errors correctly
Project deletion error: ProjectServiceError: Project not found
    at _ProjectService.formatError (D:/dev/inkweld/frontend/src/app/services/project/project.service.ts:702:16)
    at D:/dev/inkweld/frontend/src/app/services/project/project.service.ts:380:39
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\catchError.js:13:51
    at OperatorSubscriber._this._error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\OperatorSubscriber.js:43:21)
    at OperatorSubscriber.Subscriber.error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Subscriber.js:60:18)
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\retry.js:60:36
    at OperatorSubscriber._this._error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\OperatorSubscriber.js:43:21)
    at OperatorSubscriber.Subscriber.error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Subscriber.js:60:18)
    at Observable.init [as _subscribe] (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\observable\throwError.js:8:58)
    at Observable._trySubscribe (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Observable.js:41:25) {
  code: 'PROJECT_NOT_FOUND',
  canUseCache: false
}

stderr | src/app/services/project/project.service.spec.ts > ProjectService > deleteProject > handles network errors correctly
Project deletion error: ProjectServiceError: Server unavailable
    at _ProjectService.formatError (D:/dev/inkweld/frontend/src/app/services/project/project.service.ts:688:16)
    at D:/dev/inkweld/frontend/src/app/services/project/project.service.ts:380:39
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\catchError.js:13:51
    at OperatorSubscriber._this._error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\OperatorSubscriber.js:43:21)
    at OperatorSubscriber.Subscriber.error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Subscriber.js:60:18)
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\retry.js:60:36
    at OperatorSubscriber._this._error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\OperatorSubscriber.js:43:21)
    at OperatorSubscriber.Subscriber.error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Subscriber.js:60:18)
    at Observable.init [as _subscribe] (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\observable\throwError.js:8:58)
    at Observable._trySubscribe (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Observable.js:41:25) {
  code: 'NETWORK_ERROR',
  canUseCache: true
}

stderr | src/app/services/project/project.service.spec.ts > ProjectService > deleteProject > handles unauthorized errors correctly
Project deletion error: ProjectServiceError: Session expired
    at _ProjectService.formatError (D:/dev/inkweld/frontend/src/app/services/project/project.service.ts:695:16)
    at D:/dev/inkweld/frontend/src/app/services/project/project.service.ts:380:39
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\catchError.js:13:51
    at OperatorSubscriber._this._error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\OperatorSubscriber.js:43:21)
    at OperatorSubscriber.Subscriber.error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Subscriber.js:60:18)
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\retry.js:60:36
    at OperatorSubscriber._this._error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\OperatorSubscriber.js:43:21)
    at OperatorSubscriber.Subscriber.error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Subscriber.js:60:18)
    at Observable.init [as _subscribe] (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\observable\throwError.js:8:58)
    at Observable._trySubscribe (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Observable.js:41:25) {
  code: 'SESSION_EXPIRED',
  canUseCache: false
}

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/components/lint/lint-plugin.spec.ts [2m([22m[2m6 tests[22m[2m)[22m[33m 924[2mms[22m[39m
     [33m[2mâœ“[22m[39m should call the lint service when document changes [33m 839[2mms[22m[39m
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
stderr | src/app/services/project/project.service.spec.ts > ProjectService > getProjectCover > handles API errors correctly
Project cover image not found: ProjectServiceError: Cover image not found
    at _ProjectService.getProjectCover (D:/dev/inkweld/frontend/src/app/services/project/project.service.ts:466:28)
    at processTicksAndRejections (node:internal/process/task_queues:105:5) {
  code: 'PROJECT_NOT_FOUND',
  canUseCache: false
}

stderr | src/app/services/project/project.service.spec.ts > ProjectService > getProjectCover > handles network errors correctly
Project cover image loading error: ProjectServiceError: Server unavailable
    at _ProjectService.formatError (D:/dev/inkweld/frontend/src/app/services/project/project.service.ts:688:16)
    at D:/dev/inkweld/frontend/src/app/services/project/project.service.ts:439:39
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\catchError.js:13:51
    at OperatorSubscriber._this._error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\OperatorSubscriber.js:43:21)
    at OperatorSubscriber.Subscriber.error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Subscriber.js:60:18)
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\retry.js:60:36
    at OperatorSubscriber._this._error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\OperatorSubscriber.js:43:21)
    at OperatorSubscriber.Subscriber.error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Subscriber.js:60:18)
    at Observable.init [as _subscribe] (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\observable\throwError.js:8:58)
    at Observable._trySubscribe (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Observable.js:41:25) {
  code: 'NETWORK_ERROR',
  canUseCache: true
}

[90mstdout[2m | src/app/components/project-tree/project-tree.component.spec.ts[2m > [22m[2mProjectTreeComponent[2m > [22m[2mContext Menu[2m > [22m[2mBasic Menu Operations[2m > [22m[2mshould open document through context menu
[22m[39m[DEBUG][ProjectTree] Visible elements changed [
  {
    id: [32m'1'[39m,
    name: [32m'Test Element'[39m,
    type: [32m'FOLDER'[39m,
    order: [33m0[39m,
    level: [33m1[39m,
    expandable: [33mfalse[39m,
    version: [33m0[39m,
    metadata: {},
    visible: [33mtrue[39m,
    parentId: [1mnull[22m
  }
]

stderr | src/app/services/project/project.service.spec.ts > ProjectService > deleteProjectCover > handles API errors correctly
Project cover deletion error: ProjectServiceError: Project not found
    at _ProjectService.formatError (D:/dev/inkweld/frontend/src/app/services/project/project.service.ts:702:16)
    at D:/dev/inkweld/frontend/src/app/services/project/project.service.ts:503:51
    at Observable.init [as _subscribe] (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\observable\throwError.js:8:64)
    at Observable._trySubscribe (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Observable.js:41:25)
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Observable.js:35:31
    at Object.errorContext (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\util\errorContext.js:22:9)
    at Observable.subscribe (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Observable.js:26:24)
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\catchError.js:26:27
    at SafeSubscriber.<anonymous> (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\util\lift.js:14:28)
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Observable.js:30:30 {
  code: 'PROJECT_NOT_FOUND',
  canUseCache: false
}

stderr | src/app/services/project/project.service.spec.ts > ProjectService > deleteProjectCover > handles network errors correctly
Project cover deletion error: ProjectServiceError: Server unavailable
    at _ProjectService.formatError (D:/dev/inkweld/frontend/src/app/services/project/project.service.ts:688:16)
    at D:/dev/inkweld/frontend/src/app/services/project/project.service.ts:503:51
    at Observable.init [as _subscribe] (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\observable\throwError.js:8:64)
    at Observable._trySubscribe (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Observable.js:41:25)
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Observable.js:35:31
    at Object.errorContext (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\util\errorContext.js:22:9)
    at Observable.subscribe (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Observable.js:26:24)
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\catchError.js:26:27
    at SafeSubscriber.<anonymous> (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\util\lift.js:14:28)
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Observable.js:30:30 {
  code: 'NETWORK_ERROR',
  canUseCache: true
}

[90mstdout[2m | src/app/pages/project/project.component.spec.ts[2m > [22m[2mProjectComponent[2m > [22m[2medit project dialog[2m > [22m[2mshould open edit project dialog
[22m[39mProjectComponent init
Loading project testuser/test-project

stderr | src/app/services/project/project.service.spec.ts > ProjectService > deleteProjectCover > continues even if IndexedDB cache clear fails
Failed to clear cached cover image: Error: IndexedDB error
    at D:/dev/inkweld/frontend/src/app/services/project/project.service.spec.ts:876:9
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:912:26
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1237:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1203:10)
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1647:37
    at Traces.$ (file:///D:/dev/inkweld/frontend/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)
    at trace (file:///D:/dev/inkweld/frontend/node_modules/vitest/dist/chunks/test.DqQZzsWf.js:234:21)
    at runTest (file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1647:12)

[90mstdout[2m | src/app/dialogs/edit-project-dialog/edit-project-dialog.component.spec.ts[2m > [22m[2mEditProjectDialogComponent[2m > [22m[2monSave functionality[2m > [22m[2mshould handle error during cover upload but still close dialog
[22m[39mdialogData:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}
Project:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}

stderr | src/app/dialogs/edit-project-dialog/edit-project-dialog.component.spec.ts > EditProjectDialogComponent > onSave functionality > should handle error during cover upload but still close dialog
Failed to upload cover image: Upload failed

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/components/project-tree/project-tree.component.spec.ts [2m([22m[2m25 tests[22m[2m)[22m[33m 1342[2mms[22m[39m
stderr | src/app/services/project/project-import-export.service.spec.ts > ProjectImportExportService > exportProject > should handle error when createProjectArchive fails in exportProject
Export error: Error: Test createProjectArchive error
    at _ProjectImportExportService.<anonymous> (D:/dev/inkweld/frontend/src/app/services/project/project-import-export.service.spec.ts:100:15)
    at _ProjectImportExportService.Mock [as createProjectArchive] (file:///D:/dev/inkweld/frontend/node_modules/@vitest/spy/dist/index.js:280:34)
    at _ProjectImportExportService.exportProject (D:/dev/inkweld/frontend/src/app/services/project/project-import-export.service.ts:51:34)
    at D:/dev/inkweld/frontend/src/app/services/project/project-import-export.service.spec.ts:102:28
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:912:26
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1237:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1203:10)
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1647:37

stderr | src/app/services/project/project-import-export.service.spec.ts > ProjectImportExportService > exportProject > should handle error if triggerDownload fails in exportProject
Export error: Error: Download error
    at _ProjectImportExportService.<anonymous> (D:/dev/inkweld/frontend/src/app/services/project/project-import-export.service.spec.ts:115:24)
    at _ProjectImportExportService.Mock [as triggerDownload] (file:///D:/dev/inkweld/frontend/node_modules/@vitest/spy/dist/index.js:280:34)
    at _ProjectImportExportService.exportProject (D:/dev/inkweld/frontend/src/app/services/project/project-import-export.service.ts:72:18)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at D:/dev/inkweld/frontend/src/app/services/project/project-import-export.service.spec.ts:117:7
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:912:20

stderr | src/app/services/project/project.service.spec.ts > ProjectService > uploadProjectCover (offline mode) > does not save to offline storage in server mode
Background refresh failed for project alice/project-1: TypeError: Cannot read properties of undefined (reading 'pipe')
    at _ProjectService.refreshProjectInBackground (D:/dev/inkweld/frontend/src/app/services/project/project.service.ts:250:50)
    at Timeout._onTimeout (D:/dev/inkweld/frontend/src/app/services/project/project.service.ts:200:29)
    at listOnTimeout (node:internal/timers:608:17)
    at processTimers (node:internal/timers:543:7)

stderr | src/app/services/project/project.service.spec.ts > ProjectService > uploadProjectCover (offline mode) > does not save to offline storage in server mode
Background refresh failed for project alice/project-1: Error: Test error
    at D:/dev/inkweld/frontend/src/app/services/project/project.service.spec.ts:216:45
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:912:26
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1237:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1203:10)
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1647:37
    at Traces.$ (file:///D:/dev/inkweld/frontend/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)
    at trace (file:///D:/dev/inkweld/frontend/node_modules/vitest/dist/chunks/test.DqQZzsWf.js:234:21)
    at runTest (file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1647:12)

stderr | src/app/services/project/project.service.spec.ts > ProjectService > uploadProjectCover (offline mode) > does not save to offline storage in server mode
Background refresh failed for project alice/project-1: Error: Test error
    at D:/dev/inkweld/frontend/src/app/services/project/project.service.spec.ts:216:45
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:912:26
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1237:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1203:10)
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1647:37
    at Traces.$ (file:///D:/dev/inkweld/frontend/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)
    at trace (file:///D:/dev/inkweld/frontend/node_modules/vitest/dist/chunks/test.DqQZzsWf.js:234:21)
    at runTest (file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1647:12)

stderr | src/app/services/project/project.service.spec.ts > ProjectService > uploadProjectCover (offline mode) > does not save to offline storage in server mode
Background refresh failed for project alice/project-1: Error: Test error
    at D:/dev/inkweld/frontend/src/app/services/project/project.service.spec.ts:337:45
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:912:26
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1237:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1203:10)
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1647:37
    at Traces.$ (file:///D:/dev/inkweld/frontend/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)
    at trace (file:///D:/dev/inkweld/frontend/node_modules/vitest/dist/chunks/test.DqQZzsWf.js:234:21)
    at runTest (file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1647:12)

stderr | src/app/services/project/project.service.spec.ts > ProjectService > uploadProjectCover (offline mode) > does not save to offline storage in server mode
Background refresh failed for project alice/project-1: Error: Test error
    at D:/dev/inkweld/frontend/src/app/services/project/project.service.spec.ts:337:45
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:912:26
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1237:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1203:10)
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1647:37
    at Traces.$ (file:///D:/dev/inkweld/frontend/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)
    at trace (file:///D:/dev/inkweld/frontend/node_modules/vitest/dist/chunks/test.DqQZzsWf.js:234:21)
    at runTest (file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1647:12)

stderr | src/app/services/project/project.service.spec.ts > ProjectService > uploadProjectCover (offline mode) > does not save to offline storage in server mode
Project cover upload error: ProjectServiceError: Server unavailable
    at _ProjectService.formatError (D:/dev/inkweld/frontend/src/app/services/project/project.service.ts:688:16)
    at D:/dev/inkweld/frontend/src/app/services/project/project.service.ts:569:53
    at Observable.init [as _subscribe] (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\observable\throwError.js:8:64)
    at Observable._trySubscribe (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Observable.js:41:25)
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Observable.js:35:31
    at Object.errorContext (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\util\errorContext.js:22:9)
    at Observable.subscribe (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Observable.js:26:24)
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\catchError.js:17:31
    at OperatorSubscriber._this._error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\OperatorSubscriber.js:43:21)
    at OperatorSubscriber.Subscriber.error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Subscriber.js:60:18) {
  code: 'NETWORK_ERROR',
  canUseCache: true
}

[90mstdout[2m | src/app/dialogs/edit-project-dialog/edit-project-dialog.component.spec.ts[2m > [22m[2mEditProjectDialogComponent[2m > [22m[2monSave functionality[2m > [22m[2mshould handle error during project update
[22m[39mdialogData:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}
Project:  {
  id: [32m'123'[39m,
  title: [32m'Test Project'[39m,
  description: [32m'Test Description'[39m,
  slug: [32m'test-project'[39m,
  createdDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  updatedDate: [32m'2025-02-12T15:30:00.000Z'[39m,
  username: [32m'testuser'[39m
}

stderr | src/app/dialogs/edit-project-dialog/edit-project-dialog.component.spec.ts > EditProjectDialogComponent > onSave functionality > should handle error during project update
Failed to update project: Update failed

stderr | src/app/services/project/project-import-export.service.spec.ts > ProjectImportExportService > exportProjectZip > should handle error when createProjectArchive fails in exportProjectZip
Export error: Error: Test createProjectArchive error
    at _ProjectImportExportService.<anonymous> (D:/dev/inkweld/frontend/src/app/services/project/project-import-export.service.spec.ts:147:15)
    at _ProjectImportExportService.Mock [as createProjectArchive] (file:///D:/dev/inkweld/frontend/node_modules/@vitest/spy/dist/index.js:280:34)
    at _ProjectImportExportService.exportProjectZip (D:/dev/inkweld/frontend/src/app/services/project/project-import-export.service.ts:101:34)
    at D:/dev/inkweld/frontend/src/app/services/project/project-import-export.service.spec.ts:149:28
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:912:26
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1237:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1203:10)
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1647:37

stderr | src/app/services/project/project.service.spec.ts > ProjectService > clearCache > handles errors when clearing cache
Failed to clear project cache: Error: Storage error
    at D:/dev/inkweld/frontend/src/app/services/project/project.service.spec.ts:1036:38
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:912:26
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1237:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1203:10)
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1647:37
    at Traces.$ (file:///D:/dev/inkweld/frontend/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)
    at trace (file:///D:/dev/inkweld/frontend/node_modules/vitest/dist/chunks/test.DqQZzsWf.js:234:21)
    at runTest (file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1647:12)

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/services/core/system-config.service.spec.ts [2m([22m[2m18 tests[22m[2m)[22m[33m 630[2mms[22m[39m
stderr | src/app/services/project/project.service.spec.ts > ProjectService > throws SERVER_ERROR when API & cache both fail
Projects loading error: ProjectServiceError: An unexpected error occurred
    at _ProjectService.formatError (D:/dev/inkweld/frontend/src/app/services/project/project.service.ts:721:12)
    at D:/dev/inkweld/frontend/src/app/services/project/project.service.ts:142:41
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\catchError.js:13:51
    at OperatorSubscriber._this._error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\OperatorSubscriber.js:43:21)
    at OperatorSubscriber.Subscriber.error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Subscriber.js:60:18)
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\retry.js:60:36
    at OperatorSubscriber._this._error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\OperatorSubscriber.js:43:21)
    at OperatorSubscriber.Subscriber.error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Subscriber.js:60:18)
    at Observable.init [as _subscribe] (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\observable\throwError.js:8:58)
    at Observable._trySubscribe (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Observable.js:41:25) {
  code: 'SERVER_ERROR',
  canUseCache: false
}

Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/dialogs/user-settings-dialog/tabs/project-settings/project-settings.component.spec.ts [2m([22m[2m9 tests[22m[2m)[22m[33m 704[2mms[22m[39m
stderr | src/app/services/project/project-import-export.service.spec.ts > ProjectImportExportService > exportProjectZip > should handle error if triggerDownload fails in exportProjectZip
Export error: Error: Download error
    at _ProjectImportExportService.<anonymous> (D:/dev/inkweld/frontend/src/app/services/project/project-import-export.service.spec.ts:162:24)
    at _ProjectImportExportService.Mock [as triggerDownload] (file:///D:/dev/inkweld/frontend/node_modules/@vitest/spy/dist/index.js:280:34)
    at _ProjectImportExportService.exportProjectZip (D:/dev/inkweld/frontend/src/app/services/project/project-import-export.service.ts:129:18)
    at D:/dev/inkweld/frontend/src/app/services/project/project-import-export.service.spec.ts:164:7
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:912:20

stderr | src/app/services/project/project-import-export.service.spec.ts > ProjectImportExportService > importProject > should handle error when updateProjectState fails in importProject
Import error: Error: Test updateProjectState error
    at _ProjectImportExportService.<anonymous> (D:/dev/inkweld/frontend/src/app/services/project/project-import-export.service.spec.ts:211:15)
    at _ProjectImportExportService.Mock [as updateProjectState] (file:///D:/dev/inkweld/frontend/node_modules/@vitest/spy/dist/index.js:280:34)
    at _ProjectImportExportService.importProject (D:/dev/inkweld/frontend/src/app/services/project/project-import-export.service.ts:158:12)

stderr | src/app/services/project/project-import-export.service.spec.ts > ProjectImportExportService > importProject > should handle error for invalid JSON in importProject
Import error: ProjectArchiveError: Unexpected token 'i', "invalid json" is not valid JSON
    at _ProjectImportExportService.importProjectArchiveFromJson (D:/dev/inkweld/frontend/src/app/services/project/project-import-export.service.ts:279:13)
    at _ProjectImportExportService.importProject (D:/dev/inkweld/frontend/src/app/services/project/project-import-export.service.ts:154:28) {
  type: 'INVALID_FORMAT',
  details: undefined
}

stderr | src/app/services/project/project-import-export.service.spec.ts > ProjectImportExportService > importProject > should handle error for invalid archive structure in importProject
Import error: ProjectArchiveError: Missing or invalid version number
    at _ProjectImportExportService.importProjectArchiveFromJson (D:/dev/inkweld/frontend/src/app/services/project/project-import-export.service.ts:279:13)
    at _ProjectImportExportService.importProject (D:/dev/inkweld/frontend/src/app/services/project/project-import-export.service.ts:154:28) {
  type: 'INVALID_FORMAT',
  details: undefined
}

stderr | src/app/services/project/project-import-export.service.spec.ts > ProjectImportExportService > importProject > should throw error if ITEM content is not a string
Document content is not a string: item2 { text: 'not a string' }
Import error: Error: Document content is not a string
    at _ProjectImportExportService.updateProjectState (D:/dev/inkweld/frontend/src/app/services/project/project-import-export.service.ts:325:17)
    at _ProjectImportExportService.importProject (D:/dev/inkweld/frontend/src/app/services/project/project-import-export.service.ts:158:12)

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/services/project/project.service.spec.ts [2m([22m[2m48 tests[22m[2m)[22m[33m 567[2mms[22m[39m
stderr | src/app/dialogs/edit-avatar-dialog/edit-avatar-dialog.component.spec.ts > EditAvatarDialogComponent > submit > should show alert and not close dialog on error
Failed to upload avatar: Error: err
    at D:/dev/inkweld/frontend/src/app/dialogs/edit-avatar-dialog/edit-avatar-dialog.component.spec.ts:161:26
    at Observable.init [as _subscribe] (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\observable\throwError.js:8:64)
    at Observable._trySubscribe (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Observable.js:41:25)
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Observable.js:35:31
    at Object.errorContext (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\util\errorContext.js:22:9)
    at Observable.subscribe (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Observable.js:26:24)
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\firstValueFrom.js:24:16
    at new Promise (<anonymous>)
    at firstValueFrom (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\firstValueFrom.js:8:12)
    at _EditAvatarDialogComponent.submit (D:/dev/inkweld/frontend/src/app/dialogs/edit-avatar-dialog/edit-avatar-dialog.component.ts:110:15)

[90mstdout[2m | src/app/pages/project/project.component.spec.ts[2m > [22m[2mProjectComponent[2m > [22m[2mzen mode[2m > [22m[2mshould start with zen mode disabled
[22m[39mProjectComponent init
Loading project testuser/test-project

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/dialogs/edit-project-dialog/edit-project-dialog.component.spec.ts [2m([22m[2m27 tests[22m[2m)[22m[33m 7908[2mms[22m[39m
     [33m[2mâœ“[22m[39m should create [33m 1289[2mms[22m[39m
     [33m[2mâœ“[22m[39m should initialize form with project data [33m 480[2mms[22m[39m
       [33m[2mâœ“[22m[39m should close the dialog without returning data [33m 320[2mms[22m[39m
       [33m[2mâœ“[22m[39m should call getProjectCover on init [33m 455[2mms[22m[39m
       [33m[2mâœ“[22m[39m should handle "Cover image not found" error gracefully [33m 315[2mms[22m[39m
       [33m[2mâœ“[22m[39m should handle generic errors during cover load [33m 459[2mms[22m[39m
       [33m[2mâœ“[22m[39m should not save if form is invalid [33m 400[2mms[22m[39m
 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/dialogs/edit-avatar-dialog/edit-avatar-dialog.component.spec.ts [2m([22m[2m11 tests[22m[2m)[22m[33m 959[2mms[22m[39m
[90mstdout[2m | src/app/components/worldbuilding/worldbuilding-editor.component.spec.ts[2m > [22m[2mWorldbuildingEditorComponent[2m > [22m[2mshould create
[22m[39m[WorldbuildingEditor] Loaded schema: {
  id: [32m'character'[39m,
  type: [32m'character'[39m,
  name: [32m'Character'[39m,
  icon: [32m'person'[39m,
  description: [32m'Character schema'[39m,
  version: [33m1[39m,
  isBuiltIn: [33mtrue[39m,
  tabs: [
    {
      key: [32m'basic'[39m,
      label: [32m'Basic Info'[39m,
      icon: [32m'info'[39m,
      order: [33m1[39m,
      fields: [36m[Array][39m
    },
    {
      key: [32m'appearance'[39m,
      label: [32m'Appearance'[39m,
      icon: [32m'visibility'[39m,
      order: [33m2[39m,
      fields: [36m[Array][39m
    }
  ],
  defaultValues: { name: [32m''[39m, age: [33m0[39m }
}

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/components/user-menu/user-menu.component.spec.ts [2m([22m[2m6 tests[22m[2m)[22m[33m 1030[2mms[22m[39m
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
[90mstdout[2m | src/app/components/worldbuilding/worldbuilding-editor.component.spec.ts[2m > [22m[2mWorldbuildingEditorComponent[2m > [22m[2mgetTabs[2m > [22m[2mshould return tabs from schema
[22m[39m[WorldbuildingEditor] Loaded schema: {
  id: [32m'character'[39m,
  type: [32m'character'[39m,
  name: [32m'Character'[39m,
  icon: [32m'person'[39m,
  description: [32m'Character schema'[39m,
  version: [33m1[39m,
  isBuiltIn: [33mtrue[39m,
  tabs: [
    {
      key: [32m'basic'[39m,
      label: [32m'Basic Info'[39m,
      icon: [32m'info'[39m,
      order: [33m1[39m,
      fields: [36m[Array][39m
    },
    {
      key: [32m'appearance'[39m,
      label: [32m'Appearance'[39m,
      icon: [32m'visibility'[39m,
      order: [33m2[39m,
      fields: [36m[Array][39m
    }
  ],
  defaultValues: { name: [32m''[39m, age: [33m0[39m }
}

[90mstdout[2m | src/app/pages/project/project.component.spec.ts[2m > [22m[2mProjectComponent[2m > [22m[2mzen mode[2m > [22m[2mshould not enable zen mode when on home tab
[22m[39mProjectComponent init
Loading project testuser/test-project

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/dialogs/restore-snapshot-dialog/restore-snapshot-dialog.component.spec.ts [2m([22m[2m9 tests[22m[2m)[22m[33m 761[2mms[22m[39m
stderr | src/app/services/project/project-import-export.service.spec.ts > ProjectImportExportService > importProjectZip > should handle error when updateProjectState fails in importProjectZip
Import error: Error: Test updateProjectState error
    at _ProjectImportExportService.<anonymous> (D:/dev/inkweld/frontend/src/app/services/project/project-import-export.service.spec.ts:371:15)
    at _ProjectImportExportService.Mock [as updateProjectState] (file:///D:/dev/inkweld/frontend/node_modules/@vitest/spy/dist/index.js:280:34)
    at _ProjectImportExportService.importProjectZip (D:/dev/inkweld/frontend/src/app/services/project/project-import-export.service.ts:206:12)
    at D:/dev/inkweld/frontend/src/app/services/project/project-import-export.service.spec.ts:373:7
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:912:20

[90mstdout[2m | src/app/components/worldbuilding/worldbuilding-editor.component.spec.ts[2m > [22m[2mWorldbuildingEditorComponent[2m > [22m[2mgetTabs[2m > [22m[2mshould return empty array when no schema
[22m[39m[WorldbuildingEditor] Loaded schema: {
  id: [32m'character'[39m,
  type: [32m'character'[39m,
  name: [32m'Character'[39m,
  icon: [32m'person'[39m,
  description: [32m'Character schema'[39m,
  version: [33m1[39m,
  isBuiltIn: [33mtrue[39m,
  tabs: [
    {
      key: [32m'basic'[39m,
      label: [32m'Basic Info'[39m,
      icon: [32m'info'[39m,
      order: [33m1[39m,
      fields: [36m[Array][39m
    },
    {
      key: [32m'appearance'[39m,
      label: [32m'Appearance'[39m,
      icon: [32m'visibility'[39m,
      order: [33m2[39m,
      fields: [36m[Array][39m
    }
  ],
  defaultValues: { name: [32m''[39m, age: [33m0[39m }
}

stderr | src/app/services/project/project-import-export.service.spec.ts > ProjectImportExportService > importProjectZip > should throw error if ZIP file does not contain project.json
Import error: ProjectArchiveError: ZIP archive does not contain project.json
    at _ProjectImportExportService.importProjectZip (D:/dev/inkweld/frontend/src/app/services/project/project-import-export.service.ts:194:15)
    at D:/dev/inkweld/frontend/src/app/services/project/project-import-export.service.spec.ts:391:7
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:912:20 {
  type: 'INVALID_FORMAT',
  details: undefined
}

[90mstdout[2m | src/app/components/worldbuilding/worldbuilding-editor.component.spec.ts[2m > [22m[2mWorldbuildingEditorComponent[2m > [22m[2mgetFieldsForTab[2m > [22m[2mshould return fields for existing tab
[22m[39m[WorldbuildingEditor] Loaded schema: {
  id: [32m'character'[39m,
  type: [32m'character'[39m,
  name: [32m'Character'[39m,
  icon: [32m'person'[39m,
  description: [32m'Character schema'[39m,
  version: [33m1[39m,
  isBuiltIn: [33mtrue[39m,
  tabs: [
    {
      key: [32m'basic'[39m,
      label: [32m'Basic Info'[39m,
      icon: [32m'info'[39m,
      order: [33m1[39m,
      fields: [36m[Array][39m
    },
    {
      key: [32m'appearance'[39m,
      label: [32m'Appearance'[39m,
      icon: [32m'visibility'[39m,
      order: [33m2[39m,
      fields: [36m[Array][39m
    }
  ],
  defaultValues: { name: [32m''[39m, age: [33m0[39m }
}

stderr | src/app/services/project/project-import-export.service.spec.ts > ProjectImportExportService > importProjectZip > updateProjectState > should warn when ITEM content is missing and not call documentService.importDocument
Document content is missing for item: itemMissing

stderr | src/app/services/project/project-import-export.service.spec.ts > ProjectImportExportService > importProjectZip > updateProjectState > should throw error when ITEM content is not a string
Document content is not a string: itemInvalid { text: 'not a string' }

[90mstdout[2m | src/app/components/worldbuilding/worldbuilding-editor.component.spec.ts[2m > [22m[2mWorldbuildingEditorComponent[2m > [22m[2mgetFieldsForTab[2m > [22m[2mshould return empty array for non-existent tab
[22m[39m[WorldbuildingEditor] Loaded schema: {
  id: [32m'character'[39m,
  type: [32m'character'[39m,
  name: [32m'Character'[39m,
  icon: [32m'person'[39m,
  description: [32m'Character schema'[39m,
  version: [33m1[39m,
  isBuiltIn: [33mtrue[39m,
  tabs: [
    {
      key: [32m'basic'[39m,
      label: [32m'Basic Info'[39m,
      icon: [32m'info'[39m,
      order: [33m1[39m,
      fields: [36m[Array][39m
    },
    {
      key: [32m'appearance'[39m,
      label: [32m'Appearance'[39m,
      icon: [32m'visibility'[39m,
      order: [33m2[39m,
      fields: [36m[Array][39m
    }
  ],
  defaultValues: { name: [32m''[39m, age: [33m0[39m }
}

[90mstdout[2m | src/app/components/worldbuilding/worldbuilding-editor.component.spec.ts[2m > [22m[2mWorldbuildingEditorComponent[2m > [22m[2mgetFieldsForTab[2m > [22m[2mshould return empty array when no schema
[22m[39m[WorldbuildingEditor] Loaded schema: {
  id: [32m'character'[39m,
  type: [32m'character'[39m,
  name: [32m'Character'[39m,
  icon: [32m'person'[39m,
  description: [32m'Character schema'[39m,
  version: [33m1[39m,
  isBuiltIn: [33mtrue[39m,
  tabs: [
    {
      key: [32m'basic'[39m,
      label: [32m'Basic Info'[39m,
      icon: [32m'info'[39m,
      order: [33m1[39m,
      fields: [36m[Array][39m
    },
    {
      key: [32m'appearance'[39m,
      label: [32m'Appearance'[39m,
      icon: [32m'visibility'[39m,
      order: [33m2[39m,
      fields: [36m[Array][39m
    }
  ],
  defaultValues: { name: [32m''[39m, age: [33m0[39m }
}

[90mstdout[2m | src/app/components/worldbuilding/worldbuilding-editor.component.spec.ts[2m > [22m[2mWorldbuildingEditorComponent[2m > [22m[2mFormArray operations[2m > [22m[2mshould get form array for field
[22m[39m[WorldbuildingEditor] Loaded schema: {
  id: [32m'character'[39m,
  type: [32m'character'[39m,
  name: [32m'Character'[39m,
  icon: [32m'person'[39m,
  description: [32m'Character schema'[39m,
  version: [33m1[39m,
  isBuiltIn: [33mtrue[39m,
  tabs: [
    {
      key: [32m'basic'[39m,
      label: [32m'Basic Info'[39m,
      icon: [32m'info'[39m,
      order: [33m1[39m,
      fields: [36m[Array][39m
    },
    {
      key: [32m'appearance'[39m,
      label: [32m'Appearance'[39m,
      icon: [32m'visibility'[39m,
      order: [33m2[39m,
      fields: [36m[Array][39m
    }
  ],
  defaultValues: { name: [32m''[39m, age: [33m0[39m }
}

[90mstdout[2m | src/app/components/worldbuilding/worldbuilding-editor.component.spec.ts[2m > [22m[2mWorldbuildingEditorComponent[2m > [22m[2mFormArray operations[2m > [22m[2mshould add item to array field
[22m[39m[WorldbuildingEditor] Loaded schema: {
  id: [32m'character'[39m,
  type: [32m'character'[39m,
  name: [32m'Character'[39m,
  icon: [32m'person'[39m,
  description: [32m'Character schema'[39m,
  version: [33m1[39m,
  isBuiltIn: [33mtrue[39m,
  tabs: [
    {
      key: [32m'basic'[39m,
      label: [32m'Basic Info'[39m,
      icon: [32m'info'[39m,
      order: [33m1[39m,
      fields: [36m[Array][39m
    },
    {
      key: [32m'appearance'[39m,
      label: [32m'Appearance'[39m,
      icon: [32m'visibility'[39m,
      order: [33m2[39m,
      fields: [36m[Array][39m
    }
  ],
  defaultValues: { name: [32m''[39m, age: [33m0[39m }
}

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/services/project/project-import-export.service.spec.ts [2m([22m[2m21 tests[22m[2m)[22m[33m 653[2mms[22m[39m
[90mstdout[2m | src/app/components/worldbuilding/worldbuilding-editor.component.spec.ts[2m > [22m[2mWorldbuildingEditorComponent[2m > [22m[2mFormArray operations[2m > [22m[2mshould remove item from array field
[22m[39m[WorldbuildingEditor] Loaded schema: {
  id: [32m'character'[39m,
  type: [32m'character'[39m,
  name: [32m'Character'[39m,
  icon: [32m'person'[39m,
  description: [32m'Character schema'[39m,
  version: [33m1[39m,
  isBuiltIn: [33mtrue[39m,
  tabs: [
    {
      key: [32m'basic'[39m,
      label: [32m'Basic Info'[39m,
      icon: [32m'info'[39m,
      order: [33m1[39m,
      fields: [36m[Array][39m
    },
    {
      key: [32m'appearance'[39m,
      label: [32m'Appearance'[39m,
      icon: [32m'visibility'[39m,
      order: [33m2[39m,
      fields: [36m[Array][39m
    }
  ],
  defaultValues: { name: [32m''[39m, age: [33m0[39m }
}

Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
[90mstdout[2m | src/app/services/user/user.service.spec.ts[2m > [22m[2mUserService[2m > [22m[2minitialization[2m > [22m[2mshould set initialized after load
[22m[39m[DEBUG][UserService] User result {
  id: [32m'test-id'[39m,
  username: [32m'testuser'[39m,
  name: [32m'Test User'[39m,
  enabled: [33mtrue[39m
}
[DEBUG][UserService] Saving user {
  id: [32m'test-id'[39m,
  username: [32m'testuser'[39m,
  name: [32m'Test User'[39m,
  enabled: [33mtrue[39m
}

[90mstdout[2m | src/app/services/user/user.service.spec.ts[2m > [22m[2mUserService[2m > [22m[2mloadCurrentUser[2m > [22m[2mshould load user from API when cache is empty
[22m[39m[DEBUG][UserService] User result {
  id: [32m'test-id'[39m,
  username: [32m'testuser'[39m,
  name: [32m'Test User'[39m,
  enabled: [33mtrue[39m
}
[DEBUG][UserService] Saving user {
  id: [32m'test-id'[39m,
  username: [32m'testuser'[39m,
  name: [32m'Test User'[39m,
  enabled: [33mtrue[39m
}

stderr | src/app/pages/project/tabs/project-files/project-files-tab.component.spec.ts > ProjectFilesTabComponent > should handle error when loading files
Error loading files: Error: Network error
    at D:/dev/inkweld/frontend/src/app/pages/project/tabs/project-files/project-files-tab.component.spec.ts:124:24
    at Observable.init [as _subscribe] (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\observable\throwError.js:8:64)
    at Observable._trySubscribe (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Observable.js:41:25)
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Observable.js:35:31
    at Object.errorContext (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\util\errorContext.js:22:9)
    at Observable.subscribe (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Observable.js:26:24)
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\firstValueFrom.js:24:16
    at new Promise (<anonymous>)
    at firstValueFrom (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\firstValueFrom.js:8:12)
    at _ProjectFilesTabComponent.loadFiles (D:/dev/inkweld/frontend/src/app/pages/project/tabs/project-files/project-files-tab.component.ts:81:27)

[90mstdout[2m | src/app/components/worldbuilding/worldbuilding-editor.component.spec.ts[2m > [22m[2mWorldbuildingEditorComponent[2m > [22m[2mbuildFormFromSchema[2m > [22m[2mshould build form with all field types
[22m[39m[WorldbuildingEditor] Loaded schema: {
  id: [32m'character'[39m,
  type: [32m'character'[39m,
  name: [32m'Character'[39m,
  icon: [32m'person'[39m,
  description: [32m'Character schema'[39m,
  version: [33m1[39m,
  isBuiltIn: [33mtrue[39m,
  tabs: [
    {
      key: [32m'basic'[39m,
      label: [32m'Basic Info'[39m,
      icon: [32m'info'[39m,
      order: [33m1[39m,
      fields: [36m[Array][39m
    },
    {
      key: [32m'appearance'[39m,
      label: [32m'Appearance'[39m,
      icon: [32m'visibility'[39m,
      order: [33m2[39m,
      fields: [36m[Array][39m
    }
  ],
  defaultValues: { name: [32m''[39m, age: [33m0[39m }
}

[90mstdout[2m | src/app/services/user/user.service.spec.ts[2m > [22m[2mUserService[2m > [22m[2mloadCurrentUser[2m > [22m[2mshould use cached user when available
[22m[39m[DEBUG][UserService] User result {
  id: [32m'test-id'[39m,
  username: [32m'testuser'[39m,
  name: [32m'Test User'[39m,
  enabled: [33mtrue[39m
}
[DEBUG][UserService] Saving user {
  id: [32m'test-id'[39m,
  username: [32m'testuser'[39m,
  name: [32m'Test User'[39m,
  enabled: [33mtrue[39m
}

stderr | src/app/services/user/user.service.spec.ts > UserService > loadCurrentUser > should handle network errors
[ERROR][UserService] User loading error UserServiceError: Server unavailable
    at _UserService.formatError (D:/dev/inkweld/frontend/src/app/services/user/user.service.ts:279:16)
    at D:/dev/inkweld/frontend/src/app/services/user/user.service.ts:142:36
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\catchError.js:13:51
    at OperatorSubscriber._this._error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\OperatorSubscriber.js:43:21)
    at OperatorSubscriber.Subscriber.error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Subscriber.js:60:18)
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\retry.js:60:36
    at OperatorSubscriber._this._error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\OperatorSubscriber.js:43:21)
    at OperatorSubscriber.Subscriber.error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Subscriber.js:60:18)
    at Observable.init [as _subscribe] (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\observable\throwError.js:8:58)
    at Observable._trySubscribe (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Observable.js:41:25) {
  code: 'NETWORK_ERROR'
}

[90mstdout[2m | src/app/components/worldbuilding/worldbuilding-editor.component.spec.ts[2m > [22m[2mWorldbuildingEditorComponent[2m > [22m[2mbuildFormFromSchema[2m > [22m[2mshould handle nested fields with dot notation
[22m[39m[WorldbuildingEditor] Loaded schema: {
  id: [32m'character'[39m,
  type: [32m'character'[39m,
  name: [32m'Character'[39m,
  icon: [32m'person'[39m,
  description: [32m'Character schema'[39m,
  version: [33m1[39m,
  isBuiltIn: [33mtrue[39m,
  tabs: [
    {
      key: [32m'basic'[39m,
      label: [32m'Basic Info'[39m,
      icon: [32m'info'[39m,
      order: [33m1[39m,
      fields: [36m[Array][39m
    },
    {
      key: [32m'appearance'[39m,
      label: [32m'Appearance'[39m,
      icon: [32m'visibility'[39m,
      order: [33m2[39m,
      fields: [36m[Array][39m
    }
  ],
  defaultValues: { name: [32m''[39m, age: [33m0[39m }
}

stderr | src/app/services/user/user.service.spec.ts > UserService > loadCurrentUser > should handle session expiration
[ERROR][UserService] User loading error UserServiceError: Session expired
    at _UserService.formatError (D:/dev/inkweld/frontend/src/app/services/user/user.service.ts:302:16)
    at D:/dev/inkweld/frontend/src/app/services/user/user.service.ts:142:36
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\catchError.js:13:51
    at OperatorSubscriber._this._error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\OperatorSubscriber.js:43:21)
    at OperatorSubscriber.Subscriber.error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Subscriber.js:60:18)
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\retry.js:60:36
    at OperatorSubscriber._this._error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\OperatorSubscriber.js:43:21)
    at OperatorSubscriber.Subscriber.error (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Subscriber.js:60:18)
    at Observable.init [as _subscribe] (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\observable\throwError.js:8:58)
    at Observable._trySubscribe (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Observable.js:41:25) {
  code: 'SESSION_EXPIRED'
}

[90mstdout[2m | src/app/components/worldbuilding/worldbuilding-editor.component.spec.ts[2m > [22m[2mWorldbuildingEditorComponent[2m > [22m[2mbuildFormFromSchema[2m > [22m[2mshould handle schema with no tabs gracefully
[22m[39m[WorldbuildingEditor] Loaded schema: {
  id: [32m'character'[39m,
  type: [32m'character'[39m,
  name: [32m'Character'[39m,
  icon: [32m'person'[39m,
  description: [32m'Character schema'[39m,
  version: [33m1[39m,
  isBuiltIn: [33mtrue[39m,
  tabs: [
    {
      key: [32m'basic'[39m,
      label: [32m'Basic Info'[39m,
      icon: [32m'info'[39m,
      order: [33m1[39m,
      fields: [36m[Array][39m
    },
    {
      key: [32m'appearance'[39m,
      label: [32m'Appearance'[39m,
      icon: [32m'visibility'[39m,
      order: [33m2[39m,
      fields: [36m[Array][39m
    }
  ],
  defaultValues: { name: [32m''[39m, age: [33m0[39m }
}

stderr | src/app/components/worldbuilding/worldbuilding-editor.component.spec.ts > WorldbuildingEditorComponent > buildFormFromSchema > should handle schema with no tabs gracefully
[WorldbuildingEditor] No tabs in schema

stderr | src/app/services/user/user.service.spec.ts > UserService > user management > should handle storage errors gracefully
[WARN][UserService] Failed to cache user Error: Storage error
    at D:/dev/inkweld/frontend/src/app/services/user/user.service.spec.ts:207:9
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:912:26
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1237:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1203:10)
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1647:37
    at Traces.$ (file:///D:/dev/inkweld/frontend/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)
    at trace (file:///D:/dev/inkweld/frontend/node_modules/vitest/dist/chunks/test.DqQZzsWf.js:234:21)
    at runTest (file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1647:12)

[90mstdout[2m | src/app/components/worldbuilding/worldbuilding-editor.component.spec.ts[2m > [22m[2mWorldbuildingEditorComponent[2m > [22m[2mupdateFormFromData[2m > [22m[2mshould update simple form values
[22m[39m[WorldbuildingEditor] Loaded schema: {
  id: [32m'character'[39m,
  type: [32m'character'[39m,
  name: [32m'Character'[39m,
  icon: [32m'person'[39m,
  description: [32m'Character schema'[39m,
  version: [33m1[39m,
  isBuiltIn: [33mtrue[39m,
  tabs: [
    {
      key: [32m'basic'[39m,
      label: [32m'Basic Info'[39m,
      icon: [32m'info'[39m,
      order: [33m1[39m,
      fields: [36m[Array][39m
    },
    {
      key: [32m'appearance'[39m,
      label: [32m'Appearance'[39m,
      icon: [32m'visibility'[39m,
      order: [33m2[39m,
      fields: [36m[Array][39m
    }
  ],
  defaultValues: { name: [32m''[39m, age: [33m0[39m }
}

[90mstdout[2m | src/app/pages/project/project.component.spec.ts[2m > [22m[2mProjectComponent[2m > [22m[2mzen mode[2m > [22m[2mshould return false for canEnableZenMode when on home tab
[22m[39mProjectComponent init
Loading project testuser/test-project

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/pages/reset/reset.component.spec.ts [2m([22m[2m8 tests[22m[2m)[22m[33m 978[2mms[22m[39m
[90mstdout[2m | src/app/components/worldbuilding/worldbuilding-editor.component.spec.ts[2m > [22m[2mWorldbuildingEditorComponent[2m > [22m[2mupdateFormFromData[2m > [22m[2mshould update nested form values
[22m[39m[WorldbuildingEditor] Loaded schema: {
  id: [32m'character'[39m,
  type: [32m'character'[39m,
  name: [32m'Character'[39m,
  icon: [32m'person'[39m,
  description: [32m'Character schema'[39m,
  version: [33m1[39m,
  isBuiltIn: [33mtrue[39m,
  tabs: [
    {
      key: [32m'basic'[39m,
      label: [32m'Basic Info'[39m,
      icon: [32m'info'[39m,
      order: [33m1[39m,
      fields: [36m[Array][39m
    },
    {
      key: [32m'appearance'[39m,
      label: [32m'Appearance'[39m,
      icon: [32m'visibility'[39m,
      order: [33m2[39m,
      fields: [36m[Array][39m
    }
  ],
  defaultValues: { name: [32m''[39m, age: [33m0[39m }
}

[90mstdout[2m | src/app/components/project-cover/project-cover.component.spec.ts[2m > [22m[2mProjectCoverComponent[2m > [22m[2mcover loading - cache miss (online mode)[2m > [22m[2mshould handle server 404 gracefully
[22m[39m[ProjectCover] Cover not found on server for testuser/test-project

stderr | src/app/services/user/user.service.spec.ts > UserService > hasCachedUser > should return false when storage.get throws error
[WARN][UserService] Failed to get cached user Error: Storage read error
    at D:/dev/inkweld/frontend/src/app/services/user/user.service.spec.ts:294:9
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:912:26
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1237:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1203:10)
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1647:37
    at Traces.$ (file:///D:/dev/inkweld/frontend/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)
    at trace (file:///D:/dev/inkweld/frontend/node_modules/vitest/dist/chunks/test.DqQZzsWf.js:234:21)
    at runTest (file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1647:12)

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/dialogs/user-settings-dialog/tabs/general-settings/general-settings.component.spec.ts [2m([22m[2m5 tests[22m[2m)[22m[33m 1032[2mms[22m[39m
     [33m[2mâœ“[22m[39m should create [33m 322[2mms[22m[39m
[90mstdout[2m | src/app/components/worldbuilding/worldbuilding-editor.component.spec.ts[2m > [22m[2mWorldbuildingEditorComponent[2m > [22m[2mupdateFormFromData[2m > [22m[2mshould update array form values
[22m[39m[WorldbuildingEditor] Loaded schema: {
  id: [32m'character'[39m,
  type: [32m'character'[39m,
  name: [32m'Character'[39m,
  icon: [32m'person'[39m,
  description: [32m'Character schema'[39m,
  version: [33m1[39m,
  isBuiltIn: [33mtrue[39m,
  tabs: [
    {
      key: [32m'basic'[39m,
      label: [32m'Basic Info'[39m,
      icon: [32m'info'[39m,
      order: [33m1[39m,
      fields: [36m[Array][39m
    },
    {
      key: [32m'appearance'[39m,
      label: [32m'Appearance'[39m,
      icon: [32m'visibility'[39m,
      order: [33m2[39m,
      fields: [36m[Array][39m
    }
  ],
  defaultValues: { name: [32m''[39m, age: [33m0[39m }
}

[90mstdout[2m | src/app/components/worldbuilding/worldbuilding-editor.component.spec.ts[2m > [22m[2mWorldbuildingEditorComponent[2m > [22m[2mupdateFormFromData[2m > [22m[2mshould set isUpdatingFromRemote flag during update
[22m[39m[WorldbuildingEditor] Loaded schema: {
  id: [32m'character'[39m,
  type: [32m'character'[39m,
  name: [32m'Character'[39m,
  icon: [32m'person'[39m,
  description: [32m'Character schema'[39m,
  version: [33m1[39m,
  isBuiltIn: [33mtrue[39m,
  tabs: [
    {
      key: [32m'basic'[39m,
      label: [32m'Basic Info'[39m,
      icon: [32m'info'[39m,
      order: [33m1[39m,
      fields: [36m[Array][39m
    },
    {
      key: [32m'appearance'[39m,
      label: [32m'Appearance'[39m,
      icon: [32m'visibility'[39m,
      order: [33m2[39m,
      fields: [36m[Array][39m
    }
  ],
  defaultValues: { name: [32m''[39m, age: [33m0[39m }
}

stderr | src/app/services/user/user.service.spec.ts > UserService > openSettingsDialog > should handle errors when opening settings dialog
[ERROR][UserService] Settings dialog error Error: Dialog error
    at D:/dev/inkweld/frontend/src/app/services/user/user.service.spec.ts:319:45
    at Observable.init [as _subscribe] (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\observable\throwError.js:8:64)
    at Observable._trySubscribe (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Observable.js:41:25)
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Observable.js:35:31
    at Object.errorContext (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\util\errorContext.js:22:9)
    at Observable.subscribe (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Observable.js:26:24)
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\firstValueFrom.js:24:16
    at new Promise (<anonymous>)
    at firstValueFrom (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\firstValueFrom.js:8:12)
    at _UserService.openSettingsDialog (D:/dev/inkweld/frontend/src/app/services/user/user.service.ts:92:13)

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/dialogs/confirmation-dialog/confirmation-dialog.component.spec.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 268[2mms[22m[39m
[90mstdout[2m | src/app/components/worldbuilding/worldbuilding-editor.component.spec.ts[2m > [22m[2mWorldbuildingEditorComponent[2m > [22m[2meditEmbeddedTemplate[2m > [22m[2mshould open template editor dialog
[22m[39m[WorldbuildingEditor] Loaded schema: {
  id: [32m'character'[39m,
  type: [32m'character'[39m,
  name: [32m'Character'[39m,
  icon: [32m'person'[39m,
  description: [32m'Character schema'[39m,
  version: [33m1[39m,
  isBuiltIn: [33mtrue[39m,
  tabs: [
    {
      key: [32m'basic'[39m,
      label: [32m'Basic Info'[39m,
      icon: [32m'info'[39m,
      order: [33m1[39m,
      fields: [36m[Array][39m
    },
    {
      key: [32m'appearance'[39m,
      label: [32m'Appearance'[39m,
      icon: [32m'visibility'[39m,
      order: [33m2[39m,
      fields: [36m[Array][39m
    }
  ],
  defaultValues: { name: [32m''[39m, age: [33m0[39m }
}

[90mstdout[2m | src/app/components/worldbuilding/worldbuilding-editor.component.spec.ts[2m > [22m[2mWorldbuildingEditorComponent[2m > [22m[2meditEmbeddedTemplate[2m > [22m[2mshould not open dialog when no schema
[22m[39m[WorldbuildingEditor] Loaded schema: {
  id: [32m'character'[39m,
  type: [32m'character'[39m,
  name: [32m'Character'[39m,
  icon: [32m'person'[39m,
  description: [32m'Character schema'[39m,
  version: [33m1[39m,
  isBuiltIn: [33mtrue[39m,
  tabs: [
    {
      key: [32m'basic'[39m,
      label: [32m'Basic Info'[39m,
      icon: [32m'info'[39m,
      order: [33m1[39m,
      fields: [36m[Array][39m
    },
    {
      key: [32m'appearance'[39m,
      label: [32m'Appearance'[39m,
      icon: [32m'visibility'[39m,
      order: [33m2[39m,
      fields: [36m[Array][39m
    }
  ],
  defaultValues: { name: [32m''[39m, age: [33m0[39m }
}

Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
[90mstdout[2m | src/app/components/worldbuilding/worldbuilding-editor.component.spec.ts[2m > [22m[2mWorldbuildingEditorComponent[2m > [22m[2meditEmbeddedTemplate[2m > [22m[2mshould update schema when dialog returns result
[22m[39m[WorldbuildingEditor] Loaded schema: {
  id: [32m'character'[39m,
  type: [32m'character'[39m,
  name: [32m'Character'[39m,
  icon: [32m'person'[39m,
  description: [32m'Character schema'[39m,
  version: [33m1[39m,
  isBuiltIn: [33mtrue[39m,
  tabs: [
    {
      key: [32m'basic'[39m,
      label: [32m'Basic Info'[39m,
      icon: [32m'info'[39m,
      order: [33m1[39m,
      fields: [36m[Array][39m
    },
    {
      key: [32m'appearance'[39m,
      label: [32m'Appearance'[39m,
      icon: [32m'visibility'[39m,
      order: [33m2[39m,
      fields: [36m[Array][39m
    }
  ],
  defaultValues: { name: [32m''[39m, age: [33m0[39m }
}

stderr | src/app/pages/project/tabs/project-files/project-files-tab.component.spec.ts > ProjectFilesTabComponent > should handle file upload error
Upload error: Error: Upload failed
    at D:/dev/inkweld/frontend/src/app/pages/project/tabs/project-files/project-files-tab.component.spec.ts:153:24
    at Observable.init [as _subscribe] (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\observable\throwError.js:8:64)
    at Observable._trySubscribe (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Observable.js:41:25)
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Observable.js:35:31
    at Object.errorContext (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\util\errorContext.js:22:9)
    at Observable.subscribe (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Observable.js:26:24)
    at D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\firstValueFrom.js:24:16
    at new Promise (<anonymous>)
    at firstValueFrom (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\firstValueFrom.js:8:12)
    at _ProjectFilesTabComponent.openUploadDialog (D:/dev/inkweld/frontend/src/app/pages/project/tabs/project-files/project-files-tab.component.ts:106:15)

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/services/publish/html-generator.service.spec.ts [2m([22m[2m55 tests[22m[2m)[22m[33m 538[2mms[22m[39m
[90mstdout[2m | src/app/components/worldbuilding/worldbuilding-editor.component.spec.ts[2m > [22m[2mWorldbuildingEditorComponent[2m > [22m[2mlifecycle[2m > [22m[2mshould clean up observers on destroy
[22m[39m[WorldbuildingEditor] Loaded schema: {
  id: [32m'character'[39m,
  type: [32m'character'[39m,
  name: [32m'Character'[39m,
  icon: [32m'person'[39m,
  description: [32m'Character schema'[39m,
  version: [33m1[39m,
  isBuiltIn: [33mtrue[39m,
  tabs: [
    {
      key: [32m'basic'[39m,
      label: [32m'Basic Info'[39m,
      icon: [32m'info'[39m,
      order: [33m1[39m,
      fields: [36m[Array][39m
    },
    {
      key: [32m'appearance'[39m,
      label: [32m'Appearance'[39m,
      icon: [32m'visibility'[39m,
      order: [33m2[39m,
      fields: [36m[Array][39m
    }
  ],
  defaultValues: { name: [32m''[39m, age: [33m0[39m }
}

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/components/lint/lint-overlay.component.spec.ts [2m([22m[2m15 tests[22m[2m)[22m[33m 594[2mms[22m[39m
stderr | src/app/app.component.spec.ts > AppComponent > should create the app
Failed to initialize app: TypeError: Cannot read properties of undefined (reading 'startsWith')
    at _AppComponent.initializeApp (D:/dev/inkweld/frontend/src/app/app.component.ts:85:20)
    at _AppComponent.ngOnInit (D:/dev/inkweld/frontend/src/app/app.component.ts:45:15)
    at callHookInternal (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:555:10)
    at callHook (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:570:7)
    at callHooks (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:544:9)
    at executeInitAndCheckHooks (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:513:5)
    at refreshView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5479:11)
    at detectChangesInView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5607:5)
    at detectChangesInViewWhileDirty (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5416:5)
    at detectChangesInternal (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5405:5)

[90mstdout[2m | src/app/pages/project/project.component.spec.ts[2m > [22m[2mProjectComponent[2m > [22m[2mzen mode[2m > [22m[2mshould return false for canEnableZenMode when no tabs are open
[22m[39mProjectComponent init
Loading project testuser/test-project

[90mstdout[2m | src/app/pages/project/tabs/folder/folder-tab.component.spec.ts[2m > [22m[2mFolderTabComponent[2m > [22m[2mshould create
[22m[39m[FolderTab] Folder ID from route params: folder1 (changed from )
Mock folder editor initialized
[FolderTab] Built full element ID: testuser:test-project:folder1

[90mstdout[2m | src/app/components/worldbuilding/worldbuilding-editor.component.spec.ts[2m > [22m[2mWorldbuildingEditorComponent[2m > [22m[2mlifecycle[2m > [22m[2mshould handle destroy when no observers exist
[22m[39m[WorldbuildingEditor] Loaded schema: {
  id: [32m'character'[39m,
  type: [32m'character'[39m,
  name: [32m'Character'[39m,
  icon: [32m'person'[39m,
  description: [32m'Character schema'[39m,
  version: [33m1[39m,
  isBuiltIn: [33mtrue[39m,
  tabs: [
    {
      key: [32m'basic'[39m,
      label: [32m'Basic Info'[39m,
      icon: [32m'info'[39m,
      order: [33m1[39m,
      fields: [36m[Array][39m
    },
    {
      key: [32m'appearance'[39m,
      label: [32m'Appearance'[39m,
      icon: [32m'visibility'[39m,
      order: [33m2[39m,
      fields: [36m[Array][39m
    }
  ],
  defaultValues: { name: [32m''[39m, age: [33m0[39m }
}

stderr | src/app/app.component.spec.ts > AppComponent > should initialize theme on init
Failed to initialize app: TypeError: Cannot read properties of undefined (reading 'startsWith')
    at _AppComponent.initializeApp (D:/dev/inkweld/frontend/src/app/app.component.ts:85:20)
    at _AppComponent.ngOnInit (D:/dev/inkweld/frontend/src/app/app.component.ts:45:15)
    at callHookInternal (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:555:10)
    at callHook (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:570:7)
    at callHooks (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:544:9)
    at executeInitAndCheckHooks (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:513:5)
    at refreshView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5479:11)
    at detectChangesInView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5607:5)
    at detectChangesInViewWhileDirty (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5416:5)
    at detectChangesInternal (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5405:5)

[90mstdout[2m | src/app/pages/project/tabs/folder/folder-tab.component.spec.ts[2m > [22m[2mFolderTabComponent[2m > [22m[2mshould create
[22m[39mMock folder editor destroyed
[FolderTab] Destroying component for folder ID: folder1

stderr | src/app/app.component.spec.ts > AppComponent > should initialize theme on init
Failed to initialize app: TypeError: Cannot read properties of undefined (reading 'startsWith')
    at _AppComponent.initializeApp (D:/dev/inkweld/frontend/src/app/app.component.ts:85:20)
    at _AppComponent.ngOnInit (D:/dev/inkweld/frontend/src/app/app.component.ts:45:15)
    at D:/dev/inkweld/frontend/src/app/app.component.spec.ts:112:15
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:912:26
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1237:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1203:10)
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1647:37
    at Traces.$ (file:///D:/dev/inkweld/frontend/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/services/user/user.service.spec.ts [2m([22m[2m26 tests[22m[2m | [22m[33m2 skipped[39m[2m)[22m[32m 276[2mms[22m[39m
[90mstdout[2m | src/app/pages/project/tabs/folder/folder-tab.component.spec.ts[2m > [22m[2mFolderTabComponent[2m > [22m[2mshould initialize with folder ID from route params
[22m[39m[FolderTab] Folder ID from route params: folder1 (changed from )
Mock folder editor initialized
[FolderTab] Built full element ID: testuser:test-project:folder1

stderr | src/app/app.component.spec.ts > AppComponent > should have a router outlet
Failed to initialize app: TypeError: Cannot read properties of undefined (reading 'startsWith')
    at _AppComponent.initializeApp (D:/dev/inkweld/frontend/src/app/app.component.ts:85:20)
    at _AppComponent.ngOnInit (D:/dev/inkweld/frontend/src/app/app.component.ts:45:15)
    at callHookInternal (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:555:10)
    at callHook (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:570:7)
    at callHooks (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:544:9)
    at executeInitAndCheckHooks (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:513:5)
    at refreshView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5479:11)
    at detectChangesInView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5607:5)
    at detectChangesInViewWhileDirty (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5416:5)
    at detectChangesInternal (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5405:5)

[90mstdout[2m | src/app/pages/project/tabs/folder/folder-tab.component.spec.ts[2m > [22m[2mFolderTabComponent[2m > [22m[2mshould initialize with folder ID from route params
[22m[39mMock folder editor destroyed
[FolderTab] Destroying component for folder ID: folder1

[90mstdout[2m | src/app/components/worldbuilding/worldbuilding-editor.component.spec.ts[2m > [22m[2mWorldbuildingEditorComponent[2m > [22m[2mloadElementData[2m > [22m[2mshould load schema and data on element load
[22m[39m[WorldbuildingEditor] Loaded schema: {
  id: [32m'character'[39m,
  type: [32m'character'[39m,
  name: [32m'Character'[39m,
  icon: [32m'person'[39m,
  description: [32m'Character schema'[39m,
  version: [33m1[39m,
  isBuiltIn: [33mtrue[39m,
  tabs: [
    {
      key: [32m'basic'[39m,
      label: [32m'Basic Info'[39m,
      icon: [32m'info'[39m,
      order: [33m1[39m,
      fields: [36m[Array][39m
    },
    {
      key: [32m'appearance'[39m,
      label: [32m'Appearance'[39m,
      icon: [32m'visibility'[39m,
      order: [33m2[39m,
      fields: [36m[Array][39m
    }
  ],
  defaultValues: { name: [32m''[39m, age: [33m0[39m }
}

[90mstdout[2m | src/app/components/worldbuilding/worldbuilding-editor.component.spec.ts[2m > [22m[2mWorldbuildingEditorComponent[2m > [22m[2mloadElementData[2m > [22m[2mshould load schema and data on element load
[22m[39m[WorldbuildingEditor] Loaded schema: {
  id: [32m'character'[39m,
  type: [32m'character'[39m,
  name: [32m'Character'[39m,
  icon: [32m'person'[39m,
  description: [32m'Character schema'[39m,
  version: [33m1[39m,
  isBuiltIn: [33mtrue[39m,
  tabs: [
    {
      key: [32m'basic'[39m,
      label: [32m'Basic Info'[39m,
      icon: [32m'info'[39m,
      order: [33m1[39m,
      fields: [36m[Array][39m
    },
    {
      key: [32m'appearance'[39m,
      label: [32m'Appearance'[39m,
      icon: [32m'visibility'[39m,
      order: [33m2[39m,
      fields: [36m[Array][39m
    }
  ],
  defaultValues: { name: [32m''[39m, age: [33m0[39m }
}

stderr | src/app/pages/project/tabs/worldbuilding/worldbuilding-tab.component.spec.ts > WorldbuildingTabComponent > ngOnInit > should subscribe to route params and set element ID
[WorldbuildingTab] Element not found yet: element-123, waiting for elements to load...

stderr | src/app/app.component.spec.ts > AppComponent > Authentication Error Bar > should not show error bar when no session expired error
Failed to initialize app: TypeError: Cannot read properties of undefined (reading 'startsWith')
    at _AppComponent.initializeApp (D:/dev/inkweld/frontend/src/app/app.component.ts:85:20)
    at _AppComponent.ngOnInit (D:/dev/inkweld/frontend/src/app/app.component.ts:45:15)
    at callHookInternal (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:555:10)
    at callHook (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:570:7)
    at callHooks (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:544:9)
    at executeInitAndCheckHooks (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:513:5)
    at refreshView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5479:11)
    at detectChangesInView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5607:5)
    at detectChangesInViewWhileDirty (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5416:5)
    at detectChangesInternal (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5405:5)

[90mstdout[2m | src/app/pages/project/tabs/folder/folder-tab.component.spec.ts[2m > [22m[2mFolderTabComponent[2m > [22m[2mshould render the folder element editor with the correct ID
[22m[39m[FolderTab] Folder ID from route params: folder1 (changed from )
Mock folder editor initialized
[FolderTab] Built full element ID: testuser:test-project:folder1

[90mstdout[2m | src/app/pages/project/tabs/folder/folder-tab.component.spec.ts[2m > [22m[2mFolderTabComponent[2m > [22m[2mshould render the folder element editor with the correct ID
[22m[39m[FolderTab] Folder ID from route params: folder1

[90mstdout[2m | src/app/pages/project/tabs/folder/folder-tab.component.spec.ts[2m > [22m[2mFolderTabComponent[2m > [22m[2mshould render the folder element editor with the correct ID
[22m[39m[FolderTab] Built full element ID: testuser:test-project:folder1

[90mstdout[2m | src/app/pages/project/tabs/folder/folder-tab.component.spec.ts[2m > [22m[2mFolderTabComponent[2m > [22m[2mshould render the folder element editor with the correct ID
[22m[39mMock folder editor destroyed
[FolderTab] Destroying component for folder ID: folder1

stderr | src/app/app.component.spec.ts > AppComponent > Authentication Error Bar > should show error bar when session expired and not in offline mode
Failed to initialize app: TypeError: Cannot read properties of undefined (reading 'startsWith')
    at _AppComponent.initializeApp (D:/dev/inkweld/frontend/src/app/app.component.ts:85:20)
    at _AppComponent.ngOnInit (D:/dev/inkweld/frontend/src/app/app.component.ts:45:15)
    at callHookInternal (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:555:10)
    at callHook (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:570:7)
    at callHooks (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:544:9)
    at executeInitAndCheckHooks (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:513:5)
    at refreshView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5479:11)
    at detectChangesInView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5607:5)
    at detectChangesInViewWhileDirty (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5416:5)
    at detectChangesInternal (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5405:5)

[90mstdout[2m | src/app/pages/project/tabs/folder/folder-tab.component.spec.ts[2m > [22m[2mFolderTabComponent[2m > [22m[2mshould update elementId when route params change
[22m[39m[FolderTab] Folder ID from route params: folder1 (changed from )
Mock folder editor initialized
[FolderTab] Built full element ID: testuser:test-project:folder1

[90mstdout[2m | src/app/pages/project/tabs/folder/folder-tab.component.spec.ts[2m > [22m[2mFolderTabComponent[2m > [22m[2mshould update elementId when route params change
[22m[39m[FolderTab] Folder ID from route params: folder2 (changed from folder1)

[90mstdout[2m | src/app/pages/project/tabs/folder/folder-tab.component.spec.ts[2m > [22m[2mFolderTabComponent[2m > [22m[2mshould update elementId when route params change
[22m[39m[FolderTab] Built full element ID: testuser:test-project:folder2

[90mstdout[2m | src/app/components/worldbuilding/worldbuilding-editor.component.spec.ts[2m > [22m[2mWorldbuildingEditorComponent[2m > [22m[2mloadElementData[2m > [22m[2mshould handle missing schema by initializing element
[22m[39m[WorldbuildingEditor] Loaded schema: {
  id: [32m'character'[39m,
  type: [32m'character'[39m,
  name: [32m'Character'[39m,
  icon: [32m'person'[39m,
  description: [32m'Character schema'[39m,
  version: [33m1[39m,
  isBuiltIn: [33mtrue[39m,
  tabs: [
    {
      key: [32m'basic'[39m,
      label: [32m'Basic Info'[39m,
      icon: [32m'info'[39m,
      order: [33m1[39m,
      fields: [36m[Array][39m
    },
    {
      key: [32m'appearance'[39m,
      label: [32m'Appearance'[39m,
      icon: [32m'visibility'[39m,
      order: [33m2[39m,
      fields: [36m[Array][39m
    }
  ],
  defaultValues: { name: [32m''[39m, age: [33m0[39m }
}

[90mstdout[2m | src/app/components/worldbuilding/worldbuilding-editor.component.spec.ts[2m > [22m[2mWorldbuildingEditorComponent[2m > [22m[2mloadElementData[2m > [22m[2mshould handle missing schema by initializing element
[22m[39m[WorldbuildingEditor] Loaded schema: [1mnull[22m

[90mstdout[2m | src/app/pages/project/tabs/folder/folder-tab.component.spec.ts[2m > [22m[2mFolderTabComponent[2m > [22m[2mshould update elementId when route params change
[22m[39mMock folder editor destroyed
[FolderTab] Destroying component for folder ID: folder2

[90mstdout[2m | src/app/pages/project/tabs/folder/folder-tab.component.spec.ts[2m > [22m[2mFolderTabComponent[2m > [22m[2mshould calculate fullElementId correctly when ID has colons
[22m[39m[FolderTab] Folder ID from route params: folder1 (changed from )
Mock folder editor initialized
[FolderTab] Built full element ID: testuser:test-project:folder1

stderr | src/app/app.component.spec.ts > AppComponent > Authentication Error Bar > should not show error bar when session expired but user was never initialized
Failed to initialize app: TypeError: Cannot read properties of undefined (reading 'startsWith')
    at _AppComponent.initializeApp (D:/dev/inkweld/frontend/src/app/app.component.ts:85:20)
    at _AppComponent.ngOnInit (D:/dev/inkweld/frontend/src/app/app.component.ts:45:15)
    at callHookInternal (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:555:10)
    at callHook (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:570:7)
    at callHooks (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:544:9)
    at executeInitAndCheckHooks (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:513:5)
    at refreshView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5479:11)
    at detectChangesInView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5607:5)
    at detectChangesInViewWhileDirty (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5416:5)
    at detectChangesInternal (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5405:5)

[90mstdout[2m | src/app/pages/project/tabs/folder/folder-tab.component.spec.ts[2m > [22m[2mFolderTabComponent[2m > [22m[2mshould calculate fullElementId correctly when ID has colons
[22m[39m[FolderTab] Folder ID from route params: otheruser:other-project:folder3 (changed from folder1)

[90mstdout[2m | src/app/pages/project/tabs/folder/folder-tab.component.spec.ts[2m > [22m[2mFolderTabComponent[2m > [22m[2mshould calculate fullElementId correctly when ID has colons
[22m[39m[FolderTab] ID already fully formatted: otheruser:other-project:folder3

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/components/project-cover/project-cover.component.spec.ts [2m([22m[2m20 tests[22m[2m)[22m[33m 631[2mms[22m[39m
[90mstdout[2m | src/app/pages/project/tabs/worldbuilding/worldbuilding-tab.component.spec.ts[2m > [22m[2mWorldbuildingTabComponent[2m > [22m[2mngOnInit[2m > [22m[2mshould set element type when element is found in project state
[22m[39m[Worldbuilding] Setup check - mode: null, wsUrl: null, username: undefined, slug: undefined
[Worldbuilding] WebSocket NOT created - missing params
[Worldbuilding] Setup check - mode: null, wsUrl: null, username: undefined, slug: undefined
[Worldbuilding] WebSocket NOT created - missing params
[WorldbuildingEditor] Loaded schema: [1mnull[22m

Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
stderr | src/app/app.component.spec.ts > AppComponent > Authentication Error Bar > should show error bar when user had real session then got session expired
Failed to initialize app: TypeError: Cannot read properties of undefined (reading 'startsWith')
    at _AppComponent.initializeApp (D:/dev/inkweld/frontend/src/app/app.component.ts:85:20)
    at _AppComponent.ngOnInit (D:/dev/inkweld/frontend/src/app/app.component.ts:45:15)
    at callHookInternal (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:555:10)
    at callHook (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:570:7)
    at callHooks (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:544:9)
    at executeInitAndCheckHooks (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:513:5)
    at refreshView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5479:11)
    at detectChangesInView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5607:5)
    at detectChangesInViewWhileDirty (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5416:5)
    at detectChangesInternal (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5405:5)

[90mstdout[2m | src/app/components/worldbuilding/worldbuilding-editor.component.spec.ts[2m > [22m[2mWorldbuildingEditorComponent[2m > [22m[2mloadElementData[2m > [22m[2mshould handle errors gracefully
[22m[39m[WorldbuildingEditor] Loaded schema: {
  id: [32m'character'[39m,
  type: [32m'character'[39m,
  name: [32m'Character'[39m,
  icon: [32m'person'[39m,
  description: [32m'Character schema'[39m,
  version: [33m1[39m,
  isBuiltIn: [33mtrue[39m,
  tabs: [
    {
      key: [32m'basic'[39m,
      label: [32m'Basic Info'[39m,
      icon: [32m'info'[39m,
      order: [33m1[39m,
      fields: [36m[Array][39m
    },
    {
      key: [32m'appearance'[39m,
      label: [32m'Appearance'[39m,
      icon: [32m'visibility'[39m,
      order: [33m2[39m,
      fields: [36m[Array][39m
    }
  ],
  defaultValues: { name: [32m''[39m, age: [33m0[39m }
}

[90mstdout[2m | src/app/pages/project/tabs/worldbuilding/worldbuilding-tab.component.spec.ts[2m > [22m[2mWorldbuildingTabComponent[2m > [22m[2mngOnInit[2m > [22m[2mshould warn when element is not found in project state
[22m[39m[WorldbuildingTab] Element ID from route params: element-123

[90mstdout[2m | src/app/pages/project/tabs/folder/folder-tab.component.spec.ts[2m > [22m[2mFolderTabComponent[2m > [22m[2mshould calculate fullElementId correctly when ID has colons
[22m[39mMock folder editor destroyed
[FolderTab] Destroying component for folder ID: otheruser:other-project:folder3

stderr | src/app/pages/project/tabs/worldbuilding/worldbuilding-tab.component.spec.ts > WorldbuildingTabComponent > ngOnInit > should handle empty tabId param
[WorldbuildingTab] Element not found yet: , waiting for elements to load...

[90mstdout[2m | src/app/components/worldbuilding/worldbuilding-editor.component.spec.ts[2m > [22m[2mWorldbuildingEditorComponent[2m > [22m[2msetupRealtimeSync[2m > [22m[2mshould set up observer for realtime changes
[22m[39m[WorldbuildingEditor] Loaded schema: {
  id: [32m'character'[39m,
  type: [32m'character'[39m,
  name: [32m'Character'[39m,
  icon: [32m'person'[39m,
  description: [32m'Character schema'[39m,
  version: [33m1[39m,
  isBuiltIn: [33mtrue[39m,
  tabs: [
    {
      key: [32m'basic'[39m,
      label: [32m'Basic Info'[39m,
      icon: [32m'info'[39m,
      order: [33m1[39m,
      fields: [36m[Array][39m
    },
    {
      key: [32m'appearance'[39m,
      label: [32m'Appearance'[39m,
      icon: [32m'visibility'[39m,
      order: [33m2[39m,
      fields: [36m[Array][39m
    }
  ],
  defaultValues: { name: [32m''[39m, age: [33m0[39m }
}

[90mstdout[2m | src/app/pages/project/tabs/folder/folder-tab.component.spec.ts[2m > [22m[2mFolderTabComponent[2m > [22m[2mshould calculate fullElementId using project info when ID has no colons
[22m[39m[FolderTab] Folder ID from route params: folder1 (changed from )
Mock folder editor initialized
[FolderTab] Built full element ID: testuser:test-project:folder1

[90mstdout[2m | src/app/pages/project/tabs/folder/folder-tab.component.spec.ts[2m > [22m[2mFolderTabComponent[2m > [22m[2mshould calculate fullElementId using project info when ID has no colons
[22m[39m[FolderTab] Folder ID from route params: simple-folder-id (changed from folder1)

[90mstdout[2m | src/app/pages/project/tabs/folder/folder-tab.component.spec.ts[2m > [22m[2mFolderTabComponent[2m > [22m[2mshould calculate fullElementId using project info when ID has no colons
[22m[39m[FolderTab] Built full element ID: testuser:test-project:simple-folder-id

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/pages/project/tabs/project-files/project-files-tab.component.spec.ts [2m([22m[2m7 tests[22m[2m)[22m[33m 626[2mms[22m[39m
stderr | src/app/pages/project/tabs/worldbuilding/worldbuilding-tab.component.spec.ts > WorldbuildingTabComponent > ngOnInit > should update when route params change
[WorldbuildingTab] Element not found yet: element-123, waiting for elements to load...
[WorldbuildingTab] Element not found yet: element-456, waiting for elements to load...

stderr | src/app/app.component.spec.ts > AppComponent > Authentication Error Bar > should not show error bar when in offline mode
Failed to initialize app: TypeError: Cannot read properties of undefined (reading 'startsWith')
    at _AppComponent.initializeApp (D:/dev/inkweld/frontend/src/app/app.component.ts:85:20)
    at _AppComponent.ngOnInit (D:/dev/inkweld/frontend/src/app/app.component.ts:45:15)
    at callHookInternal (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:555:10)
    at callHook (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:570:7)
    at callHooks (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:544:9)
    at executeInitAndCheckHooks (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:513:5)
    at refreshView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5479:11)
    at detectChangesInView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5607:5)
    at detectChangesInViewWhileDirty (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5416:5)
    at detectChangesInternal (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5405:5)

stderr | src/app/app.component.spec.ts > AppComponent > Authentication Error Bar > should handle re-authentication and navigate to welcome
Failed to initialize app: TypeError: Cannot read properties of undefined (reading 'startsWith')
    at _AppComponent.initializeApp (D:/dev/inkweld/frontend/src/app/app.component.ts:85:20)
    at _AppComponent.ngOnInit (D:/dev/inkweld/frontend/src/app/app.component.ts:45:15)
    at callHookInternal (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:555:10)
    at callHook (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:570:7)
    at callHooks (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:544:9)
    at executeInitAndCheckHooks (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:513:5)
    at refreshView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5479:11)
    at detectChangesInView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5607:5)
    at detectChangesInViewWhileDirty (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5416:5)
    at detectChangesInternal (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5405:5)

[90mstdout[2m | src/app/pages/project/tabs/worldbuilding/worldbuilding-tab.component.spec.ts[2m > [22m[2mWorldbuildingTabComponent[2m > [22m[2mproject changes effect[2m > [22m[2mshould update username and slug when project is set
[22m[39m[WorldbuildingTab] Element ID from route params: element-123

stderr | src/app/pages/project/tabs/worldbuilding/worldbuilding-tab.component.spec.ts > WorldbuildingTabComponent > project changes effect > should update username and slug when project is set
[WorldbuildingTab] Element not found yet: element-123, waiting for elements to load...

[90mstdout[2m | src/app/pages/project/tabs/folder/folder-tab.component.spec.ts[2m > [22m[2mFolderTabComponent[2m > [22m[2mshould calculate fullElementId using project info when ID has no colons
[22m[39mMock folder editor destroyed
[FolderTab] Destroying component for folder ID: simple-folder-id

[90mstdout[2m | src/app/components/worldbuilding/worldbuilding-editor.component.spec.ts[2m > [22m[2mWorldbuildingEditorComponent[2m > [22m[2msetupRealtimeSync[2m > [22m[2mshould unsubscribe previous observer when setting up new one
[22m[39m[WorldbuildingEditor] Loaded schema: {
  id: [32m'character'[39m,
  type: [32m'character'[39m,
  name: [32m'Character'[39m,
  icon: [32m'person'[39m,
  description: [32m'Character schema'[39m,
  version: [33m1[39m,
  isBuiltIn: [33mtrue[39m,
  tabs: [
    {
      key: [32m'basic'[39m,
      label: [32m'Basic Info'[39m,
      icon: [32m'info'[39m,
      order: [33m1[39m,
      fields: [36m[Array][39m
    },
    {
      key: [32m'appearance'[39m,
      label: [32m'Appearance'[39m,
      icon: [32m'visibility'[39m,
      order: [33m2[39m,
      fields: [36m[Array][39m
    }
  ],
  defaultValues: { name: [32m''[39m, age: [33m0[39m }
}

stderr | src/app/app.component.spec.ts > AppComponent > Authentication Error Bar > should handle continue offline
Failed to initialize app: TypeError: Cannot read properties of undefined (reading 'startsWith')
    at _AppComponent.initializeApp (D:/dev/inkweld/frontend/src/app/app.component.ts:85:20)
    at _AppComponent.ngOnInit (D:/dev/inkweld/frontend/src/app/app.component.ts:45:15)
    at callHookInternal (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:555:10)
    at callHook (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:570:7)
    at callHooks (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:544:9)
    at executeInitAndCheckHooks (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:513:5)
    at refreshView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5479:11)
    at detectChangesInView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5607:5)
    at detectChangesInViewWhileDirty (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5416:5)
    at detectChangesInternal (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5405:5)

[90mstdout[2m | src/app/pages/project/tabs/worldbuilding/worldbuilding-tab.component.spec.ts[2m > [22m[2mWorldbuildingTabComponent[2m > [22m[2mproject changes effect[2m > [22m[2mshould not update when project is null
[22m[39m[WorldbuildingTab] Element ID from route params: element-123

stderr | src/app/pages/project/tabs/worldbuilding/worldbuilding-tab.component.spec.ts > WorldbuildingTabComponent > project changes effect > should not update when project is null
[WorldbuildingTab] Element not found yet: element-123, waiting for elements to load...

[90mstdout[2m | src/app/pages/project/tabs/folder/folder-tab.component.spec.ts[2m > [22m[2mFolderTabComponent[2m > [22m[2mshould handle missing element ID gracefully
[22m[39m[FolderTab] Folder ID from route params: folder1 (changed from )
Mock folder editor initialized
[FolderTab] Built full element ID: testuser:test-project:folder1

[90mstdout[2m | src/app/pages/project/tabs/folder/folder-tab.component.spec.ts[2m > [22m[2mFolderTabComponent[2m > [22m[2mshould handle missing element ID gracefully
[22m[39m[FolderTab] Folder ID from route params:  (changed from folder1)

stderr | src/app/pages/project/tabs/folder/folder-tab.component.spec.ts > FolderTabComponent > should handle missing element ID gracefully
[FolderTab] No element ID available

stderr | src/app/app.component.spec.ts > AppComponent > Authentication Error Bar > should show re-authenticate button when error bar is visible
Failed to initialize app: TypeError: Cannot read properties of undefined (reading 'startsWith')
    at _AppComponent.initializeApp (D:/dev/inkweld/frontend/src/app/app.component.ts:85:20)
    at _AppComponent.ngOnInit (D:/dev/inkweld/frontend/src/app/app.component.ts:45:15)
    at callHookInternal (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:555:10)
    at callHook (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:570:7)
    at callHooks (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:544:9)
    at executeInitAndCheckHooks (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:513:5)
    at refreshView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5479:11)
    at detectChangesInView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5607:5)
    at detectChangesInViewWhileDirty (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5416:5)
    at detectChangesInternal (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5405:5)

[90mstdout[2m | src/app/components/worldbuilding/worldbuilding-editor.component.spec.ts[2m > [22m[2mWorldbuildingEditorComponent[2m > [22m[2msaveData[2m > [22m[2mshould save form data through worldbuilding service
[22m[39m[WorldbuildingEditor] Loaded schema: {
  id: [32m'character'[39m,
  type: [32m'character'[39m,
  name: [32m'Character'[39m,
  icon: [32m'person'[39m,
  description: [32m'Character schema'[39m,
  version: [33m1[39m,
  isBuiltIn: [33mtrue[39m,
  tabs: [
    {
      key: [32m'basic'[39m,
      label: [32m'Basic Info'[39m,
      icon: [32m'info'[39m,
      order: [33m1[39m,
      fields: [36m[Array][39m
    },
    {
      key: [32m'appearance'[39m,
      label: [32m'Appearance'[39m,
      icon: [32m'visibility'[39m,
      order: [33m2[39m,
      fields: [36m[Array][39m
    }
  ],
  defaultValues: { name: [32m''[39m, age: [33m0[39m }
}

[90mstdout[2m | src/app/pages/project/project.component.spec.ts[2m > [22m[2mProjectComponent[2m > [22m[2mzen mode[2m > [22m[2mshould return true for canEnableZenMode with document tab selected
[22m[39mProjectComponent init
Loading project testuser/test-project

[90mstdout[2m | src/app/pages/project/tabs/folder/folder-tab.component.spec.ts[2m > [22m[2mFolderTabComponent[2m > [22m[2mshould handle missing element ID gracefully
[22m[39mMock folder editor destroyed

stderr | src/app/pages/project/tabs/worldbuilding/worldbuilding-tab.component.spec.ts > WorldbuildingTabComponent > elements changes effect > should update element type when elements are loaded
[WorldbuildingTab] Element not found yet: element-123, waiting for elements to load...

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/components/worldbuilding/worldbuilding-editor.component.spec.ts [2m([22m[2m27 tests[22m[2m)[22m[33m 842[2mms[22m[39m
[90mstdout[2m | src/app/pages/project/tabs/folder/folder-tab.component.spec.ts[2m > [22m[2mFolderTabComponent[2m > [22m[2mshould handle missing project gracefully
[22m[39m[FolderTab] Folder ID from route params: folder1 (changed from )
Mock folder editor initialized
[FolderTab] Built full element ID: testuser:test-project:folder1

[90mstdout[2m | src/app/pages/project/tabs/worldbuilding/worldbuilding-tab.component.spec.ts[2m > [22m[2mWorldbuildingTabComponent[2m > [22m[2melements changes effect[2m > [22m[2mshould update element type when elements are loaded
[22m[39m[Worldbuilding] Setup check - mode: null, wsUrl: null, username: undefined, slug: undefined
[Worldbuilding] WebSocket NOT created - missing params
[Worldbuilding] Setup check - mode: null, wsUrl: null, username: undefined, slug: undefined
[Worldbuilding] WebSocket NOT created - missing params
[WorldbuildingEditor] Loaded schema: [1mnull[22m

[90mstdout[2m | src/app/pages/project/tabs/folder/folder-tab.component.spec.ts[2m > [22m[2mFolderTabComponent[2m > [22m[2mshould handle missing project gracefully
[22m[39m[FolderTab] Folder ID from route params: folder1

stderr | src/app/pages/project/tabs/folder/folder-tab.component.spec.ts > FolderTabComponent > should handle missing project gracefully
[FolderTab] Project not available when building element ID

stderr | src/app/app.component.spec.ts > AppComponent > Authentication Error Bar > should show continue offline button when error bar is visible
Failed to initialize app: TypeError: Cannot read properties of undefined (reading 'startsWith')
    at _AppComponent.initializeApp (D:/dev/inkweld/frontend/src/app/app.component.ts:85:20)
    at _AppComponent.ngOnInit (D:/dev/inkweld/frontend/src/app/app.component.ts:45:15)
    at callHookInternal (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:555:10)
    at callHook (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:570:7)
    at callHooks (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:544:9)
    at executeInitAndCheckHooks (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:513:5)
    at refreshView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5479:11)
    at detectChangesInView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5607:5)
    at detectChangesInViewWhileDirty (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5416:5)
    at detectChangesInternal (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5405:5)

[90mstdout[2m | src/app/pages/project/tabs/worldbuilding/worldbuilding-tab.component.spec.ts[2m > [22m[2mWorldbuildingTabComponent[2m > [22m[2melements changes effect[2m > [22m[2mshould not update element type if already set
[22m[39m[Worldbuilding] Setup check - mode: null, wsUrl: null, username: undefined, slug: undefined
[Worldbuilding] WebSocket NOT created - missing params
[Worldbuilding] Setup check - mode: null, wsUrl: null, username: undefined, slug: undefined
[Worldbuilding] WebSocket NOT created - missing params
[WorldbuildingEditor] Loaded schema: [1mnull[22m

stderr | src/app/pages/project/tabs/worldbuilding/worldbuilding-tab.component.spec.ts > WorldbuildingTabComponent > elements changes effect > should not update if element ID does not match
[WorldbuildingTab] Element not found yet: element-123, waiting for elements to load...

[90mstdout[2m | src/app/pages/project/tabs/folder/folder-tab.component.spec.ts[2m > [22m[2mFolderTabComponent[2m > [22m[2mshould handle missing project gracefully
[22m[39mMock folder editor destroyed
[FolderTab] Destroying component for folder ID: folder1

[90mstdout[2m | src/app/pages/project/tabs/worldbuilding/worldbuilding-tab.component.spec.ts[2m > [22m[2mWorldbuildingTabComponent[2m > [22m[2melements changes effect[2m > [22m[2mshould handle empty elements array
[22m[39m[WorldbuildingTab] Element ID from route params: element-123

stderr | src/app/pages/project/tabs/worldbuilding/worldbuilding-tab.component.spec.ts > WorldbuildingTabComponent > elements changes effect > should handle empty elements array
[WorldbuildingTab] Element not found yet: element-123, waiting for elements to load...

[90mstdout[2m | src/app/pages/project/tabs/worldbuilding/worldbuilding-tab.component.spec.ts[2m > [22m[2mWorldbuildingTabComponent[2m > [22m[2mngOnDestroy[2m > [22m[2mshould unsubscribe from route params
[22m[39m[WorldbuildingTab] Element ID from route params: element-123

stderr | src/app/pages/project/tabs/worldbuilding/worldbuilding-tab.component.spec.ts > WorldbuildingTabComponent > ngOnDestroy > should unsubscribe from route params
[WorldbuildingTab] Element not found yet: element-123, waiting for elements to load...

[90mstdout[2m | src/app/pages/project/tabs/folder/folder-tab.component.spec.ts[2m > [22m[2mFolderTabComponent[2m > [22m[2mshould provide the element ID via getElementId method
[22m[39m[FolderTab] Folder ID from route params: folder1 (changed from )
Mock folder editor initialized
[FolderTab] Built full element ID: testuser:test-project:folder1

stderr | src/app/app.component.spec.ts > AppComponent > App Initialization > should redirect to setup when app is not configured
Failed to initialize app: TypeError: Cannot read properties of undefined (reading 'startsWith')
    at _AppComponent.initializeApp (D:/dev/inkweld/frontend/src/app/app.component.ts:85:20)
    at _AppComponent.ngOnInit (D:/dev/inkweld/frontend/src/app/app.component.ts:45:15)
    at callHookInternal (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:555:10)
    at callHook (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:570:7)
    at callHooks (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:544:9)
    at executeInitAndCheckHooks (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:513:5)
    at refreshView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5479:11)
    at detectChangesInView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5607:5)
    at detectChangesInViewWhileDirty (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5416:5)
    at detectChangesInternal (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5405:5)

[90mstdout[2m | src/app/pages/project/tabs/worldbuilding/worldbuilding-tab.component.spec.ts[2m > [22m[2mWorldbuildingTabComponent[2m > [22m[2mngOnDestroy[2m > [22m[2mshould handle null subscription gracefully
[22m[39m[WorldbuildingTab] Element ID from route params: element-123

stderr | src/app/pages/project/tabs/worldbuilding/worldbuilding-tab.component.spec.ts > WorldbuildingTabComponent > ngOnDestroy > should handle null subscription gracefully
[WorldbuildingTab] Element not found yet: element-123, waiting for elements to load...

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/dialogs/user-settings-dialog/user-settings-dialog.component.spec.ts [2m([22m[2m11 tests[22m[2m | [22m[33m1 skipped[39m[2m)[22m[32m 269[2mms[22m[39m
stderr | src/app/app.component.spec.ts > AppComponent > App Initialization > should redirect to setup on initialization error
Failed to initialize app: TypeError: Cannot read properties of undefined (reading 'startsWith')
    at _AppComponent.initializeApp (D:/dev/inkweld/frontend/src/app/app.component.ts:85:20)
    at _AppComponent.ngOnInit (D:/dev/inkweld/frontend/src/app/app.component.ts:45:15)
    at callHookInternal (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:555:10)
    at callHook (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:570:7)
    at callHooks (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:544:9)
    at executeInitAndCheckHooks (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:513:5)
    at refreshView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5479:11)
    at detectChangesInView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5607:5)
    at detectChangesInViewWhileDirty (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5416:5)
    at detectChangesInternal (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5405:5)

stderr | src/app/app.component.spec.ts > AppComponent > App Initialization > should redirect to setup on initialization error
Failed to initialize app: TypeError: Cannot read properties of undefined (reading 'startsWith')
    at _AppComponent.initializeApp (D:/dev/inkweld/frontend/src/app/app.component.ts:85:20)
    at _AppComponent.ngOnInit (D:/dev/inkweld/frontend/src/app/app.component.ts:45:15)
    at D:/dev/inkweld/frontend/src/app/app.component.spec.ts:259:17
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:912:26
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1237:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1203:10)
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1647:37
    at Traces.$ (file:///D:/dev/inkweld/frontend/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)

[90mstdout[2m | src/app/pages/project/tabs/folder/folder-tab.component.spec.ts[2m > [22m[2mFolderTabComponent[2m > [22m[2mshould provide the element ID via getElementId method
[22m[39mMock folder editor destroyed
[FolderTab] Destroying component for folder ID: folder1

stderr | src/app/app.component.spec.ts > AppComponent > App Initialization > should initialize in server mode by default
Failed to initialize app: TypeError: Cannot read properties of undefined (reading 'startsWith')
    at _AppComponent.initializeApp (D:/dev/inkweld/frontend/src/app/app.component.ts:85:20)
    at _AppComponent.ngOnInit (D:/dev/inkweld/frontend/src/app/app.component.ts:45:15)
    at callHookInternal (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:555:10)
    at callHook (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:570:7)
    at callHooks (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:544:9)
    at executeInitAndCheckHooks (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:513:5)
    at refreshView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5479:11)
    at detectChangesInView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5607:5)
    at detectChangesInViewWhileDirty (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5416:5)
    at detectChangesInternal (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5405:5)

[90mstdout[2m | src/app/pages/project/tabs/worldbuilding/worldbuilding-tab.component.spec.ts[2m > [22m[2mWorldbuildingTabComponent[2m > [22m[2mfindElement[2m > [22m[2mshould find element by ID
[22m[39m[WorldbuildingTab] Element ID from route params: element-123
[WorldbuildingTab] Element type: CHARACTER

[90mstdout[2m | src/app/pages/project/tabs/worldbuilding/worldbuilding-tab.component.spec.ts[2m > [22m[2mWorldbuildingTabComponent[2m > [22m[2mfindElement[2m > [22m[2mshould find element by ID
[22m[39m[Worldbuilding] Setup check - mode: null, wsUrl: null, username: undefined, slug: undefined
[Worldbuilding] WebSocket NOT created - missing params
[Worldbuilding] Setup check - mode: null, wsUrl: null, username: undefined, slug: undefined
[Worldbuilding] WebSocket NOT created - missing params
[WorldbuildingEditor] Loaded schema: [1mnull[22m

Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
stderr | src/app/app.component.spec.ts > AppComponent > App Initialization > should skip user loading on registration pages
Failed to initialize app: TypeError: Cannot read properties of undefined (reading 'startsWith')
    at _AppComponent.initializeApp (D:/dev/inkweld/frontend/src/app/app.component.ts:85:20)
    at _AppComponent.ngOnInit (D:/dev/inkweld/frontend/src/app/app.component.ts:45:15)
    at callHookInternal (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:555:10)
    at callHook (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:570:7)
    at callHooks (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:544:9)
    at executeInitAndCheckHooks (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:513:5)
    at refreshView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5479:11)
    at detectChangesInView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5607:5)
    at detectChangesInViewWhileDirty (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5416:5)
    at detectChangesInternal (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5405:5)

[90mstdout[2m | src/app/pages/project/tabs/folder/folder-tab.component.spec.ts[2m > [22m[2mFolderTabComponent[2m > [22m[2mshould clean up subscription on destroy
[22m[39m[FolderTab] Folder ID from route params: folder1 (changed from )
Mock folder editor initialized
[FolderTab] Built full element ID: testuser:test-project:folder1

[90mstdout[2m | src/app/pages/project/tabs/folder/folder-tab.component.spec.ts[2m > [22m[2mFolderTabComponent[2m > [22m[2mshould clean up subscription on destroy
[22m[39m[FolderTab] Destroying component for folder ID: folder1

[90mstdout[2m | src/app/pages/project/tabs/folder/folder-tab.component.spec.ts[2m > [22m[2mFolderTabComponent[2m > [22m[2mshould clean up subscription on destroy
[22m[39mMock folder editor destroyed
[FolderTab] Destroying component for folder ID: folder1

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/services/core/setup.service.spec.ts [2m([22m[2m32 tests[22m[2m)[22m[32m 221[2mms[22m[39m
[90mstdout[2m | src/app/pages/project/tabs/worldbuilding/worldbuilding-tab.component.spec.ts[2m > [22m[2mWorldbuildingTabComponent[2m > [22m[2mfindElement[2m > [22m[2mshould return null when element not found
[22m[39m[WorldbuildingTab] Element ID from route params: element-123
[WorldbuildingTab] Element type: CHARACTER

[90mstdout[2m | src/app/pages/project/tabs/worldbuilding/worldbuilding-tab.component.spec.ts[2m > [22m[2mWorldbuildingTabComponent[2m > [22m[2mfindElement[2m > [22m[2mshould return null when element not found
[22m[39m[Worldbuilding] Setup check - mode: null, wsUrl: null, username: undefined, slug: undefined
[Worldbuilding] WebSocket NOT created - missing params
[Worldbuilding] Setup check - mode: null, wsUrl: null, username: undefined, slug: undefined
[Worldbuilding] WebSocket NOT created - missing params
[WorldbuildingEditor] Loaded schema: [1mnull[22m

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/services/project/project-state.service.spec.ts [2m([22m[2m29 tests[22m[2m)[22m[32m 190[2mms[22m[39m
stderr | src/app/app.component.spec.ts > AppComponent > App Initialization > should skip user loading on welcome page
Failed to initialize app: TypeError: Cannot read properties of undefined (reading 'startsWith')
    at _AppComponent.initializeApp (D:/dev/inkweld/frontend/src/app/app.component.ts:85:20)
    at _AppComponent.ngOnInit (D:/dev/inkweld/frontend/src/app/app.component.ts:45:15)
    at callHookInternal (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:555:10)
    at callHook (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:570:7)
    at callHooks (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:544:9)
    at executeInitAndCheckHooks (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:513:5)
    at refreshView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5479:11)
    at detectChangesInView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5607:5)
    at detectChangesInViewWhileDirty (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5416:5)
    at detectChangesInternal (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5405:5)

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/pages/project/tabs/documents-list/documents-list-tab.component.spec.ts [2m([22m[2m9 tests[22m[2m)[22m[33m 1733[2mms[22m[39m
     [33m[2mâœ“[22m[39m should create [33m 386[2mms[22m[39m
[90mstdout[2m | src/app/pages/project/tabs/worldbuilding/worldbuilding-tab.component.spec.ts[2m > [22m[2mWorldbuildingTabComponent[2m > [22m[2mfindElement[2m > [22m[2mshould return null for empty elements array
[22m[39m[WorldbuildingTab] Element ID from route params: element-123

stderr | src/app/pages/project/tabs/worldbuilding/worldbuilding-tab.component.spec.ts > WorldbuildingTabComponent > findElement > should return null for empty elements array
[WorldbuildingTab] Element not found yet: element-123, waiting for elements to load...

[90mstdout[2m | src/app/pages/project/tabs/folder/folder-tab.component.spec.ts[2m > [22m[2mFolderTabComponent[2m > [22m[2mshould handle destroy when no subscription exists
[22m[39m[FolderTab] Folder ID from route params: folder1 (changed from )
Mock folder editor initialized
[FolderTab] Built full element ID: testuser:test-project:folder1

[90mstdout[2m | src/app/pages/project/project.component.spec.ts[2m > [22m[2mProjectComponent[2m > [22m[2mgetCurrentDocumentId[2m > [22m[2mshould return null when URL does not contain /document/
[22m[39mProjectComponent init
Loading project testuser/test-project

[90mstdout[2m | src/app/pages/project/tabs/folder/folder-tab.component.spec.ts[2m > [22m[2mFolderTabComponent[2m > [22m[2mshould handle destroy when no subscription exists
[22m[39m[FolderTab] Destroying component for folder ID: folder1

[90mstdout[2m | src/app/pages/project/tabs/worldbuilding/worldbuilding-tab.component.spec.ts[2m > [22m[2mWorldbuildingTabComponent[2m > [22m[2mfindElement[2m > [22m[2mshould find element in array with multiple elements
[22m[39m[WorldbuildingTab] Element ID from route params: element-123

stderr | src/app/app.component.spec.ts > AppComponent > App Initialization > should skip user loading on approval-pending page
Failed to initialize app: TypeError: Cannot read properties of undefined (reading 'startsWith')
    at _AppComponent.initializeApp (D:/dev/inkweld/frontend/src/app/app.component.ts:85:20)
    at _AppComponent.ngOnInit (D:/dev/inkweld/frontend/src/app/app.component.ts:45:15)
    at callHookInternal (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:555:10)
    at callHook (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:570:7)
    at callHooks (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:544:9)
    at executeInitAndCheckHooks (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:513:5)
    at refreshView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5479:11)
    at detectChangesInView (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5607:5)
    at detectChangesInViewWhileDirty (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5416:5)
    at detectChangesInternal (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs:5405:5)

stderr | src/app/pages/project/tabs/worldbuilding/worldbuilding-tab.component.spec.ts > WorldbuildingTabComponent > findElement > should find element in array with multiple elements
[WorldbuildingTab] Element not found yet: element-123, waiting for elements to load...

[90mstdout[2m | src/app/pages/project/tabs/folder/folder-tab.component.spec.ts[2m > [22m[2mFolderTabComponent[2m > [22m[2mshould handle destroy when no subscription exists
[22m[39mMock folder editor destroyed
[FolderTab] Destroying component for folder ID: folder1

[90mstdout[2m | src/app/pages/project/tabs/worldbuilding/worldbuilding-tab.component.spec.ts[2m > [22m[2mWorldbuildingTabComponent[2m > [22m[2mtemplate rendering[2m > [22m[2mshould show worldbuilding editor when elementId and elementType are set
[22m[39m[WorldbuildingTab] Element ID from route params: element-123
[WorldbuildingTab] Element type: CHARACTER

[90mstdout[2m | src/app/pages/project/tabs/worldbuilding/worldbuilding-tab.component.spec.ts[2m > [22m[2mWorldbuildingTabComponent[2m > [22m[2mtemplate rendering[2m > [22m[2mshould show worldbuilding editor when elementId and elementType are set
[22m[39m[Worldbuilding] Setup check - mode: null, wsUrl: null, username: testuser, slug: test-project
[Worldbuilding] WebSocket NOT created - missing params
[Worldbuilding] Setup check - mode: null, wsUrl: null, username: testuser, slug: test-project
[Worldbuilding] WebSocket NOT created - missing params
[WorldbuildingEditor] Loaded schema: [1mnull[22m

[90mstdout[2m | src/app/pages/project/tabs/worldbuilding/worldbuilding-tab.component.spec.ts[2m > [22m[2mWorldbuildingTabComponent[2m > [22m[2mtemplate rendering[2m > [22m[2mshould show worldbuilding editor when elementId and elementType are set
[22m[39m[WorldbuildingService] Initializing new CHARACTER element element-123
[WorldbuildingService] Looking for schema: projectKey="testuser:test-project", elementType="CHARACTER"

stderr | src/app/pages/project/tabs/worldbuilding/worldbuilding-tab.component.spec.ts > WorldbuildingTabComponent > template rendering > should show worldbuilding editor when elementId and elementType are set
[SchemaLibrary] No schemas found in library

[90mstdout[2m | src/app/pages/project/tabs/worldbuilding/worldbuilding-tab.component.spec.ts[2m > [22m[2mWorldbuildingTabComponent[2m > [22m[2mtemplate rendering[2m > [22m[2mshould show worldbuilding editor when elementId and elementType are set
[22m[39m[WorldbuildingService] Schema library is empty, auto-loading default templates
[WorldbuildingService] Auto-loading default templates for testuser:test-project

stderr | src/app/pages/project/tabs/worldbuilding/worldbuilding-tab.component.spec.ts > WorldbuildingTabComponent > template rendering > should show worldbuilding editor when elementId and elementType are set
[DefaultTemplatesService] Failed to load default templates: RuntimeError: NG0205: Injector has already been destroyed.
    at assertNotDestroyed (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_untracked-chunk.mjs:1395:11)
    at R3Injector.get (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_untracked-chunk.mjs:1155:5)
    at HttpInterceptorHandler.handle (file:///D:/dev/inkweld/frontend/node_modules/@angular/common/fesm2022/_module-chunk.mjs:1370:74)
    at file:///D:/dev/inkweld/frontend/node_modules/@angular/common/fesm2022/_module-chunk.mjs:1518:64
    at doInnerSub (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\mergeInternals.js:22:31)
    at outerNext (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\mergeInternals.js:17:70)
    at OperatorSubscriber._this._next (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\OperatorSubscriber.js:33:21)
    at OperatorSubscriber.Subscriber.next (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Subscriber.js:51:18)
    at Observable._subscribe (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\observable\innerFrom.js:109:24)
    at Observable._trySubscribe (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Observable.js:41:25) {
  code: 205
}

stderr | src/app/pages/project/tabs/worldbuilding/worldbuilding-tab.component.spec.ts > WorldbuildingTabComponent > template rendering > should show worldbuilding editor when elementId and elementType are set
[WorldbuildingService] Failed to auto-load default templates: RuntimeError: NG0205: Injector has already been destroyed.
    at assertNotDestroyed (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_untracked-chunk.mjs:1395:11)
    at R3Injector.get (file:///D:/dev/inkweld/frontend/node_modules/@angular/core/fesm2022/_untracked-chunk.mjs:1155:5)
    at HttpInterceptorHandler.handle (file:///D:/dev/inkweld/frontend/node_modules/@angular/common/fesm2022/_module-chunk.mjs:1370:74)
    at file:///D:/dev/inkweld/frontend/node_modules/@angular/common/fesm2022/_module-chunk.mjs:1518:64
    at doInnerSub (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\mergeInternals.js:22:31)
    at outerNext (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\mergeInternals.js:17:70)
    at OperatorSubscriber._this._next (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\operators\OperatorSubscriber.js:33:21)
    at OperatorSubscriber.Subscriber.next (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Subscriber.js:51:18)
    at Observable._subscribe (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\observable\innerFrom.js:109:24)
    at Observable._trySubscribe (D:\dev\inkweld\frontend\node_modules\rxjs\dist\cjs\internal\Observable.js:41:25) {
  code: 205
}

stderr | src/app/pages/project/tabs/worldbuilding/worldbuilding-tab.component.spec.ts > WorldbuildingTabComponent > template rendering > should show worldbuilding editor when elementId and elementType are set
[SchemaLibrary] No schemas found in library

[90mstdout[2m | src/app/pages/project/tabs/worldbuilding/worldbuilding-tab.component.spec.ts[2m > [22m[2mWorldbuildingTabComponent[2m > [22m[2mtemplate rendering[2m > [22m[2mshould show worldbuilding editor when elementId and elementType are set
[22m[39m[WorldbuildingService] Schema lookup result: NOT FOUND
[WorldbuildingService] Initialized CHARACTER element element-123 with schema-based data

stderr | src/app/pages/project/tabs/worldbuilding/worldbuilding-tab.component.spec.ts > WorldbuildingTabComponent > template rendering > should show worldbuilding editor when elementId and elementType are set
[WorldbuildingService] No schema found for CHARACTER, using fallback initialization

[90mstdout[2m | src/app/pages/project/tabs/worldbuilding/worldbuilding-tab.component.spec.ts[2m > [22m[2mWorldbuildingTabComponent[2m > [22m[2mtemplate rendering[2m > [22m[2mshould show error message when elementId is not set
[22m[39m[WorldbuildingTab] Element ID from route params: 

stderr | src/app/pages/project/tabs/worldbuilding/worldbuilding-tab.component.spec.ts > WorldbuildingTabComponent > template rendering > should show error message when elementId is not set
[WorldbuildingTab] Element not found yet: , waiting for elements to load...

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/pages/project/tabs/folder/folder-tab.component.spec.ts [2m([22m[2m11 tests[22m[2m)[22m[33m 433[2mms[22m[39m
 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/app.component.spec.ts [2m([22m[2m18 tests[22m[2m)[22m[33m 460[2mms[22m[39m
[90mstdout[2m | src/app/pages/project/tabs/worldbuilding/worldbuilding-tab.component.spec.ts[2m > [22m[2mWorldbuildingTabComponent[2m > [22m[2mtemplate rendering[2m > [22m[2mshould show error message when elementType is not set
[22m[39m[WorldbuildingTab] Element ID from route params: element-123

stderr | src/app/pages/project/tabs/worldbuilding/worldbuilding-tab.component.spec.ts > WorldbuildingTabComponent > template rendering > should show error message when elementType is not set
[WorldbuildingTab] Element not found yet: element-123, waiting for elements to load...

Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/components/lint/lint-floating-menu.component.spec.ts [2m([22m[2m27 tests[22m[2m)[22m[33m 468[2mms[22m[39m
 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/dialogs/user-settings-dialog/tabs/project-tree-settings/project-tree-settings.component.spec.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 275[2mms[22m[39m
[90mstdout[2m | src/app/pages/project/project.component.spec.ts[2m > [22m[2mProjectComponent[2m > [22m[2mgetCurrentDocumentId[2m > [22m[2mshould return null when on home tab
[22m[39mProjectComponent init
Loading project testuser/test-project

stderr | src/app/services/offline/project-sync.service.spec.ts > ProjectSyncService > hasPendingChanges > should return true when there are pending uploads
Failed to load sync state for alice/my-novel: InvalidStateError [DOMException] { code: 11 }

stderr | src/app/services/offline/project-sync.service.spec.ts > ProjectSyncService > hasPendingChanges > should return true when there are pending uploads
Failed to load sync state for alice/my-novel: InvalidStateError [DOMException] { code: 11 }

stderr | src/app/services/offline/project-sync.service.spec.ts > ProjectSyncService > hasPendingChanges > should return true when there are pending uploads
Failed to load sync state for alice/project-1: InvalidStateError [DOMException] { code: 11 }
Failed to load sync state for alice/project-2: InvalidStateError [DOMException] { code: 11 }

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/pages/project/tabs/worldbuilding/worldbuilding-tab.component.spec.ts [2m([22m[2m21 tests[22m[2m)[22m[33m 482[2mms[22m[39m
 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/components/file-list/file-list.component.spec.ts [2m([22m[2m6 tests[22m[2m)[22m[33m 302[2mms[22m[39m
 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/services/project/tab-manager.service.spec.ts [2m([22m[2m38 tests[22m[2m)[22m[32m 183[2mms[22m[39m
stderr | src/app/services/offline/project-sync.service.spec.ts > ProjectSyncService > getProjectsWithPendingChanges > should return empty array when no pending changes
Failed to load sync state for alice/my-novel: InvalidStateError [DOMException] { code: 11 }

stderr | src/app/services/offline/offline-project.service.spec.ts > OfflineProjectService > createProject > should handle localStorage errors
Failed to save offline projects: Error: Storage quota exceeded
    at Object.<anonymous> (D:/dev/inkweld/frontend/src/app/services/offline/offline-project.service.spec.ts:239:15)
    at Object.Mock [as setItem] (file:///D:/dev/inkweld/frontend/node_modules/@vitest/spy/dist/index.js:280:34)
    at _OfflineProjectService.saveProjects (D:/dev/inkweld/frontend/src/app/services/offline/offline-project.service.ts:229:20)
    at _OfflineProjectService.createProject (D:/dev/inkweld/frontend/src/app/services/offline/offline-project.service.ts:92:12)
    at D:/dev/inkweld/frontend/src/app/services/offline/offline-project.service.spec.ts:246:28
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:912:26
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1237:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1203:10)

Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
[90mstdout[2m | src/app/pages/project/project.component.spec.ts[2m > [22m[2mProjectComponent[2m > [22m[2mgetCurrentDocumentId[2m > [22m[2mshould return document ID for document tab
[22m[39mProjectComponent init
Loading project testuser/test-project

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/services/offline/project-sync.service.spec.ts [2m([22m[2m23 tests[22m[2m)[22m[32m 203[2mms[22m[39m
 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/services/offline/offline-project.service.spec.ts [2m([22m[2m23 tests[22m[2m)[22m[32m 138[2mms[22m[39m
 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/services/project/element-tree.service.spec.ts [2m([22m[2m53 tests[22m[2m)[22m[32m 182[2mms[22m[39m
 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/components/user-avatar/user-avatar.component.spec.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 258[2mms[22m[39m
 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/services/publish/markdown-generator.service.spec.ts [2m([22m[2m47 tests[22m[2m)[22m[32m 289[2mms[22m[39m
 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/services/offline/unified-project.service.spec.ts [2m([22m[2m31 tests[22m[2m)[22m[32m 160[2mms[22m[39m
[90mstdout[2m | src/app/components/oauth-provider-list/oauth-provider-list.component.spec.ts[2m > [22m[2mOAuthProviderListComponent[2m > [22m[2mOAuth sign-in[2m > [22m[2mshould redirect to OAuth provider
[22m[39mSign in with github clicked

[90mstdout[2m | src/app/components/oauth-provider-list/oauth-provider-list.component.spec.ts[2m > [22m[2mOAuthProviderListComponent[2m > [22m[2mOAuth sign-in[2m > [22m[2mshould handle different OAuth providers
[22m[39mSign in with github clicked
Sign in with google clicked
Sign in with facebook clicked
Sign in with discord clicked
Sign in with apple clicked

Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/components/project-tree/components/tree-node-icon/tree-node-icon.component.spec.ts [2m([22m[2m15 tests[22m[2m)[22m[32m 222[2mms[22m[39m
[90mstdout[2m | src/app/services/offline/offline-project-elements.service.spec.ts[2m > [22m[2mOfflineProjectElementsService[2m > [22m[2mloadElements[2m > [22m[2mshould load elements from localStorage
[22m[39m[INFO][OfflineProjectElements] Migrating 1 elements from localStorage to Yjs for testuser:test-project
[INFO][OfflineProjectElements] Successfully migrated elements for testuser:test-project
[DEBUG][OfflineProjectElements] Created Yjs connection for testuser:test-project:elements

[90mstdout[2m | src/app/services/offline/offline-project-elements.service.spec.ts[2m > [22m[2mOfflineProjectElementsService[2m > [22m[2mloadElements[2m > [22m[2mshould load elements from localStorage
[22m[39m[DEBUG][OfflineProjectElements] Loaded 1 elements for testuser/test-project

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/dialogs/image-viewer-dialog/image-viewer-dialog.component.spec.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 146[2mms[22m[39m
 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/components/oauth-provider-list/oauth-provider-list.component.spec.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 188[2mms[22m[39m
[90mstdout[2m | src/app/services/offline/offline-project-elements.service.spec.ts[2m > [22m[2mOfflineProjectElementsService[2m > [22m[2mloadElements[2m > [22m[2mshould handle empty IndexedDB
[22m[39m[DEBUG][OfflineProjectElements] Created Yjs connection for testuser:test-project:elements

[90mstdout[2m | src/app/services/offline/offline-project-elements.service.spec.ts[2m > [22m[2mOfflineProjectElementsService[2m > [22m[2mloadElements[2m > [22m[2mshould handle empty IndexedDB
[22m[39m[DEBUG][OfflineProjectElements] Loaded 0 elements for testuser/test-project

[90mstdout[2m | src/app/services/offline/offline-project-elements.service.spec.ts[2m > [22m[2mOfflineProjectElementsService[2m > [22m[2mloadElements[2m > [22m[2mshould handle localStorage parse errors
[22m[39m[DEBUG][OfflineProjectElements] Created Yjs connection for testuser:test-project:elements

[90mstdout[2m | src/app/services/offline/offline-project-elements.service.spec.ts[2m > [22m[2mOfflineProjectElementsService[2m > [22m[2mloadElements[2m > [22m[2mshould handle localStorage parse errors
[22m[39m[DEBUG][OfflineProjectElements] Loaded 0 elements for testuser/test-project

[90mstdout[2m | src/app/services/offline/offline-project-elements.service.spec.ts[2m > [22m[2mOfflineProjectElementsService[2m > [22m[2msaveElements[2m > [22m[2mshould save elements using Yjs
[22m[39m[DEBUG][OfflineProjectElements] Created Yjs connection for testuser:test-project:elements

[90mstdout[2m | src/app/services/offline/offline-project-elements.service.spec.ts[2m > [22m[2mOfflineProjectElementsService[2m > [22m[2msaveElements[2m > [22m[2mshould save elements using Yjs
[22m[39m[DEBUG][OfflineProjectElements] Saved 1 elements for testuser/test-project

[90mstdout[2m | src/app/services/offline/offline-project-elements.service.spec.ts[2m > [22m[2mOfflineProjectElementsService[2m > [22m[2msaveElements[2m > [22m[2mshould handle save errors
[22m[39m[DEBUG][OfflineProjectElements] Created Yjs connection for testuser:test-project:elements

[90mstdout[2m | src/app/services/offline/offline-project-elements.service.spec.ts[2m > [22m[2mOfflineProjectElementsService[2m > [22m[2msaveElements[2m > [22m[2mshould handle save errors
[22m[39m[DEBUG][OfflineProjectElements] Saved 0 elements for testuser/test-project

[90mstdout[2m | src/app/services/offline/offline-project-elements.service.spec.ts[2m > [22m[2mOfflineProjectElementsService[2m > [22m[2mcreateDefaultStructure[2m > [22m[2mshould create default project structure
[22m[39m[DEBUG][OfflineProjectElements] Created Yjs connection for testuser:test-project:elements

[90mstdout[2m | src/app/services/offline/offline-project-elements.service.spec.ts[2m > [22m[2mOfflineProjectElementsService[2m > [22m[2mcreateDefaultStructure[2m > [22m[2mshould create default project structure
[22m[39m[DEBUG][OfflineProjectElements] Saved 4 elements for testuser/test-project

[90mstdout[2m | src/app/pages/project/project.component.spec.ts[2m > [22m[2mProjectComponent[2m > [22m[2mgutter size[2m > [22m[2mshould return 0 for mobile
[22m[39mProjectComponent init
Loading project testuser/test-project

[90mstdout[2m | src/app/services/offline/offline-project-elements.service.spec.ts[2m > [22m[2mOfflineProjectElementsService[2m > [22m[2maddElement[2m > [22m[2mshould add element at root level
[22m[39m[INFO][OfflineProjectElements] Migrating 1 elements from localStorage to Yjs for testuser:test-project
[INFO][OfflineProjectElements] Successfully migrated elements for testuser:test-project
[DEBUG][OfflineProjectElements] Created Yjs connection for testuser:test-project:elements

[90mstdout[2m | src/app/services/offline/offline-project-elements.service.spec.ts[2m > [22m[2mOfflineProjectElementsService[2m > [22m[2maddElement[2m > [22m[2mshould add element at root level
[22m[39m[DEBUG][OfflineProjectElements] Saved 2 elements for testuser/test-project

[90mstdout[2m | src/app/services/offline/offline-project-elements.service.spec.ts[2m > [22m[2mOfflineProjectElementsService[2m > [22m[2maddElement[2m > [22m[2mshould add element as child of folder
[22m[39m[INFO][OfflineProjectElements] Migrating 1 elements from localStorage to Yjs for testuser:test-project
[INFO][OfflineProjectElements] Successfully migrated elements for testuser:test-project
[DEBUG][OfflineProjectElements] Created Yjs connection for testuser:test-project:elements

[90mstdout[2m | src/app/services/offline/offline-project-elements.service.spec.ts[2m > [22m[2mOfflineProjectElementsService[2m > [22m[2maddElement[2m > [22m[2mshould add element as child of folder
[22m[39m[DEBUG][OfflineProjectElements] Saved 2 elements for testuser/test-project

[90mstdout[2m | src/app/services/worldbuilding/worldbuilding.service.spec.ts[2m > [22m[2mWorldbuildingService[2m > [22m[2msetupCollaboration[2m > [22m[2mshould setup collaboration for a worldbuilding element
[22m[39m[Worldbuilding] Setup check - mode: server, wsUrl: ws://localhost:8333, username: testuser, slug: test-project
[Worldbuilding] Connecting WebSocket for testuser:test-project:test-element-123

[90mstdout[2m | src/app/services/offline/offline-project-elements.service.spec.ts[2m > [22m[2mOfflineProjectElementsService[2m > [22m[2mdeleteElement[2m > [22m[2mshould delete single element
[22m[39m[INFO][OfflineProjectElements] Migrating 4 elements from localStorage to Yjs for testuser:test-project
[INFO][OfflineProjectElements] Successfully migrated elements for testuser:test-project
[DEBUG][OfflineProjectElements] Created Yjs connection for testuser:test-project:elements

[90mstdout[2m | src/app/services/offline/offline-project-elements.service.spec.ts[2m > [22m[2mOfflineProjectElementsService[2m > [22m[2mdeleteElement[2m > [22m[2mshould delete single element
[22m[39m[DEBUG][OfflineProjectElements] Saved 3 elements for testuser/test-project

[90mstdout[2m | src/app/services/worldbuilding/worldbuilding.service.spec.ts[2m > [22m[2mWorldbuildingService[2m > [22m[2msetupCollaboration[2m > [22m[2mshould reuse existing connection if already setup
[22m[39m[Worldbuilding] Setup check - mode: server, wsUrl: ws://localhost:8333, username: testuser, slug: test-project
[Worldbuilding] Connecting WebSocket for testuser:test-project:test-element-123

[90mstdout[2m | src/app/services/offline/offline-project-elements.service.spec.ts[2m > [22m[2mOfflineProjectElementsService[2m > [22m[2mdeleteElement[2m > [22m[2mshould delete element with subtree
[22m[39m[INFO][OfflineProjectElements] Migrating 4 elements from localStorage to Yjs for testuser:test-project
[INFO][OfflineProjectElements] Successfully migrated elements for testuser:test-project
[DEBUG][OfflineProjectElements] Created Yjs connection for testuser:test-project:elements

[90mstdout[2m | src/app/services/worldbuilding/worldbuilding.service.spec.ts[2m > [22m[2mWorldbuildingService[2m > [22m[2msetupCollaboration[2m > [22m[2mshould work in offline mode without WebSocket
[22m[39m[Worldbuilding] Setup check - mode: offline, wsUrl: ws://localhost:8333, username: undefined, slug: undefined
[Worldbuilding] WebSocket NOT created - missing params

[90mstdout[2m | src/app/services/offline/offline-project-elements.service.spec.ts[2m > [22m[2mOfflineProjectElementsService[2m > [22m[2mdeleteElement[2m > [22m[2mshould delete element with subtree
[22m[39m[DEBUG][OfflineProjectElements] Saved 1 elements for testuser/test-project

[90mstdout[2m | src/app/services/worldbuilding/worldbuilding.service.spec.ts[2m > [22m[2mWorldbuildingService[2m > [22m[2mloadSchemaLibrary[2m > [22m[2mshould load schema library for a project
[22m[39m[SchemaLibrary] Connecting to testuser:test-project:__schemas__

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/services/offline/offline-storage.service.spec.ts [2m([22m[2m27 tests[22m[2m)[22m[32m 116[2mms[22m[39m
stderr | src/app/services/user/unified-user.service.spec.ts > UnifiedUserService > server mode > should handle initialization error gracefully
Failed to load user from server: Error: Network error
    at D:/dev/inkweld/frontend/src/app/services/user/unified-user.service.spec.ts:129:53
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:912:26
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1237:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1203:10)
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1647:37
    at Traces.$ (file:///D:/dev/inkweld/frontend/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)
    at trace (file:///D:/dev/inkweld/frontend/node_modules/vitest/dist/chunks/test.DqQZzsWf.js:234:21)
    at runTest (file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1647:12)

[90mstdout[2m | src/app/services/offline/offline-project-elements.service.spec.ts[2m > [22m[2mOfflineProjectElementsService[2m > [22m[2mmoveElement[2m > [22m[2mshould move element to different position
[22m[39m[INFO][OfflineProjectElements] Migrating 3 elements from localStorage to Yjs for testuser:test-project
[INFO][OfflineProjectElements] Successfully migrated elements for testuser:test-project
[DEBUG][OfflineProjectElements] Created Yjs connection for testuser:test-project:elements

[90mstdout[2m | src/app/services/worldbuilding/worldbuilding.service.spec.ts[2m > [22m[2mWorldbuildingService[2m > [22m[2membedSchemaInElement[2m > [22m[2mshould embed schema snapshot in element Y.Doc
[22m[39m[WorldbuildingService] Embedded schema v1 for character

[90mstdout[2m | src/app/services/offline/offline-project-elements.service.spec.ts[2m > [22m[2mOfflineProjectElementsService[2m > [22m[2mmoveElement[2m > [22m[2mshould move element to different position
[22m[39m[DEBUG][OfflineProjectElements] Saved 3 elements for testuser/test-project

[90mstdout[2m | src/app/services/worldbuilding/worldbuilding.service.spec.ts[2m > [22m[2mWorldbuildingService[2m > [22m[2mloadSchemaFromElement[2m > [22m[2mshould load schema from element Y.Doc
[22m[39m[WorldbuildingService] Embedded schema v1 for character

[90mstdout[2m | src/app/services/offline/offline-project-elements.service.spec.ts[2m > [22m[2mOfflineProjectElementsService[2m > [22m[2mmoveElement[2m > [22m[2mshould change element level when moving
[22m[39m[INFO][OfflineProjectElements] Migrating 3 elements from localStorage to Yjs for testuser:test-project
[INFO][OfflineProjectElements] Successfully migrated elements for testuser:test-project
[DEBUG][OfflineProjectElements] Created Yjs connection for testuser:test-project:elements

[90mstdout[2m | src/app/services/offline/offline-project-elements.service.spec.ts[2m > [22m[2mOfflineProjectElementsService[2m > [22m[2mmoveElement[2m > [22m[2mshould change element level when moving
[22m[39m[DEBUG][OfflineProjectElements] Saved 3 elements for testuser/test-project

[90mstdout[2m | src/app/services/worldbuilding/worldbuilding.service.spec.ts[2m > [22m[2mWorldbuildingService[2m > [22m[2mgetWorldbuildingData[2m > [22m[2mshould retrieve worldbuilding data from element
[22m[39m[Worldbuilding] Setup check - mode: server, wsUrl: ws://localhost:8333, username: testuser, slug: test-project
[Worldbuilding] Connecting WebSocket for testuser:test-project:test-element-123

[90mstdout[2m | src/app/services/offline/offline-project-elements.service.spec.ts[2m > [22m[2mOfflineProjectElementsService[2m > [22m[2mrenameElement[2m > [22m[2mshould rename element
[22m[39m[INFO][OfflineProjectElements] Migrating 1 elements from localStorage to Yjs for testuser:test-project
[INFO][OfflineProjectElements] Successfully migrated elements for testuser:test-project
[DEBUG][OfflineProjectElements] Created Yjs connection for testuser:test-project:elements

[90mstdout[2m | src/app/services/offline/offline-project-elements.service.spec.ts[2m > [22m[2mOfflineProjectElementsService[2m > [22m[2mrenameElement[2m > [22m[2mshould rename element
[22m[39m[DEBUG][OfflineProjectElements] Saved 1 elements for testuser/test-project

[90mstdout[2m | src/app/services/worldbuilding/worldbuilding.service.spec.ts[2m > [22m[2mWorldbuildingService[2m > [22m[2mgetWorldbuildingData[2m > [22m[2mshould return empty object if connection not found
[22m[39m[Worldbuilding] Setup check - mode: server, wsUrl: ws://localhost:8333, username: undefined, slug: undefined
[Worldbuilding] WebSocket NOT created - missing params

[90mstdout[2m | src/app/services/worldbuilding/worldbuilding.service.spec.ts[2m > [22m[2mWorldbuildingService[2m > [22m[2msaveWorldbuildingData[2m > [22m[2mshould save worldbuilding data to element
[22m[39m[Worldbuilding] Setup check - mode: server, wsUrl: ws://localhost:8333, username: testuser, slug: test-project
[Worldbuilding] Connecting WebSocket for testuser:test-project:test-element-123

[90mstdout[2m | src/app/services/worldbuilding/worldbuilding.service.spec.ts[2m > [22m[2mWorldbuildingService[2m > [22m[2msaveWorldbuildingData[2m > [22m[2mshould save worldbuilding data to element
[22m[39m[WorldbuildingService] saveWorldbuildingData called: {
  elementId: [32m'test-element-123'[39m,
  data: { name: [32m'Updated Character'[39m },
  username: [32m'testuser'[39m,
  slug: [32m'test-project'[39m
}

[90mstdout[2m | src/app/services/worldbuilding/worldbuilding.service.spec.ts[2m > [22m[2mWorldbuildingService[2m > [22m[2msaveWorldbuildingData[2m > [22m[2mshould save worldbuilding data to element
[22m[39m[WorldbuildingService] Setting key="name", value= Updated Character type=string
[WorldbuildingService] Set primitive key="name" Updated Character
[WorldbuildingService] Transaction complete, data: { name: [32m'Updated Character'[39m, lastModified: [32m'2025-12-03T01:05:55.446Z'[39m }
[WorldbuildingService] Data saved to Y.Doc, will sync automatically

[90mstdout[2m | src/app/services/worldbuilding/worldbuilding.service.spec.ts[2m > [22m[2mWorldbuildingService[2m > [22m[2mgetSchemaFromLibrary[2m > [22m[2mshould retrieve schema from library
[22m[39m[SchemaLibrary] Looking for "character" in available types: [ [32m'character'[39m ]

[90mstdout[2m | src/app/services/offline/offline-project-elements.service.spec.ts[2m > [22m[2mOfflineProjectElementsService[2m > [22m[2mproject isolation[2m > [22m[2mshould isolate elements by project key
[22m[39m[INFO][OfflineProjectElements] Migrating 1 elements from localStorage to Yjs for user1:project1
[INFO][OfflineProjectElements] Successfully migrated elements for user1:project1
[DEBUG][OfflineProjectElements] Created Yjs connection for user1:project1:elements

[90mstdout[2m | src/app/services/offline/offline-project-elements.service.spec.ts[2m > [22m[2mOfflineProjectElementsService[2m > [22m[2mproject isolation[2m > [22m[2mshould isolate elements by project key
[22m[39m[DEBUG][OfflineProjectElements] Loaded 1 elements for user1/project1

[90mstdout[2m | src/app/services/offline/offline-project-elements.service.spec.ts[2m > [22m[2mOfflineProjectElementsService[2m > [22m[2mproject isolation[2m > [22m[2mshould isolate elements by project key
[22m[39m[INFO][OfflineProjectElements] Migrating 1 elements from localStorage to Yjs for user2:project2
[INFO][OfflineProjectElements] Successfully migrated elements for user2:project2
[DEBUG][OfflineProjectElements] Created Yjs connection for user2:project2:elements

[90mstdout[2m | src/app/services/offline/offline-project-elements.service.spec.ts[2m > [22m[2mOfflineProjectElementsService[2m > [22m[2mproject isolation[2m > [22m[2mshould isolate elements by project key
[22m[39m[DEBUG][OfflineProjectElements] Loaded 1 elements for user2/project2

[90mstdout[2m | src/app/services/worldbuilding/worldbuilding.service.spec.ts[2m > [22m[2mWorldbuildingService[2m > [22m[2mgetSchemaFromLibrary[2m > [22m[2mshould return null if schema type not found
[22m[39m[SchemaLibrary] Looking for "nonexistent" in available types: []

stderr | src/app/services/worldbuilding/worldbuilding.service.spec.ts > WorldbuildingService > getSchemaFromLibrary > should return null if schema type not found
Invalid access: Add Yjs type to a document before reading data.
Invalid access: Add Yjs type to a document before reading data.
[SchemaLibrary] No schema found for type "nonexistent". Available: 

[90mstdout[2m | src/app/services/worldbuilding/worldbuilding.service.spec.ts[2m > [22m[2mWorldbuildingService[2m > [22m[2mcloneTemplate[2m > [22m[2mshould clone an existing template with new ID
[22m[39m[WorldbuildingService] Cloned template character to CUSTOM_1764723955466: "Hero"

[90mstdout[2m | src/app/services/worldbuilding/worldbuilding.service.spec.ts[2m > [22m[2mWorldbuildingService[2m > [22m[2mdeleteTemplate[2m > [22m[2mshould delete a custom template from the library
[22m[39m[WorldbuildingService] Deleted custom template: CUSTOM_hero

[90mstdout[2m | src/app/services/project/document.service.spec.ts[2m > [22m[2mDocumentService[2m > [22m[2mDocument Connection Management[2m > [22m[2mshould create new document connection
[22m[39m[DocumentService] setupCollaboration called for: testuser:test-project:test-doc
[DocumentService] editor doc size BEFORE: [33m0[39m
[DEBUG][DocumentService] Explicitly initializing sync status for testuser:test-project:test-doc
[DEBUG][DocumentService] Waiting for IndexedDB sync...

[90mstdout[2m | src/app/services/project/document.service.spec.ts[2m > [22m[2mDocumentService[2m > [22m[2mDocument Connection Management[2m > [22m[2mshould create new document connection
[22m[39m[DEBUG][DocumentService] IndexedDB sync complete
[DocumentService] IndexedDB synced, ydoc XML fragment: 
[DocumentService] Editor doc size AFTER sync: [33m0[39m
[DEBUG][DocumentService] Setting up WebSocket connection for document: testuser:test-project:test-doc
[DocumentService] Plugins added, editor doc size: [33m0[39m
[DEBUG][DocumentService] initial word count: 0 for testuser:test-project:test-doc

[90mstdout[2m | src/app/services/project/document.service.spec.ts[2m > [22m[2mDocumentService[2m > [22m[2mDocument Connection Management[2m > [22m[2mshould create new document connection
[22m[39m[INFO][DocumentService] Disconnecting from all documents

[90mstdout[2m | src/app/services/worldbuilding/worldbuilding.service.spec.ts[2m > [22m[2mWorldbuildingService[2m > [22m[2mupdateTemplate[2m > [22m[2mshould update an existing template in the library
[22m[39m[WorldbuildingService] Updated template CUSTOM_hero to v2

[90mstdout[2m | src/app/services/auth/xsrf.service.spec.ts[2m > [22m[2mXsrfService[2m > [22m[2mrefreshToken()[2m > [22m[2mshould fetch token using SecurityService
[22m[39m[DEBUG][XsrfService] Refreshing CSRF token from server

[90mstdout[2m | src/app/services/auth/xsrf.service.spec.ts[2m > [22m[2mXsrfService[2m > [22m[2mrefreshToken()[2m > [22m[2mshould fetch token using SecurityService
[22m[39m[DEBUG][XsrfService] Successfully refreshed CSRF token

[90mstdout[2m | src/app/pages/project/tabs/document/document-tab.component.spec.ts[2m > [22m[2mDocumentTabComponent[2m > [22m[2mshould create
[22m[39mMock document editor initialized

[90mstdout[2m | src/app/services/auth/xsrf.service.spec.ts[2m > [22m[2mXsrfService[2m > [22m[2mrefreshToken()[2m > [22m[2mshould return empty string when API fails and no cookie exists
[22m[39m[DEBUG][XsrfService] Refreshing CSRF token from server

stderr | src/app/services/auth/xsrf.service.spec.ts > XsrfService > refreshToken() > should return empty string when API fails and no cookie exists
[ERROR][XsrfService] Failed to fetch CSRF token Error: API error
    at Object.<anonymous> (D:/dev/inkweld/frontend/src/app/services/auth/xsrf.service.spec.ts:50:15)
    at Object.Mock [as getCSRFToken] (file:///D:/dev/inkweld/frontend/node_modules/@vitest/spy/dist/index.js:280:34)
    at _XsrfService.refreshToken (D:/dev/inkweld/frontend/src/app/services/auth/xsrf.service.ts:40:30)
    at D:/dev/inkweld/frontend/src/app/services/auth/xsrf.service.spec.ts:53:35
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:912:26
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1237:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1203:10)
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1647:37

[90mstdout[2m | src/app/pages/project/tabs/document/document-tab.component.spec.ts[2m > [22m[2mDocumentTabComponent[2m > [22m[2mshould create
[22m[39mMock document editor destroyed

Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
[90mstdout[2m | src/app/services/auth/xsrf.service.spec.ts[2m > [22m[2mXsrfService[2m > [22m[2mgetToken()[2m > [22m[2mshould return cached token if not expired
[22m[39m[DEBUG][XsrfService] Refreshing CSRF token from server

[90mstdout[2m | src/app/services/auth/xsrf.service.spec.ts[2m > [22m[2mXsrfService[2m > [22m[2mgetToken()[2m > [22m[2mshould return cached token if not expired
[22m[39m[DEBUG][XsrfService] Successfully refreshed CSRF token

[90mstdout[2m | src/app/services/auth/xsrf.service.spec.ts[2m > [22m[2mXsrfService[2m > [22m[2mgetToken()[2m > [22m[2mshould refresh token if expired
[22m[39m[DEBUG][XsrfService] Refreshing CSRF token from server

[90mstdout[2m | src/app/services/auth/xsrf.service.spec.ts[2m > [22m[2mXsrfService[2m > [22m[2mgetToken()[2m > [22m[2mshould refresh token if expired
[22m[39m[DEBUG][XsrfService] Successfully refreshed CSRF token

[90mstdout[2m | src/app/services/auth/xsrf.service.spec.ts[2m > [22m[2mXsrfService[2m > [22m[2mgetToken()[2m > [22m[2mshould refresh token if expired
[22m[39m[DEBUG][XsrfService] Refreshing CSRF token from server

[90mstdout[2m | src/app/services/auth/xsrf.service.spec.ts[2m > [22m[2mXsrfService[2m > [22m[2mgetToken()[2m > [22m[2mshould refresh token if expired
[22m[39m[DEBUG][XsrfService] Successfully refreshed CSRF token

[90mstdout[2m | src/app/services/worldbuilding/worldbuilding.service.spec.ts[2m > [22m[2mWorldbuildingService[2m > [22m[2minitializeWorldbuildingElement[2m > [22m[2mshould initialize element with schema and default values
[22m[39m[WorldbuildingService] Initializing new CHARACTER element test-element-123
[WorldbuildingService] Looking for schema: projectKey="testuser:test-project", elementType="CHARACTER"

[90mstdout[2m | src/app/services/worldbuilding/worldbuilding.service.spec.ts[2m > [22m[2mWorldbuildingService[2m > [22m[2minitializeWorldbuildingElement[2m > [22m[2mshould initialize element with schema and default values
[22m[39m[WorldbuildingService] Schema lookup result: Found Character (v1)
[WorldbuildingService] Embedded schema v1 for character
[WorldbuildingService] Initialized CHARACTER element test-element-123 with schema-based data

[90mstdout[2m | src/app/pages/project/tabs/document/document-tab.component.spec.ts[2m > [22m[2mDocumentTabComponent[2m > [22m[2mfullDocumentId computed signal[2m > [22m[2mshould return empty string when no tabs are open
[22m[39mMock document editor initialized

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/services/offline/offline-project-elements.service.spec.ts [2m([22m[2m19 tests[22m[2m | [22m[33m1 skipped[39m[2m)[22m[32m 136[2mms[22m[39m
[90mstdout[2m | src/app/pages/project/tabs/document/document-tab.component.spec.ts[2m > [22m[2mDocumentTabComponent[2m > [22m[2mfullDocumentId computed signal[2m > [22m[2mshould return empty string when no tabs are open
[22m[39mMock document editor destroyed

[90mstdout[2m | src/app/services/worldbuilding/worldbuilding.service.spec.ts[2m > [22m[2mWorldbuildingService[2m > [22m[2minitializeWorldbuildingElement[2m > [22m[2mshould skip initialization if already initialized
[22m[39m[WorldbuildingService] Element test-element-123 already initialized, skipping

[90mstdout[2m | src/app/services/project/document.service.spec.ts[2m > [22m[2mDocumentService[2m > [22m[2mDocument Connection Management[2m > [22m[2mshould reuse existing document connection
[22m[39m[DocumentService] setupCollaboration called for: testuser:test-project:test-doc
[DocumentService] editor doc size BEFORE: [33m0[39m
[DEBUG][DocumentService] Explicitly initializing sync status for testuser:test-project:test-doc
[DEBUG][DocumentService] Waiting for IndexedDB sync...

[90mstdout[2m | src/app/services/project/document.service.spec.ts[2m > [22m[2mDocumentService[2m > [22m[2mDocument Connection Management[2m > [22m[2mshould reuse existing document connection
[22m[39m[DEBUG][DocumentService] IndexedDB sync complete
[DocumentService] IndexedDB synced, ydoc XML fragment: 
[DocumentService] Editor doc size AFTER sync: [33m0[39m
[DEBUG][DocumentService] Setting up WebSocket connection for document: testuser:test-project:test-doc
[DocumentService] Plugins added, editor doc size: [33m0[39m
[DEBUG][DocumentService] initial word count: 0 for testuser:test-project:test-doc

[90mstdout[2m | src/app/services/project/document.service.spec.ts[2m > [22m[2mDocumentService[2m > [22m[2mDocument Connection Management[2m > [22m[2mshould reuse existing document connection
[22m[39m[DocumentService] setupCollaboration called for: testuser:test-project:test-doc
[DocumentService] editor doc size BEFORE: [33m0[39m
[DocumentService] Plugins added, editor doc size: [33m0[39m
[DEBUG][DocumentService] initial word count: 0 for testuser:test-project:test-doc

[90mstdout[2m | src/app/services/auth/xsrf.service.spec.ts[2m > [22m[2mXsrfService[2m > [22m[2mgetXsrfToken()[2m > [22m[2mshould return token from cookie if available
[22m[39m[DEBUG][XsrfService] Updating stored token from cookie

[90mstdout[2m | src/app/services/project/document.service.spec.ts[2m > [22m[2mDocumentService[2m > [22m[2mDocument Connection Management[2m > [22m[2mshould reuse existing document connection
[22m[39m[INFO][DocumentService] Disconnecting from all documents

[90mstdout[2m | src/app/services/auth/xsrf.service.spec.ts[2m > [22m[2mXsrfService[2m > [22m[2mgetXsrfToken()[2m > [22m[2mshould return stored token if no cookie
[22m[39m[DEBUG][XsrfService] Refreshing CSRF token from server

[90mstdout[2m | src/app/services/auth/xsrf.service.spec.ts[2m > [22m[2mXsrfService[2m > [22m[2mgetXsrfToken()[2m > [22m[2mshould return stored token if no cookie
[22m[39m[DEBUG][XsrfService] Successfully refreshed CSRF token

[90mstdout[2m | src/app/pages/project/tabs/document/document-tab.component.spec.ts[2m > [22m[2mDocumentTabComponent[2m > [22m[2mfullDocumentId computed signal[2m > [22m[2mshould return empty string when selectedTabIndex is 0 (home)
[22m[39mMock document editor initialized

[90mstdout[2m | src/app/services/auth/xsrf.service.spec.ts[2m > [22m[2mXsrfService[2m > [22m[2mgetXsrfToken()[2m > [22m[2mshould update stored token if cookie token differs
[22m[39m[DEBUG][XsrfService] Refreshing CSRF token from server

[90mstdout[2m | src/app/services/auth/xsrf.service.spec.ts[2m > [22m[2mXsrfService[2m > [22m[2mgetXsrfToken()[2m > [22m[2mshould update stored token if cookie token differs
[22m[39m[DEBUG][XsrfService] Successfully refreshed CSRF token

[90mstdout[2m | src/app/services/auth/xsrf.service.spec.ts[2m > [22m[2mXsrfService[2m > [22m[2mgetXsrfToken()[2m > [22m[2mshould update stored token if cookie token differs
[22m[39m[DEBUG][XsrfService] Updating stored token from cookie

[90mstdout[2m | src/app/services/project/document.service.spec.ts[2m > [22m[2mDocumentService[2m > [22m[2mDocument Connection Management[2m > [22m[2mshould disconnect specific document
[22m[39m[DocumentService] setupCollaboration called for: testuser:test-project:test-doc
[DocumentService] editor doc size BEFORE: [33m0[39m
[DEBUG][DocumentService] Explicitly initializing sync status for testuser:test-project:test-doc
[DEBUG][DocumentService] Waiting for IndexedDB sync...

[90mstdout[2m | src/app/pages/project/tabs/document/document-tab.component.spec.ts[2m > [22m[2mDocumentTabComponent[2m > [22m[2mfullDocumentId computed signal[2m > [22m[2mshould return empty string when selectedTabIndex is 0 (home)
[22m[39mMock document editor destroyed

[90mstdout[2m | src/app/services/project/document.service.spec.ts[2m > [22m[2mDocumentService[2m > [22m[2mDocument Connection Management[2m > [22m[2mshould disconnect specific document
[22m[39m[DEBUG][DocumentService] IndexedDB sync complete
[DocumentService] IndexedDB synced, ydoc XML fragment: 
[DocumentService] Editor doc size AFTER sync: [33m0[39m
[DEBUG][DocumentService] Setting up WebSocket connection for document: testuser:test-project:test-doc
[DocumentService] Plugins added, editor doc size: [33m0[39m
[DEBUG][DocumentService] initial word count: 0 for testuser:test-project:test-doc

stderr | src/app/services/project/document.service.spec.ts > DocumentService > Document Connection Management > should disconnect specific document
[WARN][DocumentService] Error cleaning up WebSocket provider for testuser:test-project:test-doc TypeError: connection.provider.disconnect is not a function
    at _DocumentService.disconnect (D:/dev/inkweld/frontend/src/app/services/project/document.service.ts:769:33)
    at D:/dev/inkweld/frontend/src/app/services/project/document.service.spec.ts:196:15
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:912:20

[90mstdout[2m | src/app/services/project/document.service.spec.ts[2m > [22m[2mDocumentService[2m > [22m[2mDocument Connection Management[2m > [22m[2mshould disconnect specific document
[22m[39m[INFO][DocumentService] Disconnecting from testuser:test-project:test-doc
[DEBUG][DocumentService] Clearing awareness for clientID undefined on disconnect

[90mstdout[2m | src/app/services/project/document.service.spec.ts[2m > [22m[2mDocumentService[2m > [22m[2mDocument Connection Management[2m > [22m[2mshould disconnect specific document
[22m[39m[INFO][DocumentService] Disconnecting from all documents

[90mstdout[2m | src/app/services/auth/xsrf.service.spec.ts[2m > [22m[2mXsrfService[2m > [22m[2mcookie initialization[2m > [22m[2mshould initialize token from cookie on construction
[22m[39m[DEBUG][XsrfService] Initialized CSRF token from cookie

[90mstdout[2m | src/app/services/auth/xsrf.service.spec.ts[2m > [22m[2mXsrfService[2m > [22m[2merror handling[2m > [22m[2mshould handle invalid token format from server
[22m[39m[DEBUG][XsrfService] Refreshing CSRF token from server

stderr | src/app/services/auth/xsrf.service.spec.ts > XsrfService > error handling > should handle invalid token format from server
[ERROR][XsrfService] Failed to fetch CSRF token Error: Invalid token format received from server
    at _XsrfService.refreshToken (D:/dev/inkweld/frontend/src/app/services/auth/xsrf.service.ts:44:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at D:/dev/inkweld/frontend/src/app/services/auth/xsrf.service.spec.ts:184:21
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:912:20

[90mstdout[2m | src/app/pages/project/project.component.spec.ts[2m > [22m[2mProjectComponent[2m > [22m[2mgutter size[2m > [22m[2mshould return 8 for desktop
[22m[39mProjectComponent init
Loading project testuser/test-project

[90mstdout[2m | src/app/pages/project/tabs/document/document-tab.component.spec.ts[2m > [22m[2mDocumentTabComponent[2m > [22m[2mfullDocumentId computed signal[2m > [22m[2mshould return empty string when tab has no element
[22m[39mMock document editor initialized

[90mstdout[2m | src/app/pages/project/tabs/document/document-tab.component.spec.ts[2m > [22m[2mDocumentTabComponent[2m > [22m[2mfullDocumentId computed signal[2m > [22m[2mshould return empty string when tab has no element
[22m[39mMock document editor destroyed

[90mstdout[2m | src/app/services/auth/xsrf.service.spec.ts[2m > [22m[2mXsrfService[2m > [22m[2merror handling[2m > [22m[2mshould handle missing token in response
[22m[39m[DEBUG][XsrfService] Refreshing CSRF token from server

[90mstdout[2m | src/app/services/project/document.service.spec.ts[2m > [22m[2mDocumentService[2m > [22m[2mDocument Connection Management[2m > [22m[2mshould disconnect all documents
[22m[39m[DocumentService] setupCollaboration called for: testuser:test-project:test-doc
[DocumentService] editor doc size BEFORE: [33m0[39m
[DEBUG][DocumentService] Explicitly initializing sync status for testuser:test-project:test-doc
[DEBUG][DocumentService] Waiting for IndexedDB sync...

stderr | src/app/services/auth/xsrf.service.spec.ts > XsrfService > error handling > should handle missing token in response
[ERROR][XsrfService] Failed to fetch CSRF token Error: Invalid token format received from server
    at _XsrfService.refreshToken (D:/dev/inkweld/frontend/src/app/services/auth/xsrf.service.ts:44:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at D:/dev/inkweld/frontend/src/app/services/auth/xsrf.service.spec.ts:192:21
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:912:20

[90mstdout[2m | src/app/services/project/document.service.spec.ts[2m > [22m[2mDocumentService[2m > [22m[2mDocument Connection Management[2m > [22m[2mshould disconnect all documents
[22m[39m[DEBUG][DocumentService] IndexedDB sync complete
[DocumentService] IndexedDB synced, ydoc XML fragment: 
[DocumentService] Editor doc size AFTER sync: [33m0[39m
[DEBUG][DocumentService] Setting up WebSocket connection for document: testuser:test-project:test-doc
[DocumentService] Plugins added, editor doc size: [33m0[39m
[DEBUG][DocumentService] initial word count: 0 for testuser:test-project:test-doc

[90mstdout[2m | src/app/services/project/document.service.spec.ts[2m > [22m[2mDocumentService[2m > [22m[2mDocument Connection Management[2m > [22m[2mshould disconnect all documents
[22m[39m[INFO][DocumentService] Disconnecting from all documents

[90mstdout[2m | src/app/services/project/document.service.spec.ts[2m > [22m[2mDocumentService[2m > [22m[2mDocument Connection Management[2m > [22m[2mshould disconnect all documents
[22m[39m[INFO][DocumentService] Disconnecting from all documents

[90mstdout[2m | src/app/services/auth/xsrf.service.spec.ts[2m > [22m[2mXsrfService[2m > [22m[2merror handling[2m > [22m[2mshould use cookie fallback when API throws error
[22m[39m[DEBUG][XsrfService] Refreshing CSRF token from server
[DEBUG][XsrfService] Using CSRF token from cookie as fallback

stderr | src/app/services/auth/xsrf.service.spec.ts > XsrfService > error handling > should use cookie fallback when API throws error
[ERROR][XsrfService] Failed to fetch CSRF token Error: Network error
    at Object.<anonymous> (D:/dev/inkweld/frontend/src/app/services/auth/xsrf.service.spec.ts:199:15)
    at Object.Mock [as getCSRFToken] (file:///D:/dev/inkweld/frontend/node_modules/@vitest/spy/dist/index.js:280:34)
    at _XsrfService.refreshToken (D:/dev/inkweld/frontend/src/app/services/auth/xsrf.service.ts:40:30)
    at D:/dev/inkweld/frontend/src/app/services/auth/xsrf.service.spec.ts:205:35
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:912:26
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1237:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1203:10)
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1647:37

[90mstdout[2m | src/app/services/offline/migration.service.spec.ts[2m > [22m[2mMigrationService[2m > [22m[2mcleanupOfflineData[2m > [22m[2mshould delete all offline projects
[22m[39m[Migration] Before cleanup - app-config: [1mnull[22m
[Migration] Before cleanup - auth_token: MISSING
[Migration] Before cleanup - offline-user: [1mnull[22m
[Migration] After cleanup - app-config: [1mnull[22m
[Migration] After cleanup - auth_token: MISSING
[Migration] After cleanup - offline-user: [1mnull[22m

[90mstdout[2m | src/app/services/project/document.service.spec.ts[2m > [22m[2mDocumentService[2m > [22m[2mSync Status Management[2m > [22m[2mshould initialize with Offline status
[22m[39m[DEBUG][DocumentService] Explicitly initializing sync status for testuser:test-project:test-doc

[90mstdout[2m | src/app/pages/project/tabs/document/document-tab.component.spec.ts[2m > [22m[2mDocumentTabComponent[2m > [22m[2mfullDocumentId computed signal[2m > [22m[2mshould return empty string when project is undefined
[22m[39mMock document editor initialized

[90mstdout[2m | src/app/services/offline/migration.service.spec.ts[2m > [22m[2mMigrationService[2m > [22m[2mcleanupOfflineData[2m > [22m[2mshould clear offline localStorage items
[22m[39m[Migration] Before cleanup - app-config: [1mnull[22m
[Migration] Before cleanup - auth_token: EXISTS
[Migration] Before cleanup - offline-user: test-user
[Migration] After cleanup - app-config: [1mnull[22m
[Migration] After cleanup - auth_token: EXISTS
[Migration] After cleanup - offline-user: [1mnull[22m

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/services/user/unified-user.service.spec.ts [2m([22m[2m24 tests[22m[2m)[22m[32m 99[2mms[22m[39m
[90mstdout[2m | src/app/services/project/document.service.spec.ts[2m > [22m[2mDocumentService[2m > [22m[2mSync Status Management[2m > [22m[2mshould initialize with Offline status
[22m[39m[INFO][DocumentService] Disconnecting from all documents

[90mstdout[2m | src/app/pages/project/tabs/document/document-tab.component.spec.ts[2m > [22m[2mDocumentTabComponent[2m > [22m[2mfullDocumentId computed signal[2m > [22m[2mshould return empty string when project is undefined
[22m[39mMock document editor destroyed

[90mstdout[2m | src/app/services/offline/migration.service.spec.ts[2m > [22m[2mMigrationService[2m > [22m[2mcleanupOfflineData[2m > [22m[2mshould log cleanup operation
[22m[39m[Migration] Before cleanup - app-config: [1mnull[22m
[Migration] Before cleanup - auth_token: MISSING
[Migration] Before cleanup - offline-user: [1mnull[22m
[Migration] After cleanup - app-config: [1mnull[22m
[Migration] After cleanup - auth_token: MISSING
[Migration] After cleanup - offline-user: [1mnull[22m

[90mstdout[2m | src/app/services/offline/migration.service.spec.ts[2m > [22m[2mMigrationService[2m > [22m[2mcleanupOfflineData[2m > [22m[2mshould handle empty projects list
[22m[39m[Migration] Before cleanup - app-config: [1mnull[22m
[Migration] Before cleanup - auth_token: MISSING
[Migration] Before cleanup - offline-user: [1mnull[22m
[Migration] After cleanup - app-config: [1mnull[22m
[Migration] After cleanup - auth_token: MISSING
[Migration] After cleanup - offline-user: [1mnull[22m

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/services/publish/publish-plan.service.spec.ts [2m([22m[2m16 tests[22m[2m)[22m[32m 111[2mms[22m[39m
[90mstdout[2m | src/app/services/project/document.service.spec.ts[2m > [22m[2mDocumentService[2m > [22m[2mDocument Import/Export[2m > [22m[2mshould throw error when exporting non-existent document
[22m[39m[INFO][DocumentService] Disconnecting from all documents

[90mstdout[2m | src/app/pages/project/tabs/document/document-tab.component.spec.ts[2m > [22m[2mDocumentTabComponent[2m > [22m[2mfullDocumentId computed signal[2m > [22m[2mshould return properly formatted document ID when all data is available
[22m[39mMock document editor initialized

[90mstdout[2m | src/app/pages/project/tabs/document/document-tab.component.spec.ts[2m > [22m[2mDocumentTabComponent[2m > [22m[2mfullDocumentId computed signal[2m > [22m[2mshould return properly formatted document ID when all data is available
[22m[39mMock document editor destroyed

[90mstdout[2m | src/app/services/project/document.service.spec.ts[2m > [22m[2mDocumentService[2m > [22m[2mDocument Import/Export[2m > [22m[2mshould throw error when importing to non-existent document
[22m[39m[INFO][DocumentService] Disconnecting from all documents

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/services/worldbuilding/worldbuilding.service.spec.ts [2m([22m[2m25 tests[22m[2m)[22m[32m 130[2mms[22m[39m
[90mstdout[2m | src/app/services/project/document.service.spec.ts[2m > [22m[2mDocumentService[2m > [22m[2mCollaboration Setup[2m > [22m[2mshould handle editor initialization errors
[22m[39m[DocumentService] setupCollaboration called for: testuser:test-project:test-doc
[DocumentService] editor doc size BEFORE: [90mundefined[39m

[90mstdout[2m | src/app/pages/project/tabs/document/document-tab.component.spec.ts[2m > [22m[2mDocumentTabComponent[2m > [22m[2mfullDocumentId computed signal[2m > [22m[2mshould return correct document ID for second tab
[22m[39mMock document editor initialized

[90mstdout[2m | src/app/services/project/document.service.spec.ts[2m > [22m[2mDocumentService[2m > [22m[2mCollaboration Setup[2m > [22m[2mshould handle editor initialization errors
[22m[39m[INFO][DocumentService] Disconnecting from all documents

[90mstdout[2m | src/app/pages/project/tabs/document/document-tab.component.spec.ts[2m > [22m[2mDocumentTabComponent[2m > [22m[2mfullDocumentId computed signal[2m > [22m[2mshould return correct document ID for second tab
[22m[39mMock document editor destroyed

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/interceptors/csrf.interceptor.spec.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 117[2mms[22m[39m
[90mstdout[2m | src/app/services/project/document.service.spec.ts[2m > [22m[2mDocumentService[2m > [22m[2mCollaboration Setup[2m > [22m[2mshould throw error when connection is not properly initialized
[22m[39m[DocumentService] setupCollaboration called for: testuser:test-project:test-doc
[DocumentService] editor doc size BEFORE: [33m0[39m
[DEBUG][DocumentService] Explicitly initializing sync status for testuser:test-project:test-doc
[DEBUG][DocumentService] Waiting for IndexedDB sync...

[90mstdout[2m | src/app/services/project/document.service.spec.ts[2m > [22m[2mDocumentService[2m > [22m[2mCollaboration Setup[2m > [22m[2mshould throw error when connection is not properly initialized
[22m[39m[DEBUG][DocumentService] IndexedDB sync complete
[DocumentService] IndexedDB synced, ydoc XML fragment: 
[DocumentService] Editor doc size AFTER sync: [33m0[39m
[DEBUG][DocumentService] Setting up WebSocket connection for document: testuser:test-project:test-doc
[DocumentService] Plugins added, editor doc size: [33m0[39m
[DEBUG][DocumentService] initial word count: 0 for testuser:test-project:test-doc

[90mstdout[2m | src/app/services/project/document.service.spec.ts[2m > [22m[2mDocumentService[2m > [22m[2mCollaboration Setup[2m > [22m[2mshould throw error when connection is not properly initialized
[22m[39m[DocumentService] setupCollaboration called for: testuser:test-project:test-doc
[DocumentService] editor doc size BEFORE: [33m0[39m

[90mstdout[2m | src/app/services/project/document.service.spec.ts[2m > [22m[2mDocumentService[2m > [22m[2mCollaboration Setup[2m > [22m[2mshould throw error when connection is not properly initialized
[22m[39m[INFO][DocumentService] Disconnecting from all documents

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/services/auth/xsrf.service.spec.ts [2m([22m[2m14 tests[22m[2m)[22m[32m 71[2mms[22m[39m
[90mstdout[2m | src/app/pages/project/tabs/document/document-tab.component.spec.ts[2m > [22m[2mDocumentTabComponent[2m > [22m[2museTabsDesktop[2m > [22m[2mshould return settings value for useTabsDesktop
[22m[39mMock document editor initialized

[90mstdout[2m | src/app/services/project/document.service.spec.ts[2m > [22m[2mDocumentService[2m > [22m[2mUnsynced Changes Tracking[2m > [22m[2mshould return false for hasUnsyncedChanges on non-existent document
[22m[39m[INFO][DocumentService] Disconnecting from all documents

[90mstdout[2m | src/app/pages/project/tabs/document/document-tab.component.spec.ts[2m > [22m[2mDocumentTabComponent[2m > [22m[2museTabsDesktop[2m > [22m[2mshould return settings value for useTabsDesktop
[22m[39mMock document editor destroyed

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/services/offline/migration.service.spec.ts [2m([22m[2m24 tests[22m[2m)[22m[32m 110[2mms[22m[39m
stderr | src/app/services/project/project-file.service.spec.ts > ProjectFileService > error handling > handles getProjectFiles API error
Error fetching project files: Error: Network failure
    at D:/dev/inkweld/frontend/src/app/services/project/project-file.service.spec.ts:167:24
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:912:26
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1237:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1203:10)
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1647:37
    at Traces.$ (file:///D:/dev/inkweld/frontend/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)
    at trace (file:///D:/dev/inkweld/frontend/node_modules/vitest/dist/chunks/test.DqQZzsWf.js:234:21)
    at runTest (file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1647:12)

stderr | src/app/services/project/project-file.service.spec.ts > ProjectFileService > error handling > handles uploadFile API error
Error uploading file: Error: Upload failed
    at D:/dev/inkweld/frontend/src/app/services/project/project-file.service.spec.ts:184:24
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:912:26
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1237:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1203:10)
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1647:37
    at Traces.$ (file:///D:/dev/inkweld/frontend/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)
    at trace (file:///D:/dev/inkweld/frontend/node_modules/vitest/dist/chunks/test.DqQZzsWf.js:234:21)
    at runTest (file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1647:12)

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/services/project/document.service.spec.ts [2m([22m[2m21 tests[22m[2m | [22m[33m11 skipped[39m[2m)[22m[32m 146[2mms[22m[39m
stderr | src/app/services/project/project-file.service.spec.ts > ProjectFileService > error handling > handles deleteFile API error
Error deleting file: Error: Delete failed
    at D:/dev/inkweld/frontend/src/app/services/project/project-file.service.spec.ts:202:24
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:912:26
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1237:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1203:10)
    at file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1647:37
    at Traces.$ (file:///D:/dev/inkweld/frontend/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)
    at trace (file:///D:/dev/inkweld/frontend/node_modules/vitest/dist/chunks/test.DqQZzsWf.js:234:21)
    at runTest (file:///D:/dev/inkweld/frontend/node_modules/@vitest/runner/dist/index.js:1647:12)

Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
stderr | src/app/services/project/project-file.service.spec.ts > ProjectFileService > error handling > handles non-Error object in getProjectFiles error
Error fetching project files: string error

stderr | src/app/services/project/project-file.service.spec.ts > ProjectFileService > error handling > handles non-Error object in uploadFile error
Error uploading file: string error

stderr | src/app/services/project/project-file.service.spec.ts > ProjectFileService > error handling > handles non-Error object in deleteFile error
Error deleting file: string error

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/pages/project/tabs/document/document-tab.component.spec.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 142[2mms[22m[39m
 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/services/sync/offline-element-sync.provider.spec.ts [2m([22m[2m16 tests[22m[2m)[22m[32m 68[2mms[22m[39m
[90mstdout[2m | src/app/pages/project/project.component.spec.ts[2m > [22m[2mProjectComponent[2m > [22m[2msplit drag end[2m > [22m[2mshould update split size on drag end
[22m[39mProjectComponent init
Loading project testuser/test-project

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/themes/theme.service.spec.ts [2m([22m[2m13 tests[22m[2m)[22m[32m 44[2mms[22m[39m
 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/services/project/document-snapshot.service.spec.ts [2m([22m[2m13 tests[22m[2m)[22m[32m 48[2mms[22m[39m
 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/pages/not-found/not-found.component.spec.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 49[2mms[22m[39m
 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/services/project/project-file.service.spec.ts [2m([22m[2m19 tests[22m[2m)[22m[32m 115[2mms[22m[39m
 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/services/worldbuilding/default-templates.service.spec.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 41[2mms[22m[39m
 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/interceptors/auth-token.interceptor.spec.ts [2m([22m[2m13 tests[22m[2m)[22m[32m 49[2mms[22m[39m
 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/services/offline/offline-user.service.spec.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 52[2mms[22m[39m
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
stderr | src/app/interceptors/auth.interceptor.spec.ts > AuthInterceptor > should redirect to welcome on 401 error in server mode
Session expired or invalid, redirecting to login

stderr | src/app/interceptors/auth.interceptor.spec.ts > AuthInterceptor > should not redirect when already on welcome page
Session expired or invalid, redirecting to login

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/components/lint/lint-api.service.spec.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 33[2mms[22m[39m
[90mstdout[2m | src/app/components/lint/lint-storage.service.spec.ts[2m > [22m[2mLintStorageService[2m > [22m[2mshould reject a suggestion and save it to localStorage
[22m[39m[LintStorage] Saved 1 rejected suggestions
[LintStorage] Suggestion rejected and saved: test suggestion

stderr | src/app/interceptors/auth.interceptor.spec.ts > AuthInterceptor > should handle navigation failure gracefully
Session expired or invalid, redirecting to login

[90mstdout[2m | src/app/components/lint/lint-storage.service.spec.ts[2m > [22m[2mLintStorageService[2m > [22m[2mshould load rejected suggestions from localStorage on init
[22m[39m[LintStorage] Loaded 2 rejected suggestions

[90mstdout[2m | src/app/components/bookshelf/bookshelf.component.spec.ts[2m > [22m[2mBookshelfComponent[2m > [22m[2mProject Selection[2m > [22m[2mshould emit selected project when clicking on active card
[22m[39m[Bookshelf] selectProject called
[Bookshelf] recentlyDragged: [33mfalse[39m
[Bookshelf] recentlyScrolled: [33mfalse[39m
[Bookshelf] Project clicked: {
  clickedProject: { username: [32m'testuser'[39m, slug: [32m'project-1'[39m, title: [32m'Project 1'[39m },
  clickedIndex: [33m0[39m,
  currentActiveIndex: [33m0[39m,
  allProjects: [
    { username: [32m'testuser'[39m, slug: [32m'project-1'[39m, title: [32m'Project 1'[39m },
    { username: [32m'testuser'[39m, slug: [32m'project-2'[39m, title: [32m'Project 2'[39m },
    { username: [32m'testuser'[39m, slug: [32m'project-3'[39m, title: [32m'Project 3'[39m }
  ]
}
[Bookshelf] Emitting projectSelected event for: { username: [32m'testuser'[39m, slug: [32m'project-1'[39m, title: [32m'Project 1'[39m }

[90mstdout[2m | src/app/components/bookshelf/bookshelf.component.spec.ts[2m > [22m[2mBookshelfComponent[2m > [22m[2mProject Selection[2m > [22m[2mshould scroll to card but not emit when clicking on non-active card
[22m[39m[Bookshelf] selectProject called
[Bookshelf] recentlyDragged: [33mfalse[39m
[Bookshelf] recentlyScrolled: [33mfalse[39m
[Bookshelf] Project clicked: {
  clickedProject: { username: [32m'testuser'[39m, slug: [32m'project-2'[39m, title: [32m'Project 2'[39m },
  clickedIndex: [33m1[39m,
  currentActiveIndex: [33m0[39m,
  allProjects: [
    { username: [32m'testuser'[39m, slug: [32m'project-1'[39m, title: [32m'Project 1'[39m },
    { username: [32m'testuser'[39m, slug: [32m'project-2'[39m, title: [32m'Project 2'[39m },
    { username: [32m'testuser'[39m, slug: [32m'project-3'[39m, title: [32m'Project 3'[39m }
  ]
}
[Bookshelf] Scrolling to card index: [33m1[39m

[90mstdout[2m | src/app/pages/project/project.component.spec.ts[2m > [22m[2mProjectComponent[2m > [22m[2msplit drag end[2m > [22m[2mshould not update split size on mobile
[22m[39mProjectComponent init
Loading project testuser/test-project

[90mstdout[2m | src/app/components/lint/lint-storage.service.spec.ts[2m > [22m[2mLintStorageService[2m > [22m[2mshould handle errors when saving to localStorage
[22m[39m[LintStorage] Suggestion rejected and saved: test suggestion

[90mstdout[2m | src/app/components/bookshelf/bookshelf.component.spec.ts[2m > [22m[2mBookshelfComponent[2m > [22m[2mProject Selection[2m > [22m[2mshould not emit or scroll when recently dragged
[22m[39m[Bookshelf] selectProject called
[Bookshelf] recentlyDragged: [33mtrue[39m
[Bookshelf] recentlyScrolled: [33mfalse[39m
[Bookshelf] Ignoring click - recently dragged

[90mstdout[2m | src/app/components/lint/lint-storage.service.spec.ts[2m > [22m[2mLintStorageService[2m > [22m[2mshould reject suggestion when lint-correction-reject event is dispatched
[22m[39m[LintStorage] Saved 1 rejected suggestions
[LintStorage] Suggestion rejected and saved: test suggestion
[LintStorage] Saved 1 rejected suggestions
[LintStorage] Suggestion rejected and saved: test suggestion
[LintStorage] Saved 1 rejected suggestions
[LintStorage] Suggestion rejected and saved: test suggestion
[LintStorage] Saved 1 rejected suggestions
[LintStorage] Suggestion rejected and saved: test suggestion
[LintStorage] Saved 1 rejected suggestions
[LintStorage] Suggestion rejected and saved: test suggestion
[LintStorage] Saved 3 rejected suggestions
[LintStorage] Suggestion rejected and saved: test suggestion
[LintStorage] Saved 1 rejected suggestions
[LintStorage] Suggestion rejected and saved: test suggestion
[LintStorage] Saved 1 rejected suggestions
[LintStorage] Suggestion rejected and saved: test suggestion
[LintStorage] Saved 1 rejected suggestions
[LintStorage] Suggestion rejected and saved: test suggestion
[LintStorage] Saved 1 rejected suggestions
[LintStorage] Suggestion rejected and saved: test suggestion

[90mstdout[2m | src/app/components/bookshelf/bookshelf.component.spec.ts[2m > [22m[2mBookshelfComponent[2m > [22m[2mProject Selection[2m > [22m[2mshould not emit or scroll when recently scrolled
[22m[39m[Bookshelf] selectProject called
[Bookshelf] recentlyDragged: [33mfalse[39m
[Bookshelf] recentlyScrolled: [33mtrue[39m
[Bookshelf] Ignoring click - recently scrolled

[90mstdout[2m | src/app/components/bookshelf/bookshelf.component.spec.ts[2m > [22m[2mBookshelfComponent[2m > [22m[2mProject Selection[2m > [22m[2mshould set recentlyScrolled flag when scrolling to non-active card
[22m[39m[Bookshelf] selectProject called
[Bookshelf] recentlyDragged: [33mfalse[39m
[Bookshelf] recentlyScrolled: [33mfalse[39m
[Bookshelf] Project clicked: {
  clickedProject: { username: [32m'testuser'[39m, slug: [32m'project-2'[39m, title: [32m'Project 2'[39m },
  clickedIndex: [33m1[39m,
  currentActiveIndex: [33m0[39m,
  allProjects: [
    { username: [32m'testuser'[39m, slug: [32m'project-1'[39m, title: [32m'Project 1'[39m },
    { username: [32m'testuser'[39m, slug: [32m'project-2'[39m, title: [32m'Project 2'[39m },
    { username: [32m'testuser'[39m, slug: [32m'project-3'[39m, title: [32m'Project 3'[39m }
  ]
}
[Bookshelf] Scrolling to card index: [33m1[39m
[Bookshelf] Scroll cooldown complete, clicks enabled

[90mstdout[2m | src/app/components/lint/lint-storage.service.spec.ts[2m > [22m[2mLintStorageService[2m > [22m[2mshould clear all rejected suggestions
[22m[39m[LintStorage] Saved 1 rejected suggestions
[LintStorage] Suggestion rejected and saved: test suggestion
[LintStorage] Saved 0 rejected suggestions
[LintStorage] Cleared all rejected suggestions

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/components/lint/lint-storage.service.spec.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 42[2mms[22m[39m
 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/interceptors/auth.interceptor.spec.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 33[2mms[22m[39m
[90mstdout[2m | src/app/components/bookshelf/bookshelf.component.spec.ts[2m > [22m[2mBookshelfComponent[2m > [22m[2mProject selection edge cases[2m > [22m[2mshould handle selecting a project when recentlyDragged is true
[22m[39m[Bookshelf] selectProject called
[Bookshelf] recentlyDragged: [33mtrue[39m
[Bookshelf] recentlyScrolled: [33mfalse[39m
[Bookshelf] Ignoring click - recently dragged

[90mstdout[2m | src/app/components/bookshelf/bookshelf.component.spec.ts[2m > [22m[2mBookshelfComponent[2m > [22m[2mProject selection edge cases[2m > [22m[2mshould handle project selection when project is not found in array
[22m[39m[Bookshelf] selectProject called
[Bookshelf] recentlyDragged: [33mfalse[39m
[Bookshelf] recentlyScrolled: [33mfalse[39m
[Bookshelf] Project clicked: {
  clickedProject: { username: [32m'testuser'[39m, slug: [32m'unknown'[39m, title: [32m'Unknown'[39m },
  clickedIndex: [33m-1[39m,
  currentActiveIndex: [33m-1[39m,
  allProjects: [
    { username: [32m'testuser'[39m, slug: [32m'project-1'[39m, title: [32m'Project 1'[39m },
    { username: [32m'testuser'[39m, slug: [32m'project-2'[39m, title: [32m'Project 2'[39m },
    { username: [32m'testuser'[39m, slug: [32m'project-3'[39m, title: [32m'Project 3'[39m }
  ]
}
[Bookshelf] Emitting projectSelected event for: { username: [32m'testuser'[39m, slug: [32m'unknown'[39m, title: [32m'Unknown'[39m }

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/services/offline/storage.service.spec.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 42[2mms[22m[39m
 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/pages/unavailable/unavailable.component.spec.ts [2m([22m[2m1 test[22m[2m)[22m[32m 55[2mms[22m[39m
 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/guards/auth.guard.spec.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 41[2mms[22m[39m
 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/services/project/recent-files.service.spec.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 26[2mms[22m[39m
Could not parse CSS stylesheet
Could not parse CSS stylesheet
 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/services/auth/auth-token.service.spec.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 25[2mms[22m[39m
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/services/core/logger.service.spec.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 22[2mms[22m[39m
 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/services/core/dialog-gateway.service.spec.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 69[2mms[22m[39m
[90mstdout[2m | src/app/pages/project/project.component.spec.ts[2m > [22m[2mProjectComponent[2m > [22m[2msettings[2m > [22m[2mshould return useTabsDesktop setting
[22m[39mProjectComponent init
Loading project testuser/test-project

Not implemented: navigation to another Document
[90mstdout[2m | src/app/utils/custom-route-reuse-strategy.spec.ts[2m > [22m[2mCustomRouteReuseStrategy[2m > [22m[2mshouldReuseRoute[2m > [22m[2mshould not reuse route when reuseComponent is false
[22m[39m[RouteReuse] Preventing component reuse for route: test-path

[90mstdout[2m | src/app/utils/custom-route-reuse-strategy.spec.ts[2m > [22m[2mCustomRouteReuseStrategy[2m > [22m[2mshouldReuseRoute[2m > [22m[2mshould not reuse project route when username changes
[22m[39m[RouteReuse] Project params changed from user1/project to user2/project, creating fresh component

[90mstdout[2m | src/app/utils/custom-route-reuse-strategy.spec.ts[2m > [22m[2mCustomRouteReuseStrategy[2m > [22m[2mshouldReuseRoute[2m > [22m[2mshould not reuse project route when slug changes
[22m[39m[RouteReuse] Project params changed from user/project1 to user/project2, creating fresh component

[90mstdout[2m | src/app/utils/custom-route-reuse-strategy.spec.ts[2m > [22m[2mCustomRouteReuseStrategy[2m > [22m[2mclearStoredProject[2m > [22m[2mshould clear stored routes when project params change
[22m[39m[RouteReuse] Project params changed from user1/project1 to user2/project2, creating fresh component

[90mstdout[2m | src/app/utils/custom-route-reuse-strategy.spec.ts[2m > [22m[2mCustomRouteReuseStrategy[2m > [22m[2mclearStoredProject[2m > [22m[2mshould iterate over stored handlers when clearing project
[22m[39m[RouteReuse] Project params changed from user1/proj1 to user2/proj2, creating fresh component

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/components/bookshelf/bookshelf.component.spec.ts [2m([22m[2m36 tests[22m[2m)[22m[32m 183[2mms[22m[39m
 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/services/sync/element-sync-provider.factory.spec.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 17[2mms[22m[39m
 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/services/publish/publish.service.spec.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 48[2mms[22m[39m
 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/utils/custom-route-reuse-strategy.spec.ts [2m([22m[2m19 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/guards/can-deactivate-project.guard.spec.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 2[2mms[22m[39m
 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/pages/project/tabs/document/document-tab-test.spec.ts [2m([22m[2m1 test[22m[2m)[22m[32m 1[2mms[22m[39m
 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/pipes/file-size.pipe.spec.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 1[2mms[22m[39m
 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/pages/project/tabs/document/document-tab-minimal.spec.ts [2m([22m[2m1 test[22m[2m)[22m[32m 1[2mms[22m[39m
 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/utils/worldbuilding.utils.spec.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 2[2mms[22m[39m
 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/services/core/settings.service.spec.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/components/project-card/project-card.component.spec.ts [2m([22m[2m1 test[22m[2m)[22m[32m 1[2mms[22m[39m
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
[90mstdout[2m | src/app/pages/project/project.component.spec.ts[2m > [22m[2mProjectComponent[2m > [22m[2mfile import[2m > [22m[2mshould trigger file input click on import
[22m[39mProjectComponent init
Loading project testuser/test-project

Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
[90mstdout[2m | src/app/pages/project/project.component.spec.ts[2m > [22m[2mProjectComponent[2m > [22m[2mfile import[2m > [22m[2mshould handle file selection
[22m[39mProjectComponent init
Loading project testuser/test-project

Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
[90mstdout[2m | src/app/pages/project/project.component.spec.ts[2m > [22m[2mProjectComponent[2m > [22m[2mfile import[2m > [22m[2mshould not import when no files selected
[22m[39mProjectComponent init
Loading project testuser/test-project

Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
[90mstdout[2m | src/app/pages/project/project.component.spec.ts[2m > [22m[2mProjectComponent[2m > [22m[2mrecent document[2m > [22m[2mshould open recent document when clicked
[22m[39mProjectComponent init
Loading project testuser/test-project

Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
[90mstdout[2m | src/app/pages/project/project.component.spec.ts[2m > [22m[2mProjectComponent[2m > [22m[2mrecent document[2m > [22m[2mshould not open document when not found
[22m[39mProjectComponent init
Loading project testuser/test-project

Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
[90mstdout[2m | src/app/pages/project/project.component.spec.ts[2m > [22m[2mProjectComponent[2m > [22m[2mrecent document[2m > [22m[2mshould handle keyboard navigation for recent documents
[22m[39mProjectComponent init
Loading project testuser/test-project

Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
[90mstdout[2m | src/app/pages/project/project.component.spec.ts[2m > [22m[2mProjectComponent[2m > [22m[2mdelete project[2m > [22m[2mshould open confirmation dialog on delete
[22m[39mProjectComponent init
Loading project testuser/test-project

Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
[90mstdout[2m | src/app/pages/project/project.component.spec.ts[2m > [22m[2mProjectComponent[2m > [22m[2mdelete project[2m > [22m[2mshould delete project when confirmed
[22m[39mProjectComponent init
Loading project testuser/test-project

Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
[90mstdout[2m | src/app/pages/project/project.component.spec.ts[2m > [22m[2mProjectComponent[2m > [22m[2mdelete project[2m > [22m[2mshould not delete project when cancelled
[22m[39mProjectComponent init
Loading project testuser/test-project

Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
[90mstdout[2m | src/app/pages/project/project.component.spec.ts[2m > [22m[2mProjectComponent[2m > [22m[2mbeforeunload handler[2m > [22m[2mshould not prevent navigation when no unsaved changes
[22m[39mProjectComponent init
Loading project testuser/test-project

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/dialogs/template-editor-dialog/template-editor-dialog.component.spec.ts [2m([22m[2m29 tests[22m[2m)[22m[33m 14115[2mms[22m[39m
     [33m[2mâœ“[22m[39m should create [33m 1229[2mms[22m[39m
     [33m[2mâœ“[22m[39m should initialize with provided schema data [33m 589[2mms[22m[39m
     [33m[2mâœ“[22m[39m should initialize tabs from schema [33m 513[2mms[22m[39m
     [33m[2mâœ“[22m[39m should assign IDs to fields without IDs during initialization [33m 558[2mms[22m[39m
       [33m[2mâœ“[22m[39m should set up expansion panel subscription [33m 505[2mms[22m[39m
       [33m[2mâœ“[22m[39m should not open panel if already expanded [33m 502[2mms[22m[39m
       [33m[2mâœ“[22m[39m should not do anything if no lastFieldId [33m 388[2mms[22m[39m
       [33m[2mâœ“[22m[39m should add a new tab [33m 477[2mms[22m[39m
       [33m[2mâœ“[22m[39m should generate unique tab labels when adding multiple tabs [33m 520[2mms[22m[39m
       [33m[2mâœ“[22m[39m should remove a tab [33m 450[2mms[22m[39m
       [33m[2mâœ“[22m[39m should adjust selectedTabIndex when removing a tab at the current index [33m 849[2mms[22m[39m
       [33m[2mâœ“[22m[39m should not remove tabs when there's only one [33m 578[2mms[22m[39m
       [33m[2mâœ“[22m[39m should update tab properties [33m 615[2mms[22m[39m
       [33m[2mâœ“[22m[39m should handle tab drag and drop [33m 393[2mms[22m[39m
       [33m[2mâœ“[22m[39m should set selectedTabIndex when adding a new tab [33m 399[2mms[22m[39m
       [33m[2mâœ“[22m[39m should move tab up [33m 444[2mms[22m[39m
       [33m[2mâœ“[22m[39m should move tab down [33m 389[2mms[22m[39m
       [33m[2mâœ“[22m[39m should add a field to a tab [33m 684[2mms[22m[39m
       [33m[2mâœ“[22m[39m should remove a field from a tab [33m 503[2mms[22m[39m
       [33m[2mâœ“[22m[39m should update field properties [33m 406[2mms[22m[39m
       [33m[2mâœ“[22m[39m should handle field drag and drop [33m 429[2mms[22m[39m
       [33m[2mâœ“[22m[39m should move fields via drag drop [33m 535[2mms[22m[39m
       [33m[2mâœ“[22m[39m should move field down within a tab [33m 392[2mms[22m[39m
       [33m[2mâœ“[22m[39m should store lastFieldId when adding a field for auto-expansion [33m 439[2mms[22m[39m
       [33m[2mâœ“[22m[39m should require template name [33m 406[2mms[22m[39m
       [33m[2mâœ“[22m[39m should require template icon [33m 319[2mms[22m[39m
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
[90mstdout[2m | src/app/pages/project/project.component.spec.ts[2m > [22m[2mProjectComponent[2m > [22m[2mcanDeactivate guard[2m > [22m[2mshould return true when no unsaved changes
[22m[39mProjectComponent init
Loading project testuser/test-project

[90mstdout[2m | src/app/pages/project/project.component.spec.ts[2m > [22m[2mProjectComponent[2m > [22m[2mcanDeactivate guard[2m > [22m[2mshould return true when no unsaved changes
[22m[39mChecking project de-activation guard

Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
[90mstdout[2m | src/app/pages/project/project.component.spec.ts[2m > [22m[2mProjectComponent[2m > [22m[2mcleanup[2m > [22m[2mshould clean up subscriptions on destroy
[22m[39mProjectComponent init
Loading project testuser/test-project

Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
Could not parse CSS stylesheet
[90mstdout[2m | src/app/pages/project/project.component.spec.ts[2m > [22m[2mProjectComponent[2m > [22m[2misLoading[2m > [22m[2mshould return loading state from projectState
[22m[39mProjectComponent init
Loading project testuser/test-project

 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/pages/project/project.component.spec.ts [2m([22m[2m44 tests[22m[2m)[22m[33m 10206[2mms[22m[39m
     [33m[2mâœ“[22m[39m should create [33m 1049[2mms[22m[39m
       [33m[2mâœ“[22m[39m should load project on init with route params [33m 375[2mms[22m[39m
       [33m[2mâœ“[22m[39m should select home tab (0) on init [33m 540[2mms[22m[39m
       [33m[2mâœ“[22m[39m should toggle sidebar visibility for desktop [33m 447[2mms[22m[39m
       [33m[2mâœ“[22m[39m should open document via projectState [33m 346[2mms[22m[39m
       [33m[2mâœ“[22m[39m should close tab at specified index [33m 370[2mms[22m[39m
       [33m[2mâœ“[22m[39m should navigate to home tab via goHome [33m 390[2mms[22m[39m
       [33m[2mâœ“[22m[39m should start with zen mode disabled [33m 440[2mms[22m[39m
 [32mâœ“[39m [30m[45m inkweld-frontend [49m[39m src/app/services/publish/epub-generator.service.spec.ts [2m([22m[2m58 tests[22m[2m)[22m[33m 13431[2mms[22m[39m
       [33m[2mâœ“[22m[39m should process copyright frontmatter [33m 311[2mms[22m[39m
       [33m[2mâœ“[22m[39m should process separator items [33m 311[2mms[22m[39m
       [33m[2mâœ“[22m[39m should process page break separator [33m 310[2mms[22m[39m
       [33m[2mâœ“[22m[39m should include cover when blob is available [33m 325[2mms[22m[39m
 [31mâ¯[39m [30m[45m inkweld-frontend [49m[39m src/app/services/publish/pdf-generator.service.spec.ts [2m([22m[2m52 tests[22m[2m | [22m[31m43 failed[39m[2m)[22m[33m 215343[2mms[22m[39m
     [32mâœ“[39m should be created[32m 5[2mms[22m[39m
       [32mâœ“[39m should emit initial idle state[32m 4[2mms[22m[39m
       [32mâœ“[39m should update progress to idle with cancelled message[32m 4[2mms[22m[39m
[31m       [31mÃ—[31m should generate PDF successfully[39m[33m 5009[2mms[22m[39m
[31m       [31mÃ—[31m should update progress through phases[39m[33m 5008[2mms[22m[39m
[31m       [31mÃ—[31m should include stats in successful result[39m[33m 5008[2mms[22m[39m
[31m       [31mÃ—[31m should emit complete event[39m[33m 5008[2mms[22m[39m
       [32mâœ“[39m should handle cancellation during generation[32m 2[2mms[22m[39m
[31m       [31mÃ—[31m should load cover image when includeCover is true[39m[33m 5003[2mms[22m[39m
[31m       [31mÃ—[31m should not load cover when includeCover is false[39m[33m 5008[2mms[22m[39m
       [32mâœ“[39m should handle empty plan items[32m 10[2mms[22m[39m
[31m       [31mÃ—[31m should generate filename from title[39m[33m 5007[2mms[22m[39m
       [32mâœ“[39m should handle errors gracefully[32m 2[2mms[22m[39m
       [32mâœ“[39m should set error phase on failure[32m 1[2mms[22m[39m
[31m       [31mÃ—[31m should emit result when generation completes[39m[33m 5007[2mms[22m[39m
       [32mâœ“[39m should emit result on error[32m 2[2mms[22m[39m
[31m       [31mÃ—[31m should handle cover image loading error gracefully[39m[33m 5003[2mms[22m[39m
[31m       [31mÃ—[31m should skip cover loading when no project[39m[33m 5005[2mms[22m[39m
[31m       [31mÃ—[31m should process title page frontmatter[39m[33m 5013[2mms[22m[39m
[31m       [31mÃ—[31m should process separator items[39m[33m 5006[2mms[22m[39m
[31m       [31mÃ—[31m should handle numeric chapter numbering[39m[33m 5007[2mms[22m[39m
[31m       [31mÃ—[31m should handle Roman numeral chapter numbering[39m[33m 5004[2mms[22m[39m
[31m       [31mÃ—[31m should handle written chapter numbering[39m[33m 5004[2mms[22m[39m
[31m       [31mÃ—[31m should convert heading nodes[39m[33m 5008[2mms[22m[39m
[31m       [31mÃ—[31m should convert blockquote nodes[39m[33m 5007[2mms[22m[39m
[31m       [31mÃ—[31m should convert bullet_list nodes[39m[33m 5006[2mms[22m[39m
[31m       [31mÃ—[31m should convert ordered_list nodes[39m[33m 5006[2mms[22m[39m
[31m       [31mÃ—[31m should convert code_block nodes[39m[33m 5006[2mms[22m[39m
[31m       [31mÃ—[31m should convert hard_break nodes[39m[33m 5005[2mms[22m[39m
[31m       [31mÃ—[31m should convert horizontal_rule nodes[39m[33m 5006[2mms[22m[39m
[31m       [31mÃ—[31m should handle nodeName property (alternative to type)[39m[33m 5003[2mms[22m[39m
[31m       [31mÃ—[31m should handle object as top-level data[39m[33m 5017[2mms[22m[39m
[31m       [31mÃ—[31m should handle array of string nodes[39m[33m 5005[2mms[22m[39m
[31m       [31mÃ—[31m should handle bold marks[39m[33m 5018[2mms[22m[39m
[31m       [31mÃ—[31m should handle italic marks[39m[33m 5018[2mms[22m[39m
[31m       [31mÃ—[31m should handle code marks[39m[33m 5016[2mms[22m[39m
[31m       [31mÃ—[31m should handle strikethrough marks[39m[33m 5003[2mms[22m[39m
[31m       [31mÃ—[31m should handle nested array nodes[39m[33m 5005[2mms[22m[39m
[31m       [31mÃ—[31m should handle null document content[39m[33m 5005[2mms[22m[39m
[31m       [31mÃ—[31m should handle document content retrieval failure[39m[33m 5004[2mms[22m[39m
       [32mâœ“[39m should handle element that is not found[32m 3[2mms[22m[39m
[31m       [31mÃ—[31m should handle title override for elements[39m[33m 5015[2mms[22m[39m
[31m       [31mÃ—[31m should process folder with includeChildren[39m[33m 5008[2mms[22m[39m
[31m       [31mÃ—[31m should process copyright frontmatter[39m[33m 5004[2mms[22m[39m
[31m       [31mÃ—[31m should process dedication frontmatter[39m[33m 5006[2mms[22m[39m
[31m       [31mÃ—[31m should process custom frontmatter[39m[33m 5005[2mms[22m[39m
[31m       [31mÃ—[31m should process page break separator[39m[33m 5006[2mms[22m[39m
[31m       [31mÃ—[31m should process chapter break separator[39m[33m 5003[2mms[22m[39m
[31m       [31mÃ—[31m should include subtitle when available[39m[33m 5006[2mms[22m[39m
[31m       [31mÃ—[31m should include description when available[39m[33m 5006[2mms[22m[39m
[31m       [31mÃ—[31m should include publisher and ISBN[39m[33m 5009[2mms[22m[39m
[31m       [31mÃ—[31m should include cover when blob is available[39m[33m 5002[2mms[22m[39m

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯ Failed Tests 43 âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯

 FAIL   inkweld-frontend  src/app/services/publish/pdf-generator.service.spec.ts > PdfGeneratorService > generatePdf > should generate PDF successfully
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 â¯ src/app/services/publish/pdf-generator.service.spec.ts:231:5
    229| 
    230|   describe('generatePdf', () => {
    231|     it('should generate PDF successfully', async () => {
       |     ^
    232|       const result = await service.generatePdf(mockPlan);
    233| 

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1/43]âŽ¯

 FAIL   inkweld-frontend  src/app/services/publish/pdf-generator.service.spec.ts > PdfGeneratorService > generatePdf > should update progress through phases
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 â¯ src/app/services/publish/pdf-generator.service.spec.ts:240:5
    238|     });
    239| 
    240|     it('should update progress through phases', async () => {
       |     ^
    241|       const phases: PdfPhase[] = [];
    242|       service.progress$.subscribe(p => {

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[2/43]âŽ¯

 FAIL   inkweld-frontend  src/app/services/publish/pdf-generator.service.spec.ts > PdfGeneratorService > generatePdf > should include stats in successful result
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 â¯ src/app/services/publish/pdf-generator.service.spec.ts:256:5
    254|     });
    255| 
    256|     it('should include stats in successful result', async () => {
       |     ^
    257|       const result = await service.generatePdf(mockPlan);
    258| 

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[3/43]âŽ¯

 FAIL   inkweld-frontend  src/app/services/publish/pdf-generator.service.spec.ts > PdfGeneratorService > generatePdf > should emit complete event
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 â¯ src/app/services/publish/pdf-generator.service.spec.ts:265:5
    263|     });
    264| 
    265|     it('should emit complete event', async () => {
       |     ^
    266|       let completedResult: PdfResult | undefined;
    267|       service.complete$.subscribe(r => {

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[4/43]âŽ¯

 FAIL   inkweld-frontend  src/app/services/publish/pdf-generator.service.spec.ts > PdfGeneratorService > generatePdf > should load cover image when includeCover is true
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 â¯ src/app/services/publish/pdf-generator.service.spec.ts:290:5
    288|     });
    289| 
    290|     it('should load cover image when includeCover is true', async () =â€¦
       |     ^
    291|       const planWithCover = {
    292|         ...mockPlan,

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[5/43]âŽ¯

 FAIL   inkweld-frontend  src/app/services/publish/pdf-generator.service.spec.ts > PdfGeneratorService > generatePdf > should not load cover when includeCover is false
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 â¯ src/app/services/publish/pdf-generator.service.spec.ts:304:5
    302|     });
    303| 
    304|     it('should not load cover when includeCover is false', async () =>â€¦
       |     ^
    305|       await service.generatePdf(mockPlan);
    306| 

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[6/43]âŽ¯

 FAIL   inkweld-frontend  src/app/services/publish/pdf-generator.service.spec.ts > PdfGeneratorService > generatePdf > should generate filename from title
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 â¯ src/app/services/publish/pdf-generator.service.spec.ts:319:5
    317|     });
    318| 
    319|     it('should generate filename from title', async () => {
       |     ^
    320|       const result = await service.generatePdf(mockPlan);
    321| 

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[7/43]âŽ¯

 FAIL   inkweld-frontend  src/app/services/publish/pdf-generator.service.spec.ts > PdfGeneratorService > complete$ > should emit result when generation completes
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 â¯ src/app/services/publish/pdf-generator.service.spec.ts:355:5
    353| 
    354|   describe('complete$', () => {
    355|     it('should emit result when generation completes', async () => {
       |     ^
    356|       const results: PdfResult[] = [];
    357|       service.complete$.subscribe(r => results.push(r));

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[8/43]âŽ¯

 FAIL   inkweld-frontend  src/app/services/publish/pdf-generator.service.spec.ts > PdfGeneratorService > cover image handling > should handle cover image loading error gracefully
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 â¯ src/app/services/publish/pdf-generator.service.spec.ts:381:5
    379| 
    380|   describe('cover image handling', () => {
    381|     it('should handle cover image loading error gracefully', async () â€¦
       |     ^
    382|       offlineStorageMock.getProjectCover.mockRejectedValue(
    383|         new Error('Storage error')

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[9/43]âŽ¯

 FAIL   inkweld-frontend  src/app/services/publish/pdf-generator.service.spec.ts > PdfGeneratorService > cover image handling > should skip cover loading when no project
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 â¯ src/app/services/publish/pdf-generator.service.spec.ts:401:5
    399|     });
    400| 
    401|     it('should skip cover loading when no project', async () => {
       |     ^
    402|       projectStateMock.project = signal(null);
    403| 

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[10/43]âŽ¯

 FAIL   inkweld-frontend  src/app/services/publish/pdf-generator.service.spec.ts > PdfGeneratorService > frontmatter items > should process title page frontmatter
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 â¯ src/app/services/publish/pdf-generator.service.spec.ts:417:5
    415| 
    416|   describe('frontmatter items', () => {
    417|     it('should process title page frontmatter', async () => {
       |     ^
    418|       const planWithFrontmatter: PublishPlan = {
    419|         ...mockPlan,

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[11/43]âŽ¯

 FAIL   inkweld-frontend  src/app/services/publish/pdf-generator.service.spec.ts > PdfGeneratorService > separator items > should process separator items
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 â¯ src/app/services/publish/pdf-generator.service.spec.ts:437:5
    435| 
    436|   describe('separator items', () => {
    437|     it('should process separator items', async () => {
       |     ^
    438|       const planWithSeparator: PublishPlan = {
    439|         ...mockPlan,

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[12/43]âŽ¯

 FAIL   inkweld-frontend  src/app/services/publish/pdf-generator.service.spec.ts > PdfGeneratorService > chapter numbering > should handle numeric chapter numbering
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 â¯ src/app/services/publish/pdf-generator.service.spec.ts:457:5
    455| 
    456|   describe('chapter numbering', () => {
    457|     it('should handle numeric chapter numbering', async () => {
       |     ^
    458|       const planWithNumbering = {
    459|         ...mockPlan,

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[13/43]âŽ¯

 FAIL   inkweld-frontend  src/app/services/publish/pdf-generator.service.spec.ts > PdfGeneratorService > chapter numbering > should handle Roman numeral chapter numbering
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 â¯ src/app/services/publish/pdf-generator.service.spec.ts:471:5
    469|     });
    470| 
    471|     it('should handle Roman numeral chapter numbering', async () => {
       |     ^
    472|       const planWithNumbering = {
    473|         ...mockPlan,

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[14/43]âŽ¯

 FAIL   inkweld-frontend  src/app/services/publish/pdf-generator.service.spec.ts > PdfGeneratorService > chapter numbering > should handle written chapter numbering
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 â¯ src/app/services/publish/pdf-generator.service.spec.ts:485:5
    483|     });
    484| 
    485|     it('should handle written chapter numbering', async () => {
       |     ^
    486|       const planWithNumbering = {
    487|         ...mockPlan,

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[15/43]âŽ¯

 FAIL   inkweld-frontend  src/app/services/publish/pdf-generator.service.spec.ts > PdfGeneratorService > ProseMirror conversion > should convert heading nodes
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 â¯ src/app/services/publish/pdf-generator.service.spec.ts:501:5
    499| 
    500|   describe('ProseMirror conversion', () => {
    501|     it('should convert heading nodes', async () => {
       |     ^
    502|       documentServiceMock.getDocumentContent.mockResolvedValue([
    503|         {

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[16/43]âŽ¯

 FAIL   inkweld-frontend  src/app/services/publish/pdf-generator.service.spec.ts > PdfGeneratorService > ProseMirror conversion > should convert blockquote nodes
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 â¯ src/app/services/publish/pdf-generator.service.spec.ts:515:5
    513|     });
    514| 
    515|     it('should convert blockquote nodes', async () => {
       |     ^
    516|       documentServiceMock.getDocumentContent.mockResolvedValue([
    517|         {

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[17/43]âŽ¯

 FAIL   inkweld-frontend  src/app/services/publish/pdf-generator.service.spec.ts > PdfGeneratorService > ProseMirror conversion > should convert bullet_list nodes
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 â¯ src/app/services/publish/pdf-generator.service.spec.ts:530:5
    528|     });
    529| 
    530|     it('should convert bullet_list nodes', async () => {
       |     ^
    531|       documentServiceMock.getDocumentContent.mockResolvedValue([
    532|         {

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[18/43]âŽ¯

 FAIL   inkweld-frontend  src/app/services/publish/pdf-generator.service.spec.ts > PdfGeneratorService > ProseMirror conversion > should convert ordered_list nodes
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 â¯ src/app/services/publish/pdf-generator.service.spec.ts:543:5
    541|     });
    542| 
    543|     it('should convert ordered_list nodes', async () => {
       |     ^
    544|       documentServiceMock.getDocumentContent.mockResolvedValue([
    545|         {

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[19/43]âŽ¯

 FAIL   inkweld-frontend  src/app/services/publish/pdf-generator.service.spec.ts > PdfGeneratorService > ProseMirror conversion > should convert code_block nodes
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 â¯ src/app/services/publish/pdf-generator.service.spec.ts:556:5
    554|     });
    555| 
    556|     it('should convert code_block nodes', async () => {
       |     ^
    557|       documentServiceMock.getDocumentContent.mockResolvedValue([
    558|         { type: 'code_block', content: [{ text: 'const x = 1;' }] },

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[20/43]âŽ¯

 FAIL   inkweld-frontend  src/app/services/publish/pdf-generator.service.spec.ts > PdfGeneratorService > ProseMirror conversion > should convert hard_break nodes
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 â¯ src/app/services/publish/pdf-generator.service.spec.ts:566:5
    564|     });
    565| 
    566|     it('should convert hard_break nodes', async () => {
       |     ^
    567|       documentServiceMock.getDocumentContent.mockResolvedValue([
    568|         { type: 'hard_break' },

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[21/43]âŽ¯

 FAIL   inkweld-frontend  src/app/services/publish/pdf-generator.service.spec.ts > PdfGeneratorService > ProseMirror conversion > should convert horizontal_rule nodes
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 â¯ src/app/services/publish/pdf-generator.service.spec.ts:576:5
    574|     });
    575| 
    576|     it('should convert horizontal_rule nodes', async () => {
       |     ^
    577|       documentServiceMock.getDocumentContent.mockResolvedValue([
    578|         { type: 'horizontal_rule' },

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[22/43]âŽ¯

 FAIL   inkweld-frontend  src/app/services/publish/pdf-generator.service.spec.ts > PdfGeneratorService > ProseMirror conversion > should handle nodeName property (alternative to type)
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 â¯ src/app/services/publish/pdf-generator.service.spec.ts:586:5
    584|     });
    585| 
    586|     it('should handle nodeName property (alternative to type)', async â€¦
       |     ^
    587|       documentServiceMock.getDocumentContent.mockResolvedValue([
    588|         { nodeName: 'paragraph', children: [{ text: 'Text using nodeNaâ€¦

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[23/43]âŽ¯

 FAIL   inkweld-frontend  src/app/services/publish/pdf-generator.service.spec.ts > PdfGeneratorService > ProseMirror conversion > should handle object as top-level data
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 â¯ src/app/services/publish/pdf-generator.service.spec.ts:596:5
    594|     });
    595| 
    596|     it('should handle object as top-level data', async () => {
       |     ^
    597|       documentServiceMock.getDocumentContent.mockResolvedValue({
    598|         type: 'doc',

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[24/43]âŽ¯

 FAIL   inkweld-frontend  src/app/services/publish/pdf-generator.service.spec.ts > PdfGeneratorService > ProseMirror conversion > should handle array of string nodes
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 â¯ src/app/services/publish/pdf-generator.service.spec.ts:607:5
    605|     });
    606| 
    607|     it('should handle array of string nodes', async () => {
       |     ^
    608|       documentServiceMock.getDocumentContent.mockResolvedValue([
    609|         'Plain text node',

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[25/43]âŽ¯

 FAIL   inkweld-frontend  src/app/services/publish/pdf-generator.service.spec.ts > PdfGeneratorService > ProseMirror conversion > should handle bold marks
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 â¯ src/app/services/publish/pdf-generator.service.spec.ts:617:5
    615|     });
    616| 
    617|     it('should handle bold marks', async () => {
       |     ^
    618|       documentServiceMock.getDocumentContent.mockResolvedValue([
    619|         {

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[26/43]âŽ¯

 FAIL   inkweld-frontend  src/app/services/publish/pdf-generator.service.spec.ts > PdfGeneratorService > ProseMirror conversion > should handle italic marks
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 â¯ src/app/services/publish/pdf-generator.service.spec.ts:630:5
    628|     });
    629| 
    630|     it('should handle italic marks', async () => {
       |     ^
    631|       documentServiceMock.getDocumentContent.mockResolvedValue([
    632|         {

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[27/43]âŽ¯

 FAIL   inkweld-frontend  src/app/services/publish/pdf-generator.service.spec.ts > PdfGeneratorService > ProseMirror conversion > should handle code marks
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 â¯ src/app/services/publish/pdf-generator.service.spec.ts:643:5
    641|     });
    642| 
    643|     it('should handle code marks', async () => {
       |     ^
    644|       documentServiceMock.getDocumentContent.mockResolvedValue([
    645|         {

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[28/43]âŽ¯

 FAIL   inkweld-frontend  src/app/services/publish/pdf-generator.service.spec.ts > PdfGeneratorService > ProseMirror conversion > should handle strikethrough marks
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 â¯ src/app/services/publish/pdf-generator.service.spec.ts:656:5
    654|     });
    655| 
    656|     it('should handle strikethrough marks', async () => {
       |     ^
    657|       documentServiceMock.getDocumentContent.mockResolvedValue([
    658|         {

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[29/43]âŽ¯

 FAIL   inkweld-frontend  src/app/services/publish/pdf-generator.service.spec.ts > PdfGeneratorService > ProseMirror conversion > should handle nested array nodes
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 â¯ src/app/services/publish/pdf-generator.service.spec.ts:669:5
    667|     });
    668| 
    669|     it('should handle nested array nodes', async () => {
       |     ^
    670|       documentServiceMock.getDocumentContent.mockResolvedValue([
    671|         [{ type: 'paragraph', content: [{ text: 'Nested' }] }],

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[30/43]âŽ¯

 FAIL   inkweld-frontend  src/app/services/publish/pdf-generator.service.spec.ts > PdfGeneratorService > document content handling > should handle null document content
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 â¯ src/app/services/publish/pdf-generator.service.spec.ts:681:5
    679| 
    680|   describe('document content handling', () => {
    681|     it('should handle null document content', async () => {
       |     ^
    682|       documentServiceMock.getDocumentContent.mockResolvedValue(null);
    683| 

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[31/43]âŽ¯

 FAIL   inkweld-frontend  src/app/services/publish/pdf-generator.service.spec.ts > PdfGeneratorService > document content handling > should handle document content retrieval failure
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 â¯ src/app/services/publish/pdf-generator.service.spec.ts:689:5
    687|     });
    688| 
    689|     it('should handle document content retrieval failure', async () =>â€¦
       |     ^
    690|       documentServiceMock.getDocumentContent.mockRejectedValue(
    691|         new Error('Content error')

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[32/43]âŽ¯

 FAIL   inkweld-frontend  src/app/services/publish/pdf-generator.service.spec.ts > PdfGeneratorService > document content handling > should handle title override for elements
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 â¯ src/app/services/publish/pdf-generator.service.spec.ts:718:5
    716|     });
    717| 
    718|     it('should handle title override for elements', async () => {
       |     ^
    719|       const planWithTitleOverride: PublishPlan = {
    720|         ...mockPlan,

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[33/43]âŽ¯

 FAIL   inkweld-frontend  src/app/services/publish/pdf-generator.service.spec.ts > PdfGeneratorService > folder with children > should process folder with includeChildren
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 â¯ src/app/services/publish/pdf-generator.service.spec.ts:740:5
    738| 
    739|   describe('folder with children', () => {
    740|     it('should process folder with includeChildren', async () => {
       |     ^
    741|       const folderElement: Element = {
    742|         id: 'folder-1',

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[34/43]âŽ¯

 FAIL   inkweld-frontend  src/app/services/publish/pdf-generator.service.spec.ts > PdfGeneratorService > additional frontmatter types > should process copyright frontmatter
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 â¯ src/app/services/publish/pdf-generator.service.spec.ts:787:5
    785| 
    786|   describe('additional frontmatter types', () => {
    787|     it('should process copyright frontmatter', async () => {
       |     ^
    788|       const planWithCopyright: PublishPlan = {
    789|         ...mockPlan,

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[35/43]âŽ¯

 FAIL   inkweld-frontend  src/app/services/publish/pdf-generator.service.spec.ts > PdfGeneratorService > additional frontmatter types > should process dedication frontmatter
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 â¯ src/app/services/publish/pdf-generator.service.spec.ts:805:5
    803|     });
    804| 
    805|     it('should process dedication frontmatter', async () => {
       |     ^
    806|       const planWithDedication: PublishPlan = {
    807|         ...mockPlan,

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[36/43]âŽ¯

 FAIL   inkweld-frontend  src/app/services/publish/pdf-generator.service.spec.ts > PdfGeneratorService > additional frontmatter types > should process custom frontmatter
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 â¯ src/app/services/publish/pdf-generator.service.spec.ts:824:5
    822|     });
    823| 
    824|     it('should process custom frontmatter', async () => {
       |     ^
    825|       const planWithCustom: PublishPlan = {
    826|         ...mockPlan,

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[37/43]âŽ¯

 FAIL   inkweld-frontend  src/app/services/publish/pdf-generator.service.spec.ts > PdfGeneratorService > additional separator styles > should process page break separator
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 â¯ src/app/services/publish/pdf-generator.service.spec.ts:846:5
    844| 
    845|   describe('additional separator styles', () => {
    846|     it('should process page break separator', async () => {
       |     ^
    847|       const planWithPageBreak: PublishPlan = {
    848|         ...mockPlan,

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[38/43]âŽ¯

 FAIL   inkweld-frontend  src/app/services/publish/pdf-generator.service.spec.ts > PdfGeneratorService > additional separator styles > should process chapter break separator
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 â¯ src/app/services/publish/pdf-generator.service.spec.ts:864:5
    862|     });
    863| 
    864|     it('should process chapter break separator', async () => {
       |     ^
    865|       const planWithChapterBreak: PublishPlan = {
    866|         ...mockPlan,

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39/43]âŽ¯

 FAIL   inkweld-frontend  src/app/services/publish/pdf-generator.service.spec.ts > PdfGeneratorService > metadata fields > should include subtitle when available
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 â¯ src/app/services/publish/pdf-generator.service.spec.ts:884:5
    882| 
    883|   describe('metadata fields', () => {
    884|     it('should include subtitle when available', async () => {
       |     ^
    885|       const planWithSubtitle = {
    886|         ...mockPlan,

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[40/43]âŽ¯

 FAIL   inkweld-frontend  src/app/services/publish/pdf-generator.service.spec.ts > PdfGeneratorService > metadata fields > should include description when available
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 â¯ src/app/services/publish/pdf-generator.service.spec.ts:898:5
    896|     });
    897| 
    898|     it('should include description when available', async () => {
       |     ^
    899|       const planWithDescription = {
    900|         ...mockPlan,

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[41/43]âŽ¯

 FAIL   inkweld-frontend  src/app/services/publish/pdf-generator.service.spec.ts > PdfGeneratorService > metadata fields > should include publisher and ISBN
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 â¯ src/app/services/publish/pdf-generator.service.spec.ts:912:5
    910|     });
    911| 
    912|     it('should include publisher and ISBN', async () => {
       |     ^
    913|       const planWithPublisher = {
    914|         ...mockPlan,

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[42/43]âŽ¯

 FAIL   inkweld-frontend  src/app/services/publish/pdf-generator.service.spec.ts > PdfGeneratorService > cover image with blob > should include cover when blob is available
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 â¯ src/app/services/publish/pdf-generator.service.spec.ts:929:5
    927| 
    928|   describe('cover image with blob', () => {
    929|     it('should include cover when blob is available', async () => {
       |     ^
    930|       const mockCoverBlob = new Blob(['fake image'], { type: 'image/pnâ€¦
    931|       offlineStorageMock.getProjectCover.mockResolvedValue(mockCoverBlâ€¦

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[43/43]âŽ¯

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯ Unhandled Errors âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯

Vitest caught 43 unhandled errors during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.

âŽ¯âŽ¯âŽ¯âŽ¯ Unhandled Rejection âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Error: Font 'Times' in style 'bold' is not defined in the font section of the document definition.
 â¯ FontProvider.__webpack_modules__.28284.FontProvider.provideFont node_modules/pdfmake/build/pdfmake.js:31695:9
 â¯ node_modules/pdfmake/build/pdfmake.js:20470:27
 â¯ measure node_modules/pdfmake/build/pdfmake.js:20442:13
 â¯ TextTools.__webpack_modules__.11548.TextTools.buildInlines node_modules/pdfmake/build/pdfmake.js:20176:17
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureLeaf node_modules/pdfmake/build/pdfmake.js:36697:28
 â¯ node_modules/pdfmake/build/pdfmake.js:36518:30
 â¯ StyleContextStack.__webpack_modules__.76442.StyleContextStack.auto node_modules/pdfmake/build/pdfmake.js:56979:15
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureNode node_modules/pdfmake/build/pdfmake.js:36503:25
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureVerticalContainer node_modules/pdfmake/build/pdfmake.js:36751:19

This error originated in "src/app/services/publish/pdf-generator.service.spec.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should generate PDF successfully". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

âŽ¯âŽ¯âŽ¯âŽ¯ Unhandled Rejection âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Error: Font 'Times' in style 'bold' is not defined in the font section of the document definition.
 â¯ FontProvider.__webpack_modules__.28284.FontProvider.provideFont node_modules/pdfmake/build/pdfmake.js:31695:9
 â¯ node_modules/pdfmake/build/pdfmake.js:20470:27
 â¯ measure node_modules/pdfmake/build/pdfmake.js:20442:13
 â¯ TextTools.__webpack_modules__.11548.TextTools.buildInlines node_modules/pdfmake/build/pdfmake.js:20176:17
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureLeaf node_modules/pdfmake/build/pdfmake.js:36697:28
 â¯ node_modules/pdfmake/build/pdfmake.js:36518:30
 â¯ StyleContextStack.__webpack_modules__.76442.StyleContextStack.auto node_modules/pdfmake/build/pdfmake.js:56979:15
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureNode node_modules/pdfmake/build/pdfmake.js:36503:25
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureVerticalContainer node_modules/pdfmake/build/pdfmake.js:36751:19

This error originated in "src/app/services/publish/pdf-generator.service.spec.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should update progress through phases". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

âŽ¯âŽ¯âŽ¯âŽ¯ Unhandled Rejection âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Error: Font 'Times' in style 'bold' is not defined in the font section of the document definition.
 â¯ FontProvider.__webpack_modules__.28284.FontProvider.provideFont node_modules/pdfmake/build/pdfmake.js:31695:9
 â¯ node_modules/pdfmake/build/pdfmake.js:20470:27
 â¯ measure node_modules/pdfmake/build/pdfmake.js:20442:13
 â¯ TextTools.__webpack_modules__.11548.TextTools.buildInlines node_modules/pdfmake/build/pdfmake.js:20176:17
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureLeaf node_modules/pdfmake/build/pdfmake.js:36697:28
 â¯ node_modules/pdfmake/build/pdfmake.js:36518:30
 â¯ StyleContextStack.__webpack_modules__.76442.StyleContextStack.auto node_modules/pdfmake/build/pdfmake.js:56979:15
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureNode node_modules/pdfmake/build/pdfmake.js:36503:25
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureVerticalContainer node_modules/pdfmake/build/pdfmake.js:36751:19

This error originated in "src/app/services/publish/pdf-generator.service.spec.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should include stats in successful result". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

âŽ¯âŽ¯âŽ¯âŽ¯ Unhandled Rejection âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Error: Font 'Times' in style 'bold' is not defined in the font section of the document definition.
 â¯ FontProvider.__webpack_modules__.28284.FontProvider.provideFont node_modules/pdfmake/build/pdfmake.js:31695:9
 â¯ node_modules/pdfmake/build/pdfmake.js:20470:27
 â¯ measure node_modules/pdfmake/build/pdfmake.js:20442:13
 â¯ TextTools.__webpack_modules__.11548.TextTools.buildInlines node_modules/pdfmake/build/pdfmake.js:20176:17
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureLeaf node_modules/pdfmake/build/pdfmake.js:36697:28
 â¯ node_modules/pdfmake/build/pdfmake.js:36518:30
 â¯ StyleContextStack.__webpack_modules__.76442.StyleContextStack.auto node_modules/pdfmake/build/pdfmake.js:56979:15
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureNode node_modules/pdfmake/build/pdfmake.js:36503:25
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureVerticalContainer node_modules/pdfmake/build/pdfmake.js:36751:19

This error originated in "src/app/services/publish/pdf-generator.service.spec.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should emit complete event". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

âŽ¯âŽ¯âŽ¯âŽ¯ Unhandled Rejection âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Error: Font 'Times' in style 'bold' is not defined in the font section of the document definition.
 â¯ FontProvider.__webpack_modules__.28284.FontProvider.provideFont node_modules/pdfmake/build/pdfmake.js:31695:9
 â¯ node_modules/pdfmake/build/pdfmake.js:20470:27
 â¯ measure node_modules/pdfmake/build/pdfmake.js:20442:13
 â¯ TextTools.__webpack_modules__.11548.TextTools.buildInlines node_modules/pdfmake/build/pdfmake.js:20176:17
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureLeaf node_modules/pdfmake/build/pdfmake.js:36697:28
 â¯ node_modules/pdfmake/build/pdfmake.js:36518:30
 â¯ StyleContextStack.__webpack_modules__.76442.StyleContextStack.auto node_modules/pdfmake/build/pdfmake.js:56979:15
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureNode node_modules/pdfmake/build/pdfmake.js:36503:25
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureVerticalContainer node_modules/pdfmake/build/pdfmake.js:36751:19

This error originated in "src/app/services/publish/pdf-generator.service.spec.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should load cover image when includeCover is true". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

âŽ¯âŽ¯âŽ¯âŽ¯ Unhandled Rejection âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Error: Font 'Times' in style 'bold' is not defined in the font section of the document definition.
 â¯ FontProvider.__webpack_modules__.28284.FontProvider.provideFont node_modules/pdfmake/build/pdfmake.js:31695:9
 â¯ node_modules/pdfmake/build/pdfmake.js:20470:27
 â¯ measure node_modules/pdfmake/build/pdfmake.js:20442:13
 â¯ TextTools.__webpack_modules__.11548.TextTools.buildInlines node_modules/pdfmake/build/pdfmake.js:20176:17
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureLeaf node_modules/pdfmake/build/pdfmake.js:36697:28
 â¯ node_modules/pdfmake/build/pdfmake.js:36518:30
 â¯ StyleContextStack.__webpack_modules__.76442.StyleContextStack.auto node_modules/pdfmake/build/pdfmake.js:56979:15
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureNode node_modules/pdfmake/build/pdfmake.js:36503:25
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureVerticalContainer node_modules/pdfmake/build/pdfmake.js:36751:19

This error originated in "src/app/services/publish/pdf-generator.service.spec.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should not load cover when includeCover is false". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

âŽ¯âŽ¯âŽ¯âŽ¯ Unhandled Rejection âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Error: Font 'Times' in style 'bold' is not defined in the font section of the document definition.
 â¯ FontProvider.__webpack_modules__.28284.FontProvider.provideFont node_modules/pdfmake/build/pdfmake.js:31695:9
 â¯ node_modules/pdfmake/build/pdfmake.js:20470:27
 â¯ measure node_modules/pdfmake/build/pdfmake.js:20442:13
 â¯ TextTools.__webpack_modules__.11548.TextTools.buildInlines node_modules/pdfmake/build/pdfmake.js:20176:17
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureLeaf node_modules/pdfmake/build/pdfmake.js:36697:28
 â¯ node_modules/pdfmake/build/pdfmake.js:36518:30
 â¯ StyleContextStack.__webpack_modules__.76442.StyleContextStack.auto node_modules/pdfmake/build/pdfmake.js:56979:15
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureNode node_modules/pdfmake/build/pdfmake.js:36503:25
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureVerticalContainer node_modules/pdfmake/build/pdfmake.js:36751:19

This error originated in "src/app/services/publish/pdf-generator.service.spec.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should generate filename from title". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

âŽ¯âŽ¯âŽ¯âŽ¯ Unhandled Rejection âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Error: Font 'Times' in style 'bold' is not defined in the font section of the document definition.
 â¯ FontProvider.__webpack_modules__.28284.FontProvider.provideFont node_modules/pdfmake/build/pdfmake.js:31695:9
 â¯ node_modules/pdfmake/build/pdfmake.js:20470:27
 â¯ measure node_modules/pdfmake/build/pdfmake.js:20442:13
 â¯ TextTools.__webpack_modules__.11548.TextTools.buildInlines node_modules/pdfmake/build/pdfmake.js:20176:17
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureLeaf node_modules/pdfmake/build/pdfmake.js:36697:28
 â¯ node_modules/pdfmake/build/pdfmake.js:36518:30
 â¯ StyleContextStack.__webpack_modules__.76442.StyleContextStack.auto node_modules/pdfmake/build/pdfmake.js:56979:15
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureNode node_modules/pdfmake/build/pdfmake.js:36503:25
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureVerticalContainer node_modules/pdfmake/build/pdfmake.js:36751:19

This error originated in "src/app/services/publish/pdf-generator.service.spec.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should emit result when generation completes". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

âŽ¯âŽ¯âŽ¯âŽ¯ Unhandled Rejection âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Error: Font 'Times' in style 'bold' is not defined in the font section of the document definition.
 â¯ FontProvider.__webpack_modules__.28284.FontProvider.provideFont node_modules/pdfmake/build/pdfmake.js:31695:9
 â¯ node_modules/pdfmake/build/pdfmake.js:20470:27
 â¯ measure node_modules/pdfmake/build/pdfmake.js:20442:13
 â¯ TextTools.__webpack_modules__.11548.TextTools.buildInlines node_modules/pdfmake/build/pdfmake.js:20176:17
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureLeaf node_modules/pdfmake/build/pdfmake.js:36697:28
 â¯ node_modules/pdfmake/build/pdfmake.js:36518:30
 â¯ StyleContextStack.__webpack_modules__.76442.StyleContextStack.auto node_modules/pdfmake/build/pdfmake.js:56979:15
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureNode node_modules/pdfmake/build/pdfmake.js:36503:25
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureVerticalContainer node_modules/pdfmake/build/pdfmake.js:36751:19

This error originated in "src/app/services/publish/pdf-generator.service.spec.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should handle cover image loading error gracefully". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

âŽ¯âŽ¯âŽ¯âŽ¯ Unhandled Rejection âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Error: Font 'Times' in style 'bold' is not defined in the font section of the document definition.
 â¯ FontProvider.__webpack_modules__.28284.FontProvider.provideFont node_modules/pdfmake/build/pdfmake.js:31695:9
 â¯ node_modules/pdfmake/build/pdfmake.js:20470:27
 â¯ measure node_modules/pdfmake/build/pdfmake.js:20442:13
 â¯ TextTools.__webpack_modules__.11548.TextTools.buildInlines node_modules/pdfmake/build/pdfmake.js:20176:17
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureLeaf node_modules/pdfmake/build/pdfmake.js:36697:28
 â¯ node_modules/pdfmake/build/pdfmake.js:36518:30
 â¯ StyleContextStack.__webpack_modules__.76442.StyleContextStack.auto node_modules/pdfmake/build/pdfmake.js:56979:15
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureNode node_modules/pdfmake/build/pdfmake.js:36503:25
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureVerticalContainer node_modules/pdfmake/build/pdfmake.js:36751:19

This error originated in "src/app/services/publish/pdf-generator.service.spec.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should skip cover loading when no project". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

âŽ¯âŽ¯âŽ¯âŽ¯ Unhandled Rejection âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Error: Font 'Helvetica' in style 'bold' is not defined in the font section of the document definition.
 â¯ FontProvider.__webpack_modules__.28284.FontProvider.provideFont node_modules/pdfmake/build/pdfmake.js:31695:9
 â¯ node_modules/pdfmake/build/pdfmake.js:20470:27
 â¯ measure node_modules/pdfmake/build/pdfmake.js:20442:13
 â¯ TextTools.__webpack_modules__.11548.TextTools.buildInlines node_modules/pdfmake/build/pdfmake.js:20176:17
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureLeaf node_modules/pdfmake/build/pdfmake.js:36697:28
 â¯ node_modules/pdfmake/build/pdfmake.js:36518:30
 â¯ StyleContextStack.__webpack_modules__.76442.StyleContextStack.auto node_modules/pdfmake/build/pdfmake.js:56979:15
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureNode node_modules/pdfmake/build/pdfmake.js:36503:25
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureVerticalContainer node_modules/pdfmake/build/pdfmake.js:36751:19

This error originated in "src/app/services/publish/pdf-generator.service.spec.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should process title page frontmatter". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

âŽ¯âŽ¯âŽ¯âŽ¯ Unhandled Rejection âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Error: Font 'Times' in style 'bold' is not defined in the font section of the document definition.
 â¯ FontProvider.__webpack_modules__.28284.FontProvider.provideFont node_modules/pdfmake/build/pdfmake.js:31695:9
 â¯ node_modules/pdfmake/build/pdfmake.js:20470:27
 â¯ measure node_modules/pdfmake/build/pdfmake.js:20442:13
 â¯ TextTools.__webpack_modules__.11548.TextTools.buildInlines node_modules/pdfmake/build/pdfmake.js:20176:17
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureLeaf node_modules/pdfmake/build/pdfmake.js:36697:28
 â¯ node_modules/pdfmake/build/pdfmake.js:36518:30
 â¯ StyleContextStack.__webpack_modules__.76442.StyleContextStack.auto node_modules/pdfmake/build/pdfmake.js:56979:15
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureNode node_modules/pdfmake/build/pdfmake.js:36503:25
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureVerticalContainer node_modules/pdfmake/build/pdfmake.js:36751:19

This error originated in "src/app/services/publish/pdf-generator.service.spec.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should process separator items". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

âŽ¯âŽ¯âŽ¯âŽ¯ Unhandled Rejection âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Error: Font 'Times' in style 'bold' is not defined in the font section of the document definition.
 â¯ FontProvider.__webpack_modules__.28284.FontProvider.provideFont node_modules/pdfmake/build/pdfmake.js:31695:9
 â¯ node_modules/pdfmake/build/pdfmake.js:20470:27
 â¯ measure node_modules/pdfmake/build/pdfmake.js:20442:13
 â¯ TextTools.__webpack_modules__.11548.TextTools.buildInlines node_modules/pdfmake/build/pdfmake.js:20176:17
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureLeaf node_modules/pdfmake/build/pdfmake.js:36697:28
 â¯ node_modules/pdfmake/build/pdfmake.js:36518:30
 â¯ StyleContextStack.__webpack_modules__.76442.StyleContextStack.auto node_modules/pdfmake/build/pdfmake.js:56979:15
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureNode node_modules/pdfmake/build/pdfmake.js:36503:25
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureVerticalContainer node_modules/pdfmake/build/pdfmake.js:36751:19

This error originated in "src/app/services/publish/pdf-generator.service.spec.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should handle numeric chapter numbering". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

âŽ¯âŽ¯âŽ¯âŽ¯ Unhandled Rejection âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Error: Font 'Times' in style 'bold' is not defined in the font section of the document definition.
 â¯ FontProvider.__webpack_modules__.28284.FontProvider.provideFont node_modules/pdfmake/build/pdfmake.js:31695:9
 â¯ node_modules/pdfmake/build/pdfmake.js:20470:27
 â¯ measure node_modules/pdfmake/build/pdfmake.js:20442:13
 â¯ TextTools.__webpack_modules__.11548.TextTools.buildInlines node_modules/pdfmake/build/pdfmake.js:20176:17
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureLeaf node_modules/pdfmake/build/pdfmake.js:36697:28
 â¯ node_modules/pdfmake/build/pdfmake.js:36518:30
 â¯ StyleContextStack.__webpack_modules__.76442.StyleContextStack.auto node_modules/pdfmake/build/pdfmake.js:56979:15
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureNode node_modules/pdfmake/build/pdfmake.js:36503:25
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureVerticalContainer node_modules/pdfmake/build/pdfmake.js:36751:19

This error originated in "src/app/services/publish/pdf-generator.service.spec.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should handle Roman numeral chapter numbering". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

âŽ¯âŽ¯âŽ¯âŽ¯ Unhandled Rejection âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Error: Font 'Times' in style 'bold' is not defined in the font section of the document definition.
 â¯ FontProvider.__webpack_modules__.28284.FontProvider.provideFont node_modules/pdfmake/build/pdfmake.js:31695:9
 â¯ node_modules/pdfmake/build/pdfmake.js:20470:27
 â¯ measure node_modules/pdfmake/build/pdfmake.js:20442:13
 â¯ TextTools.__webpack_modules__.11548.TextTools.buildInlines node_modules/pdfmake/build/pdfmake.js:20176:17
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureLeaf node_modules/pdfmake/build/pdfmake.js:36697:28
 â¯ node_modules/pdfmake/build/pdfmake.js:36518:30
 â¯ StyleContextStack.__webpack_modules__.76442.StyleContextStack.auto node_modules/pdfmake/build/pdfmake.js:56979:15
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureNode node_modules/pdfmake/build/pdfmake.js:36503:25
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureVerticalContainer node_modules/pdfmake/build/pdfmake.js:36751:19

This error originated in "src/app/services/publish/pdf-generator.service.spec.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should handle written chapter numbering". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

âŽ¯âŽ¯âŽ¯âŽ¯ Unhandled Rejection âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Error: Font 'Times' in style 'bold' is not defined in the font section of the document definition.
 â¯ FontProvider.__webpack_modules__.28284.FontProvider.provideFont node_modules/pdfmake/build/pdfmake.js:31695:9
 â¯ node_modules/pdfmake/build/pdfmake.js:20470:27
 â¯ measure node_modules/pdfmake/build/pdfmake.js:20442:13
 â¯ TextTools.__webpack_modules__.11548.TextTools.buildInlines node_modules/pdfmake/build/pdfmake.js:20176:17
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureLeaf node_modules/pdfmake/build/pdfmake.js:36697:28
 â¯ node_modules/pdfmake/build/pdfmake.js:36518:30
 â¯ StyleContextStack.__webpack_modules__.76442.StyleContextStack.auto node_modules/pdfmake/build/pdfmake.js:56979:15
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureNode node_modules/pdfmake/build/pdfmake.js:36503:25
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureVerticalContainer node_modules/pdfmake/build/pdfmake.js:36751:19

This error originated in "src/app/services/publish/pdf-generator.service.spec.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should convert heading nodes". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

âŽ¯âŽ¯âŽ¯âŽ¯ Unhandled Rejection âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Error: Font 'Times' in style 'bold' is not defined in the font section of the document definition.
 â¯ FontProvider.__webpack_modules__.28284.FontProvider.provideFont node_modules/pdfmake/build/pdfmake.js:31695:9
 â¯ node_modules/pdfmake/build/pdfmake.js:20470:27
 â¯ measure node_modules/pdfmake/build/pdfmake.js:20442:13
 â¯ TextTools.__webpack_modules__.11548.TextTools.buildInlines node_modules/pdfmake/build/pdfmake.js:20176:17
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureLeaf node_modules/pdfmake/build/pdfmake.js:36697:28
 â¯ node_modules/pdfmake/build/pdfmake.js:36518:30
 â¯ StyleContextStack.__webpack_modules__.76442.StyleContextStack.auto node_modules/pdfmake/build/pdfmake.js:56979:15
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureNode node_modules/pdfmake/build/pdfmake.js:36503:25
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureVerticalContainer node_modules/pdfmake/build/pdfmake.js:36751:19

This error originated in "src/app/services/publish/pdf-generator.service.spec.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should convert blockquote nodes". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

âŽ¯âŽ¯âŽ¯âŽ¯ Unhandled Rejection âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Error: Font 'Times' in style 'bold' is not defined in the font section of the document definition.
 â¯ FontProvider.__webpack_modules__.28284.FontProvider.provideFont node_modules/pdfmake/build/pdfmake.js:31695:9
 â¯ node_modules/pdfmake/build/pdfmake.js:20470:27
 â¯ measure node_modules/pdfmake/build/pdfmake.js:20442:13
 â¯ TextTools.__webpack_modules__.11548.TextTools.buildInlines node_modules/pdfmake/build/pdfmake.js:20176:17
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureLeaf node_modules/pdfmake/build/pdfmake.js:36697:28
 â¯ node_modules/pdfmake/build/pdfmake.js:36518:30
 â¯ StyleContextStack.__webpack_modules__.76442.StyleContextStack.auto node_modules/pdfmake/build/pdfmake.js:56979:15
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureNode node_modules/pdfmake/build/pdfmake.js:36503:25
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureVerticalContainer node_modules/pdfmake/build/pdfmake.js:36751:19

This error originated in "src/app/services/publish/pdf-generator.service.spec.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should convert bullet_list nodes". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

âŽ¯âŽ¯âŽ¯âŽ¯ Unhandled Rejection âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Error: Font 'Times' in style 'bold' is not defined in the font section of the document definition.
 â¯ FontProvider.__webpack_modules__.28284.FontProvider.provideFont node_modules/pdfmake/build/pdfmake.js:31695:9
 â¯ node_modules/pdfmake/build/pdfmake.js:20470:27
 â¯ measure node_modules/pdfmake/build/pdfmake.js:20442:13
 â¯ TextTools.__webpack_modules__.11548.TextTools.buildInlines node_modules/pdfmake/build/pdfmake.js:20176:17
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureLeaf node_modules/pdfmake/build/pdfmake.js:36697:28
 â¯ node_modules/pdfmake/build/pdfmake.js:36518:30
 â¯ StyleContextStack.__webpack_modules__.76442.StyleContextStack.auto node_modules/pdfmake/build/pdfmake.js:56979:15
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureNode node_modules/pdfmake/build/pdfmake.js:36503:25
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureVerticalContainer node_modules/pdfmake/build/pdfmake.js:36751:19

This error originated in "src/app/services/publish/pdf-generator.service.spec.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should convert ordered_list nodes". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

âŽ¯âŽ¯âŽ¯âŽ¯ Unhandled Rejection âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Error: Font 'Times' in style 'bold' is not defined in the font section of the document definition.
 â¯ FontProvider.__webpack_modules__.28284.FontProvider.provideFont node_modules/pdfmake/build/pdfmake.js:31695:9
 â¯ node_modules/pdfmake/build/pdfmake.js:20470:27
 â¯ measure node_modules/pdfmake/build/pdfmake.js:20442:13
 â¯ TextTools.__webpack_modules__.11548.TextTools.buildInlines node_modules/pdfmake/build/pdfmake.js:20176:17
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureLeaf node_modules/pdfmake/build/pdfmake.js:36697:28
 â¯ node_modules/pdfmake/build/pdfmake.js:36518:30
 â¯ StyleContextStack.__webpack_modules__.76442.StyleContextStack.auto node_modules/pdfmake/build/pdfmake.js:56979:15
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureNode node_modules/pdfmake/build/pdfmake.js:36503:25
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureVerticalContainer node_modules/pdfmake/build/pdfmake.js:36751:19

This error originated in "src/app/services/publish/pdf-generator.service.spec.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should convert code_block nodes". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

âŽ¯âŽ¯âŽ¯âŽ¯ Unhandled Rejection âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Error: Font 'Times' in style 'bold' is not defined in the font section of the document definition.
 â¯ FontProvider.__webpack_modules__.28284.FontProvider.provideFont node_modules/pdfmake/build/pdfmake.js:31695:9
 â¯ node_modules/pdfmake/build/pdfmake.js:20470:27
 â¯ measure node_modules/pdfmake/build/pdfmake.js:20442:13
 â¯ TextTools.__webpack_modules__.11548.TextTools.buildInlines node_modules/pdfmake/build/pdfmake.js:20176:17
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureLeaf node_modules/pdfmake/build/pdfmake.js:36697:28
 â¯ node_modules/pdfmake/build/pdfmake.js:36518:30
 â¯ StyleContextStack.__webpack_modules__.76442.StyleContextStack.auto node_modules/pdfmake/build/pdfmake.js:56979:15
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureNode node_modules/pdfmake/build/pdfmake.js:36503:25
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureVerticalContainer node_modules/pdfmake/build/pdfmake.js:36751:19

This error originated in "src/app/services/publish/pdf-generator.service.spec.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should convert hard_break nodes". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

âŽ¯âŽ¯âŽ¯âŽ¯ Unhandled Rejection âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Error: Font 'Times' in style 'bold' is not defined in the font section of the document definition.
 â¯ FontProvider.__webpack_modules__.28284.FontProvider.provideFont node_modules/pdfmake/build/pdfmake.js:31695:9
 â¯ node_modules/pdfmake/build/pdfmake.js:20470:27
 â¯ measure node_modules/pdfmake/build/pdfmake.js:20442:13
 â¯ TextTools.__webpack_modules__.11548.TextTools.buildInlines node_modules/pdfmake/build/pdfmake.js:20176:17
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureLeaf node_modules/pdfmake/build/pdfmake.js:36697:28
 â¯ node_modules/pdfmake/build/pdfmake.js:36518:30
 â¯ StyleContextStack.__webpack_modules__.76442.StyleContextStack.auto node_modules/pdfmake/build/pdfmake.js:56979:15
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureNode node_modules/pdfmake/build/pdfmake.js:36503:25
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureVerticalContainer node_modules/pdfmake/build/pdfmake.js:36751:19

This error originated in "src/app/services/publish/pdf-generator.service.spec.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should convert horizontal_rule nodes". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

âŽ¯âŽ¯âŽ¯âŽ¯ Unhandled Rejection âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Error: Font 'Times' in style 'bold' is not defined in the font section of the document definition.
 â¯ FontProvider.__webpack_modules__.28284.FontProvider.provideFont node_modules/pdfmake/build/pdfmake.js:31695:9
 â¯ node_modules/pdfmake/build/pdfmake.js:20470:27
 â¯ measure node_modules/pdfmake/build/pdfmake.js:20442:13
 â¯ TextTools.__webpack_modules__.11548.TextTools.buildInlines node_modules/pdfmake/build/pdfmake.js:20176:17
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureLeaf node_modules/pdfmake/build/pdfmake.js:36697:28
 â¯ node_modules/pdfmake/build/pdfmake.js:36518:30
 â¯ StyleContextStack.__webpack_modules__.76442.StyleContextStack.auto node_modules/pdfmake/build/pdfmake.js:56979:15
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureNode node_modules/pdfmake/build/pdfmake.js:36503:25
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureVerticalContainer node_modules/pdfmake/build/pdfmake.js:36751:19

This error originated in "src/app/services/publish/pdf-generator.service.spec.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should handle nodeName property (alternative to type)". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

âŽ¯âŽ¯âŽ¯âŽ¯ Unhandled Rejection âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Error: Font 'Times' in style 'bold' is not defined in the font section of the document definition.
 â¯ FontProvider.__webpack_modules__.28284.FontProvider.provideFont node_modules/pdfmake/build/pdfmake.js:31695:9
 â¯ node_modules/pdfmake/build/pdfmake.js:20470:27
 â¯ measure node_modules/pdfmake/build/pdfmake.js:20442:13
 â¯ TextTools.__webpack_modules__.11548.TextTools.buildInlines node_modules/pdfmake/build/pdfmake.js:20176:17
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureLeaf node_modules/pdfmake/build/pdfmake.js:36697:28
 â¯ node_modules/pdfmake/build/pdfmake.js:36518:30
 â¯ StyleContextStack.__webpack_modules__.76442.StyleContextStack.auto node_modules/pdfmake/build/pdfmake.js:56979:15
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureNode node_modules/pdfmake/build/pdfmake.js:36503:25
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureVerticalContainer node_modules/pdfmake/build/pdfmake.js:36751:19

This error originated in "src/app/services/publish/pdf-generator.service.spec.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should handle object as top-level data". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

âŽ¯âŽ¯âŽ¯âŽ¯ Unhandled Rejection âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Error: Font 'Times' in style 'bold' is not defined in the font section of the document definition.
 â¯ FontProvider.__webpack_modules__.28284.FontProvider.provideFont node_modules/pdfmake/build/pdfmake.js:31695:9
 â¯ node_modules/pdfmake/build/pdfmake.js:20470:27
 â¯ measure node_modules/pdfmake/build/pdfmake.js:20442:13
 â¯ TextTools.__webpack_modules__.11548.TextTools.buildInlines node_modules/pdfmake/build/pdfmake.js:20176:17
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureLeaf node_modules/pdfmake/build/pdfmake.js:36697:28
 â¯ node_modules/pdfmake/build/pdfmake.js:36518:30
 â¯ StyleContextStack.__webpack_modules__.76442.StyleContextStack.auto node_modules/pdfmake/build/pdfmake.js:56979:15
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureNode node_modules/pdfmake/build/pdfmake.js:36503:25
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureVerticalContainer node_modules/pdfmake/build/pdfmake.js:36751:19

This error originated in "src/app/services/publish/pdf-generator.service.spec.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should handle array of string nodes". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

âŽ¯âŽ¯âŽ¯âŽ¯ Unhandled Rejection âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Error: Font 'Times' in style 'bold' is not defined in the font section of the document definition.
 â¯ FontProvider.__webpack_modules__.28284.FontProvider.provideFont node_modules/pdfmake/build/pdfmake.js:31695:9
 â¯ node_modules/pdfmake/build/pdfmake.js:20470:27
 â¯ measure node_modules/pdfmake/build/pdfmake.js:20442:13
 â¯ TextTools.__webpack_modules__.11548.TextTools.buildInlines node_modules/pdfmake/build/pdfmake.js:20176:17
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureLeaf node_modules/pdfmake/build/pdfmake.js:36697:28
 â¯ node_modules/pdfmake/build/pdfmake.js:36518:30
 â¯ StyleContextStack.__webpack_modules__.76442.StyleContextStack.auto node_modules/pdfmake/build/pdfmake.js:56979:15
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureNode node_modules/pdfmake/build/pdfmake.js:36503:25
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureVerticalContainer node_modules/pdfmake/build/pdfmake.js:36751:19

This error originated in "src/app/services/publish/pdf-generator.service.spec.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should handle bold marks". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

âŽ¯âŽ¯âŽ¯âŽ¯ Unhandled Rejection âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Error: Font 'Times' in style 'bold' is not defined in the font section of the document definition.
 â¯ FontProvider.__webpack_modules__.28284.FontProvider.provideFont node_modules/pdfmake/build/pdfmake.js:31695:9
 â¯ node_modules/pdfmake/build/pdfmake.js:20470:27
 â¯ measure node_modules/pdfmake/build/pdfmake.js:20442:13
 â¯ TextTools.__webpack_modules__.11548.TextTools.buildInlines node_modules/pdfmake/build/pdfmake.js:20176:17
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureLeaf node_modules/pdfmake/build/pdfmake.js:36697:28
 â¯ node_modules/pdfmake/build/pdfmake.js:36518:30
 â¯ StyleContextStack.__webpack_modules__.76442.StyleContextStack.auto node_modules/pdfmake/build/pdfmake.js:56979:15
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureNode node_modules/pdfmake/build/pdfmake.js:36503:25
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureVerticalContainer node_modules/pdfmake/build/pdfmake.js:36751:19

This error originated in "src/app/services/publish/pdf-generator.service.spec.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should handle italic marks". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

âŽ¯âŽ¯âŽ¯âŽ¯ Unhandled Rejection âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Error: Font 'Times' in style 'bold' is not defined in the font section of the document definition.
 â¯ FontProvider.__webpack_modules__.28284.FontProvider.provideFont node_modules/pdfmake/build/pdfmake.js:31695:9
 â¯ node_modules/pdfmake/build/pdfmake.js:20470:27
 â¯ measure node_modules/pdfmake/build/pdfmake.js:20442:13
 â¯ TextTools.__webpack_modules__.11548.TextTools.buildInlines node_modules/pdfmake/build/pdfmake.js:20176:17
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureLeaf node_modules/pdfmake/build/pdfmake.js:36697:28
 â¯ node_modules/pdfmake/build/pdfmake.js:36518:30
 â¯ StyleContextStack.__webpack_modules__.76442.StyleContextStack.auto node_modules/pdfmake/build/pdfmake.js:56979:15
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureNode node_modules/pdfmake/build/pdfmake.js:36503:25
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureVerticalContainer node_modules/pdfmake/build/pdfmake.js:36751:19

This error originated in "src/app/services/publish/pdf-generator.service.spec.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should handle code marks". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

âŽ¯âŽ¯âŽ¯âŽ¯ Unhandled Rejection âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Error: Font 'Times' in style 'bold' is not defined in the font section of the document definition.
 â¯ FontProvider.__webpack_modules__.28284.FontProvider.provideFont node_modules/pdfmake/build/pdfmake.js:31695:9
 â¯ node_modules/pdfmake/build/pdfmake.js:20470:27
 â¯ measure node_modules/pdfmake/build/pdfmake.js:20442:13
 â¯ TextTools.__webpack_modules__.11548.TextTools.buildInlines node_modules/pdfmake/build/pdfmake.js:20176:17
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureLeaf node_modules/pdfmake/build/pdfmake.js:36697:28
 â¯ node_modules/pdfmake/build/pdfmake.js:36518:30
 â¯ StyleContextStack.__webpack_modules__.76442.StyleContextStack.auto node_modules/pdfmake/build/pdfmake.js:56979:15
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureNode node_modules/pdfmake/build/pdfmake.js:36503:25
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureVerticalContainer node_modules/pdfmake/build/pdfmake.js:36751:19

This error originated in "src/app/services/publish/pdf-generator.service.spec.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should handle strikethrough marks". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

âŽ¯âŽ¯âŽ¯âŽ¯ Unhandled Rejection âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Error: Font 'Times' in style 'bold' is not defined in the font section of the document definition.
 â¯ FontProvider.__webpack_modules__.28284.FontProvider.provideFont node_modules/pdfmake/build/pdfmake.js:31695:9
 â¯ node_modules/pdfmake/build/pdfmake.js:20470:27
 â¯ measure node_modules/pdfmake/build/pdfmake.js:20442:13
 â¯ TextTools.__webpack_modules__.11548.TextTools.buildInlines node_modules/pdfmake/build/pdfmake.js:20176:17
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureLeaf node_modules/pdfmake/build/pdfmake.js:36697:28
 â¯ node_modules/pdfmake/build/pdfmake.js:36518:30
 â¯ StyleContextStack.__webpack_modules__.76442.StyleContextStack.auto node_modules/pdfmake/build/pdfmake.js:56979:15
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureNode node_modules/pdfmake/build/pdfmake.js:36503:25
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureVerticalContainer node_modules/pdfmake/build/pdfmake.js:36751:19

This error originated in "src/app/services/publish/pdf-generator.service.spec.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should handle nested array nodes". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

âŽ¯âŽ¯âŽ¯âŽ¯ Unhandled Rejection âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Error: Font 'Times' in style 'bold' is not defined in the font section of the document definition.
 â¯ FontProvider.__webpack_modules__.28284.FontProvider.provideFont node_modules/pdfmake/build/pdfmake.js:31695:9
 â¯ node_modules/pdfmake/build/pdfmake.js:20470:27
 â¯ measure node_modules/pdfmake/build/pdfmake.js:20442:13
 â¯ TextTools.__webpack_modules__.11548.TextTools.buildInlines node_modules/pdfmake/build/pdfmake.js:20176:17
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureLeaf node_modules/pdfmake/build/pdfmake.js:36697:28
 â¯ node_modules/pdfmake/build/pdfmake.js:36518:30
 â¯ StyleContextStack.__webpack_modules__.76442.StyleContextStack.auto node_modules/pdfmake/build/pdfmake.js:56979:15
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureNode node_modules/pdfmake/build/pdfmake.js:36503:25
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureVerticalContainer node_modules/pdfmake/build/pdfmake.js:36751:19

This error originated in "src/app/services/publish/pdf-generator.service.spec.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should handle null document content". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

âŽ¯âŽ¯âŽ¯âŽ¯ Unhandled Rejection âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Error: Font 'Times' in style 'bold' is not defined in the font section of the document definition.
 â¯ FontProvider.__webpack_modules__.28284.FontProvider.provideFont node_modules/pdfmake/build/pdfmake.js:31695:9
 â¯ node_modules/pdfmake/build/pdfmake.js:20470:27
 â¯ measure node_modules/pdfmake/build/pdfmake.js:20442:13
 â¯ TextTools.__webpack_modules__.11548.TextTools.buildInlines node_modules/pdfmake/build/pdfmake.js:20176:17
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureLeaf node_modules/pdfmake/build/pdfmake.js:36697:28
 â¯ node_modules/pdfmake/build/pdfmake.js:36518:30
 â¯ StyleContextStack.__webpack_modules__.76442.StyleContextStack.auto node_modules/pdfmake/build/pdfmake.js:56979:15
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureNode node_modules/pdfmake/build/pdfmake.js:36503:25
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureVerticalContainer node_modules/pdfmake/build/pdfmake.js:36751:19

This error originated in "src/app/services/publish/pdf-generator.service.spec.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should handle document content retrieval failure". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

âŽ¯âŽ¯âŽ¯âŽ¯ Unhandled Rejection âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Error: Font 'Times' in style 'bold' is not defined in the font section of the document definition.
 â¯ FontProvider.__webpack_modules__.28284.FontProvider.provideFont node_modules/pdfmake/build/pdfmake.js:31695:9
 â¯ node_modules/pdfmake/build/pdfmake.js:20470:27
 â¯ measure node_modules/pdfmake/build/pdfmake.js:20442:13
 â¯ TextTools.__webpack_modules__.11548.TextTools.buildInlines node_modules/pdfmake/build/pdfmake.js:20176:17
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureLeaf node_modules/pdfmake/build/pdfmake.js:36697:28
 â¯ node_modules/pdfmake/build/pdfmake.js:36518:30
 â¯ StyleContextStack.__webpack_modules__.76442.StyleContextStack.auto node_modules/pdfmake/build/pdfmake.js:56979:15
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureNode node_modules/pdfmake/build/pdfmake.js:36503:25
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureVerticalContainer node_modules/pdfmake/build/pdfmake.js:36751:19

This error originated in "src/app/services/publish/pdf-generator.service.spec.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should handle title override for elements". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

âŽ¯âŽ¯âŽ¯âŽ¯ Unhandled Rejection âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Error: Font 'Times' in style 'bold' is not defined in the font section of the document definition.
 â¯ FontProvider.__webpack_modules__.28284.FontProvider.provideFont node_modules/pdfmake/build/pdfmake.js:31695:9
 â¯ node_modules/pdfmake/build/pdfmake.js:20470:27
 â¯ measure node_modules/pdfmake/build/pdfmake.js:20442:13
 â¯ TextTools.__webpack_modules__.11548.TextTools.buildInlines node_modules/pdfmake/build/pdfmake.js:20176:17
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureLeaf node_modules/pdfmake/build/pdfmake.js:36697:28
 â¯ node_modules/pdfmake/build/pdfmake.js:36518:30
 â¯ StyleContextStack.__webpack_modules__.76442.StyleContextStack.auto node_modules/pdfmake/build/pdfmake.js:56979:15
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureNode node_modules/pdfmake/build/pdfmake.js:36503:25
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureVerticalContainer node_modules/pdfmake/build/pdfmake.js:36751:19

This error originated in "src/app/services/publish/pdf-generator.service.spec.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should process folder with includeChildren". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

âŽ¯âŽ¯âŽ¯âŽ¯ Unhandled Rejection âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Error: Font 'Times' in style 'normal' is not defined in the font section of the document definition.
 â¯ FontProvider.__webpack_modules__.28284.FontProvider.provideFont node_modules/pdfmake/build/pdfmake.js:31695:9
 â¯ node_modules/pdfmake/build/pdfmake.js:20470:27
 â¯ measure node_modules/pdfmake/build/pdfmake.js:20442:13
 â¯ TextTools.__webpack_modules__.11548.TextTools.buildInlines node_modules/pdfmake/build/pdfmake.js:20176:17
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureLeaf node_modules/pdfmake/build/pdfmake.js:36697:28
 â¯ node_modules/pdfmake/build/pdfmake.js:36518:30
 â¯ StyleContextStack.__webpack_modules__.76442.StyleContextStack.auto node_modules/pdfmake/build/pdfmake.js:56979:15
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureNode node_modules/pdfmake/build/pdfmake.js:36503:25
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureVerticalContainer node_modules/pdfmake/build/pdfmake.js:36751:19

This error originated in "src/app/services/publish/pdf-generator.service.spec.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should process copyright frontmatter". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

âŽ¯âŽ¯âŽ¯âŽ¯ Unhandled Rejection âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Error: Font 'Times' in style 'italics' is not defined in the font section of the document definition.
 â¯ FontProvider.__webpack_modules__.28284.FontProvider.provideFont node_modules/pdfmake/build/pdfmake.js:31695:9
 â¯ node_modules/pdfmake/build/pdfmake.js:20470:27
 â¯ measure node_modules/pdfmake/build/pdfmake.js:20442:13
 â¯ TextTools.__webpack_modules__.11548.TextTools.buildInlines node_modules/pdfmake/build/pdfmake.js:20176:17
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureLeaf node_modules/pdfmake/build/pdfmake.js:36697:28
 â¯ node_modules/pdfmake/build/pdfmake.js:36518:30
 â¯ StyleContextStack.__webpack_modules__.76442.StyleContextStack.auto node_modules/pdfmake/build/pdfmake.js:56979:15
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureNode node_modules/pdfmake/build/pdfmake.js:36503:25
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureVerticalContainer node_modules/pdfmake/build/pdfmake.js:36751:19

This error originated in "src/app/services/publish/pdf-generator.service.spec.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should process dedication frontmatter". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

âŽ¯âŽ¯âŽ¯âŽ¯ Unhandled Rejection âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Error: Font 'Times' in style 'bold' is not defined in the font section of the document definition.
 â¯ FontProvider.__webpack_modules__.28284.FontProvider.provideFont node_modules/pdfmake/build/pdfmake.js:31695:9
 â¯ node_modules/pdfmake/build/pdfmake.js:20470:27
 â¯ measure node_modules/pdfmake/build/pdfmake.js:20442:13
 â¯ TextTools.__webpack_modules__.11548.TextTools.buildInlines node_modules/pdfmake/build/pdfmake.js:20176:17
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureLeaf node_modules/pdfmake/build/pdfmake.js:36697:28
 â¯ node_modules/pdfmake/build/pdfmake.js:36518:30
 â¯ StyleContextStack.__webpack_modules__.76442.StyleContextStack.auto node_modules/pdfmake/build/pdfmake.js:56979:15
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureNode node_modules/pdfmake/build/pdfmake.js:36503:25
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureVerticalContainer node_modules/pdfmake/build/pdfmake.js:36751:19

This error originated in "src/app/services/publish/pdf-generator.service.spec.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should process custom frontmatter". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

âŽ¯âŽ¯âŽ¯âŽ¯ Unhandled Rejection âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Error: Font 'Times' in style 'bold' is not defined in the font section of the document definition.
 â¯ FontProvider.__webpack_modules__.28284.FontProvider.provideFont node_modules/pdfmake/build/pdfmake.js:31695:9
 â¯ node_modules/pdfmake/build/pdfmake.js:20470:27
 â¯ measure node_modules/pdfmake/build/pdfmake.js:20442:13
 â¯ TextTools.__webpack_modules__.11548.TextTools.buildInlines node_modules/pdfmake/build/pdfmake.js:20176:17
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureLeaf node_modules/pdfmake/build/pdfmake.js:36697:28
 â¯ node_modules/pdfmake/build/pdfmake.js:36518:30
 â¯ StyleContextStack.__webpack_modules__.76442.StyleContextStack.auto node_modules/pdfmake/build/pdfmake.js:56979:15
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureNode node_modules/pdfmake/build/pdfmake.js:36503:25
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureVerticalContainer node_modules/pdfmake/build/pdfmake.js:36751:19

This error originated in "src/app/services/publish/pdf-generator.service.spec.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should process page break separator". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

âŽ¯âŽ¯âŽ¯âŽ¯ Unhandled Rejection âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Error: Font 'Times' in style 'bold' is not defined in the font section of the document definition.
 â¯ FontProvider.__webpack_modules__.28284.FontProvider.provideFont node_modules/pdfmake/build/pdfmake.js:31695:9
 â¯ node_modules/pdfmake/build/pdfmake.js:20470:27
 â¯ measure node_modules/pdfmake/build/pdfmake.js:20442:13
 â¯ TextTools.__webpack_modules__.11548.TextTools.buildInlines node_modules/pdfmake/build/pdfmake.js:20176:17
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureLeaf node_modules/pdfmake/build/pdfmake.js:36697:28
 â¯ node_modules/pdfmake/build/pdfmake.js:36518:30
 â¯ StyleContextStack.__webpack_modules__.76442.StyleContextStack.auto node_modules/pdfmake/build/pdfmake.js:56979:15
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureNode node_modules/pdfmake/build/pdfmake.js:36503:25
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureVerticalContainer node_modules/pdfmake/build/pdfmake.js:36751:19

This error originated in "src/app/services/publish/pdf-generator.service.spec.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should process chapter break separator". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

âŽ¯âŽ¯âŽ¯âŽ¯ Unhandled Rejection âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Error: Font 'Times' in style 'bold' is not defined in the font section of the document definition.
 â¯ FontProvider.__webpack_modules__.28284.FontProvider.provideFont node_modules/pdfmake/build/pdfmake.js:31695:9
 â¯ node_modules/pdfmake/build/pdfmake.js:20470:27
 â¯ measure node_modules/pdfmake/build/pdfmake.js:20442:13
 â¯ TextTools.__webpack_modules__.11548.TextTools.buildInlines node_modules/pdfmake/build/pdfmake.js:20176:17
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureLeaf node_modules/pdfmake/build/pdfmake.js:36697:28
 â¯ node_modules/pdfmake/build/pdfmake.js:36518:30
 â¯ StyleContextStack.__webpack_modules__.76442.StyleContextStack.auto node_modules/pdfmake/build/pdfmake.js:56979:15
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureNode node_modules/pdfmake/build/pdfmake.js:36503:25
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureVerticalContainer node_modules/pdfmake/build/pdfmake.js:36751:19

This error originated in "src/app/services/publish/pdf-generator.service.spec.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should include subtitle when available". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

âŽ¯âŽ¯âŽ¯âŽ¯ Unhandled Rejection âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Error: Font 'Times' in style 'bold' is not defined in the font section of the document definition.
 â¯ FontProvider.__webpack_modules__.28284.FontProvider.provideFont node_modules/pdfmake/build/pdfmake.js:31695:9
 â¯ node_modules/pdfmake/build/pdfmake.js:20470:27
 â¯ measure node_modules/pdfmake/build/pdfmake.js:20442:13
 â¯ TextTools.__webpack_modules__.11548.TextTools.buildInlines node_modules/pdfmake/build/pdfmake.js:20176:17
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureLeaf node_modules/pdfmake/build/pdfmake.js:36697:28
 â¯ node_modules/pdfmake/build/pdfmake.js:36518:30
 â¯ StyleContextStack.__webpack_modules__.76442.StyleContextStack.auto node_modules/pdfmake/build/pdfmake.js:56979:15
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureNode node_modules/pdfmake/build/pdfmake.js:36503:25
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureVerticalContainer node_modules/pdfmake/build/pdfmake.js:36751:19

This error originated in "src/app/services/publish/pdf-generator.service.spec.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should include description when available". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

âŽ¯âŽ¯âŽ¯âŽ¯ Unhandled Rejection âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Error: Font 'Times' in style 'bold' is not defined in the font section of the document definition.
 â¯ FontProvider.__webpack_modules__.28284.FontProvider.provideFont node_modules/pdfmake/build/pdfmake.js:31695:9
 â¯ node_modules/pdfmake/build/pdfmake.js:20470:27
 â¯ measure node_modules/pdfmake/build/pdfmake.js:20442:13
 â¯ TextTools.__webpack_modules__.11548.TextTools.buildInlines node_modules/pdfmake/build/pdfmake.js:20176:17
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureLeaf node_modules/pdfmake/build/pdfmake.js:36697:28
 â¯ node_modules/pdfmake/build/pdfmake.js:36518:30
 â¯ StyleContextStack.__webpack_modules__.76442.StyleContextStack.auto node_modules/pdfmake/build/pdfmake.js:56979:15
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureNode node_modules/pdfmake/build/pdfmake.js:36503:25
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureVerticalContainer node_modules/pdfmake/build/pdfmake.js:36751:19

This error originated in "src/app/services/publish/pdf-generator.service.spec.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should include publisher and ISBN". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

âŽ¯âŽ¯âŽ¯âŽ¯ Unhandled Rejection âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
Error: Font 'Times' in style 'bold' is not defined in the font section of the document definition.
 â¯ FontProvider.__webpack_modules__.28284.FontProvider.provideFont node_modules/pdfmake/build/pdfmake.js:31695:9
 â¯ node_modules/pdfmake/build/pdfmake.js:20470:27
 â¯ measure node_modules/pdfmake/build/pdfmake.js:20442:13
 â¯ TextTools.__webpack_modules__.11548.TextTools.buildInlines node_modules/pdfmake/build/pdfmake.js:20176:17
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureLeaf node_modules/pdfmake/build/pdfmake.js:36697:28
 â¯ node_modules/pdfmake/build/pdfmake.js:36518:30
 â¯ StyleContextStack.__webpack_modules__.76442.StyleContextStack.auto node_modules/pdfmake/build/pdfmake.js:56979:15
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureNode node_modules/pdfmake/build/pdfmake.js:36503:25
 â¯ DocMeasure.__webpack_modules__.42526.DocMeasure.measureVerticalContainer node_modules/pdfmake/build/pdfmake.js:36751:19

This error originated in "src/app/services/publish/pdf-generator.service.spec.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should include cover when blob is available". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.
âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m106 passed[39m[22m[90m (107)[39m
[2m      Tests [22m [1m[31m43 failed[39m[22m[2m | [22m[1m[32m1791 passed[39m[22m[2m | [22m[33m21 skipped[39m[90m (1855)[39m
[2m     Errors [22m [1m[31m43 errors[39m[22m
[2m   Start at [22m 01:05:37
[2m   Duration [22m 234.74s[2m (transform 8.40s, setup 20.41s, collect 62.21s, tests 363.40s, environment 264.48s, prepare 2.16s)[22m

