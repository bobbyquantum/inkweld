<!-- Version Compatibility Warning Bar -->
@if (versionCompatibility.syncBlocked()) {
  <mat-toolbar class="version-warning-bar" color="warn">
    <span>{{ versionCompatibility.syncBlockedMessage() }}</span>
    <div class="version-warning-actions">
      @if (updateService.updateAvailable()) {
        <button
          mat-raised-button
          color="primary"
          (click)="updateService.applyUpdate()">
          Update Now
        </button>
      } @else {
        <button mat-button (click)="refreshPage()">Refresh</button>
      }
    </div>
  </mat-toolbar>
}

<!-- Authentication Error Bar -->
@if (shouldShowErrorBar()) {
  <mat-toolbar class="auth-error-bar" color="warn">
    <span
      >Your session has expired. Please re-authenticate or continue
      offline.</span
    >
    <div class="auth-error-actions">
      <button mat-button (click)="handleReAuthenticate()">
        Re-authenticate
      </button>
      <button mat-button (click)="handleContinueOffline()">
        Continue Offline
      </button>
    </div>
  </mat-toolbar>
}

<router-outlet />
