# InkWeld Server Environment Configuration
# Copy this file to .env and update the values as needed

#############################################
# Server Configuration
#############################################

# Server port (default: 8333)
PORT=8333

# Server host (default: 0.0.0.0)
HOST=0.0.0.0

# Public URL where the app will be accessible
PUBLIC_URL=http://localhost:8333

# Client URL (usually same as PUBLIC_URL)
CLIENT_URL=http://localhost:8333

# Comma-separated list of allowed CORS origins
ALLOWED_ORIGINS=http://localhost:4200,http://localhost:8333

# Node.js environment (development/production)
NODE_ENV=development

# Application version (set automatically in CI/CD)
INKWELD_VERSION=1.0.0

#############################################
# Database Configuration
#############################################

# Database type: postgres or sqlite (default: postgres)
DB_TYPE=postgres

# PostgreSQL Configuration (used when DB_TYPE=postgres)
DB_HOST=localhost
DB_PORT=5432
DB_USERNAME=user
DB_PASSWORD=secret
DB_NAME=db

# Alternative: Use DATABASE_URL instead of individual DB_* variables
# DATABASE_URL=postgresql://user:secret@localhost:5432/db

# SQLite Configuration (used when DB_TYPE=sqlite)
DB_PATH=./sqlite.db

# Enable database query logging (default: false)
DB_LOGGING=false

#############################################
# Data Storage
#############################################

# Base path for project data storage (default: ./data)
DATA_PATH=./data

#############################################
# Authentication & Security
#############################################

# Secret key for session cookies (IMPORTANT: Change this in production!)
SESSION_SECRET=your-super-secret-session-key-change-this-in-production

# Enable local user authentication (default: true)
LOCAL_USERS_ENABLED=true

# Require admin approval for new user registrations (default: true)
USER_APPROVAL_REQUIRED=true

# Cookie domain (optional, for production deployments)
# COOKIE_DOMAIN=your-domain.com

#############################################
# GitHub OAuth Configuration
#############################################

# Enable GitHub authentication (default: false)
GITHUB_ENABLED=false

# GitHub OAuth credentials (required if GITHUB_ENABLED=true)
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret

# GitHub OAuth callback URL (optional, auto-generated if not set)
# GITHUB_CALLBACK_URL=http://localhost:8333/auth/github/callback

#############################################
# ReCAPTCHA Configuration
#############################################

# Enable reCAPTCHA for registration (default: false)
RECAPTCHA_ENABLED=false

# reCAPTCHA site key (public key, required if RECAPTCHA_ENABLED=true)
RECAPTCHA_SITE_KEY=your-recaptcha-site-key

# reCAPTCHA secret key (private key, required if RECAPTCHA_ENABLED=true)
RECAPTCHA_SECRET_KEY=your-recaptcha-secret-key

#############################################
# AI Features (Optional)
#############################################

# OpenAI API key for AI features (optional)
# If not set, AI features (linting, image generation) will be disabled
OPENAI_API_KEY=your-openai-api-key

#############################################
# Yjs Real-time Collaboration (Advanced)
#############################################

# Callback URL for Yjs updates (optional)
# CALLBACK_URL=http://localhost:8333/yjs-callback

# Callback timeout in milliseconds (default: 5000)
# CALLBACK_TIMEOUT=5000

# Callback debounce wait time in milliseconds (default: 2000)
# CALLBACK_DEBOUNCE_WAIT=2000

# Callback debounce max wait time in milliseconds (default: 10000)
# CALLBACK_DEBOUNCE_MAXWAIT=10000

# Callback objects configuration (JSON string, optional)
# CALLBACK_OBJECTS={"users":"ws://localhost:1234","awareness":"ws://localhost:1235"}

# Enable garbage collection for Yjs documents (default: true)
# Set to 'false' or '0' to disable
# GC=true

#############################################
# Deployment Configuration (for Docker/CI)
#############################################

# GitHub repository owner (required for deployment)
# GITHUB_REPOSITORY_OWNER=your-github-username

# Docker image tag (default: latest)
# IMAGE_TAG=latest 